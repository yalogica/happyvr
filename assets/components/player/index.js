!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).YalogicaHappyVRPlayer={})}(this,function(e){"use strict";function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var n,r,i={exports:{}},o={};var a,s,l=(r||(r=1,i.exports=function(){if(n)return o;n=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(t,n,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==n.key&&(i=""+n.key),"key"in n)for(var o in r={},n)"key"!==o&&(r[o]=n[o]);else r=n;return n=r.ref,{$$typeof:e,type:t,key:i,ref:void 0!==n?n:null,props:r}}return o.Fragment=t,o.jsx=r,o.jsxs=r,o}()),i.exports),u={exports:{}},c={};function h(){if(a)return c;a=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),d=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function b(){}function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var w=_.prototype=new b;w.constructor=_,v(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray;function S(){}var E={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function T(t,n,r){var i=r.ref;return{$$typeof:e,type:t,key:n,ref:void 0!==i?i:null,props:r}}function L(t){return"object"==typeof t&&null!==t&&t.$$typeof===e}var C=/\/+/g;function M(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function A(n,r,i,o,a){var s=typeof n;"undefined"!==s&&"boolean"!==s||(n=null);var l,u,c=!1;if(null===n)c=!0;else switch(s){case"bigint":case"string":case"number":c=!0;break;case"object":switch(n.$$typeof){case e:case t:c=!0;break;case p:return A((c=n._init)(n._payload),r,i,o,a)}}if(c)return a=a(n),c=""===o?"."+M(n,0):o,x(a)?(i="",null!=c&&(i=c.replace(C,"$&/")+"/"),A(a,r,i,"",function(e){return e})):null!=a&&(L(a)&&(l=a,u=i+(null==a.key||n&&n.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+c,a=T(l.type,u,l.props)),r.push(a)),1;c=0;var h,f=""===o?".":o+":";if(x(n))for(var m=0;m<n.length;m++)c+=A(o=n[m],r,i,s=f+M(o,m),a);else if("function"==typeof(m=null===(h=n)||"object"!=typeof h?null:"function"==typeof(h=d&&h[d]||h["@@iterator"])?h:null))for(n=m.call(n),m=0;!(o=n.next()).done;)c+=A(o=o.value,r,i,s=f+M(o,m++),a);else if("object"===s){if("function"==typeof n.then)return A(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(S,S):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(n),r,i,o,a);throw r=String(n),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(n).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.")}return c}function R(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",function(e){return t.call(n,e,i++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var z="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},I={map:R,forEach:function(e,t,n){R(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!L(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};return c.Activity=f,c.Children=I,c.Component=y,c.Fragment=n,c.Profiler=i,c.PureComponent=_,c.StrictMode=r,c.Suspense=u,c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,c.__COMPILER_RUNTIME={__proto__:null,c:function(e){return E.H.useMemoCache(e)}},c.cache=function(e){return function(){return e.apply(null,arguments)}},c.cacheSignal=function(){return null},c.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=v({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.key&&(i=""+t.key),t)!k.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var a=Array(o),s=0;s<o;s++)a[s]=arguments[s+2];r.children=a}return T(e.type,i,r)},c.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},c.createElement=function(e,t,n){var r,i={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)k.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return T(e,o,i)},c.createRef=function(){return{current:null}},c.forwardRef=function(e){return{$$typeof:l,render:e}},c.isValidElement=L,c.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:P}},c.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},c.startTransition=function(e){var t=E.T,n={};E.T=n;try{var r=e(),i=E.S;null!==i&&i(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(S,z)}catch(o){z(o)}finally{null!==t&&null!==n.types&&(t.types=n.types),E.T=t}},c.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},c.use=function(e){return E.H.use(e)},c.useActionState=function(e,t,n){return E.H.useActionState(e,t,n)},c.useCallback=function(e,t){return E.H.useCallback(e,t)},c.useContext=function(e){return E.H.useContext(e)},c.useDebugValue=function(){},c.useDeferredValue=function(e,t){return E.H.useDeferredValue(e,t)},c.useEffect=function(e,t){return E.H.useEffect(e,t)},c.useEffectEvent=function(e){return E.H.useEffectEvent(e)},c.useId=function(){return E.H.useId()},c.useImperativeHandle=function(e,t,n){return E.H.useImperativeHandle(e,t,n)},c.useInsertionEffect=function(e,t){return E.H.useInsertionEffect(e,t)},c.useLayoutEffect=function(e,t){return E.H.useLayoutEffect(e,t)},c.useMemo=function(e,t){return E.H.useMemo(e,t)},c.useOptimistic=function(e,t){return E.H.useOptimistic(e,t)},c.useReducer=function(e,t,n){return E.H.useReducer(e,t,n)},c.useRef=function(e){return E.H.useRef(e)},c.useState=function(e){return E.H.useState(e)},c.useSyncExternalStore=function(e,t,n){return E.H.useSyncExternalStore(e,t,n)},c.useTransition=function(){return E.H.useTransition()},c.version="19.2.0",c}function p(){return s||(s=1,u.exports=h()),u.exports}var f=p();const d=t(f);var m,v,g={exports:{}},y={};function b(){if(m)return y;m=1;var e=p();function t(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}return y.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,y.createPortal=function(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!n||1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType)throw Error(t(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:i,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,n,null,r)},y.flushSync=function(e){var t=o.T,n=r.p;try{if(o.T=null,r.p=2,e)return e()}finally{o.T=t,r.p=n,r.d.f()}},y.preconnect=function(e,t){"string"==typeof e&&(t?t="string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,r.d.C(e,t))},y.prefetchDNS=function(e){"string"==typeof e&&r.d.D(e)},y.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,i=a(n,t.crossOrigin),o="string"==typeof t.integrity?t.integrity:void 0,s="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?r.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:o,fetchPriority:s}):"script"===n&&r.d.X(e,{crossOrigin:i,integrity:o,fetchPriority:s,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},y.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=a(t.as,t.crossOrigin);r.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&r.d.M(e)},y.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,i=a(n,t.crossOrigin);r.d.L(e,n,{crossOrigin:i,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},y.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=a(t.as,t.crossOrigin);r.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else r.d.m(e)},y.requestFormReset=function(e){r.d.r(e)},y.unstable_batchedUpdates=function(e,t){return e(t)},y.useFormState=function(e,t,n){return o.H.useFormState(e,t,n)},y.useFormStatus=function(){return o.H.useHostTransitionStatus()},y.version="19.2.0",y}const _=t((v||(v=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),g.exports=b()),g.exports));function w(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var x,S,E,k,T={exports:{}},L={},C={exports:{}},M={};function A(){return S||(S=1,C.exports=(x||(x=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>i(l,n))u<o&&0>i(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<o&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,h=null,p=3,f=!1,d=!1,m=!1,v=!1,g="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function _(e){for(var i=n(u);null!==i;){if(null===i.callback)r(u);else{if(!(i.startTime<=e))break;r(u),i.sortIndex=i.expirationTime,t(l,i)}i=n(u)}}function w(e){if(m=!1,_(e),!d)if(null!==n(l))d=!0,S||(S=!0,x());else{var t=n(u);null!==t&&R(w,t.startTime-e)}}var x,S=!1,E=-1,k=5,T=-1;function L(){return!(!v&&e.unstable_now()-T<k)}function C(){if(v=!1,S){var t=e.unstable_now();T=t;var i=!0;try{e:{d=!1,m&&(m=!1,y(E),E=-1),f=!0;var o=p;try{t:{for(_(t),h=n(l);null!==h&&!(h.expirationTime>t&&L());){var a=h.callback;if("function"==typeof a){h.callback=null,p=h.priorityLevel;var s=a(h.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof s){h.callback=s,_(t),i=!0;break t}h===n(l)&&r(l),_(t)}else r(l);h=n(l)}if(null!==h)i=!0;else{var c=n(u);null!==c&&R(w,c.startTime-t),i=!1}}break e}finally{h=null,p=o,f=!1}i=void 0}}finally{i?x():S=!1}}}if("function"==typeof b)x=function(){b(C)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,A=M.port2;M.port1.onmessage=C,x=function(){A.postMessage(null)}}else x=function(){g(C,0)};function R(t,n){E=g(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},e.unstable_requestPaint=function(){v=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},e.unstable_scheduleCallback=function(r,i,o){var a=e.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return r={id:c++,callback:i,priorityLevel:r,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(r.sortIndex=o,t(u,r),null===n(l)&&r===n(u)&&(m?(y(E),E=-1):m=!0,R(w,o-a))):(r.sortIndex=s,t(l,r),d||f||(d=!0,S||(S=!0,x()))),r},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}}(M)),M)),C.exports}function R(){if(E)return L;E=1;var e=A(),t=d,n=_;function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function a(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function s(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function l(e){if(o(e)!==e)throw Error(r(188))}function u(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=u(e)))return t;e=e.sibling}return null}var c=Object.assign,h=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),y=Symbol.for("react.consumer"),b=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function P(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=R&&e[R]||e["@@iterator"])?e:null}var z=Symbol.for("react.client.reference");function I(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===z?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case m:return"Fragment";case g:return"Profiler";case v:return"StrictMode";case x:return"Suspense";case S:return"SuspenseList";case C:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case f:return"Portal";case b:return e.displayName||"Context";case y:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case k:return null!==(t=e.displayName||null)?t:I(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return I(e(t))}catch{}}return null}var N=Array.isArray,D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},B=[],H=-1;function V(e){return{current:e}}function j(e){0>H||(e.current=B[H],B[H]=null,H--)}function U(e,t){H++,B[H]=e.current,e.current=t}var $,q,W=V(null),Y=V(null),X=V(null),G=V(null);function Q(e,t){switch(U(X,t),U(Y,e),U(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?_h(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=wh(t=_h(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}j(W),U(W,e)}function K(){j(W),j(Y),j(X)}function Z(e){null!==e.memoizedState&&U(G,e);var t=W.current,n=wh(t,e.type);t!==n&&(U(Y,e),U(W,n))}function J(e){Y.current===e&&(j(W),j(Y)),G.current===e&&(j(G),fp._currentValue=F)}function ee(e){if(void 0===$)try{throw Error()}catch(Wf){var t=Wf.stack.trim().match(/\n( *(at )?)/);$=t&&t[1]||"",q=-1<Wf.stack.indexOf("\n    at")?" (<anonymous>)":-1<Wf.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+$+e+q}var te=!1;function ne(e,t){if(!e||te)return"";te=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(i){if(i&&r&&"string"==typeof i.stack)return[i.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),a=o[0],s=o[1];if(a&&s){var l=a.split("\n"),u=s.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==u[i]){var c="\n"+l[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=i);break}}}finally{te=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ee(n):""}function re(e,t){switch(e.tag){case 26:case 27:case 5:return ee(e.type);case 16:return ee("Lazy");case 13:return e.child!==t&&null!==t?ee("Suspense Fallback"):ee("Suspense");case 19:return ee("SuspenseList");case 0:case 15:return ne(e.type,!1);case 11:return ne(e.type.render,!1);case 1:return ne(e.type,!0);case 31:return ee("Activity");default:return""}}function ie(e){try{var t="",n=null;do{t+=re(e,n),n=e,e=e.return}while(e);return t}catch(Uf){return"\nError generating stack: "+Uf.message+"\n"+Uf.stack}}var oe=Object.prototype.hasOwnProperty,ae=e.unstable_scheduleCallback,se=e.unstable_cancelCallback,le=e.unstable_shouldYield,ue=e.unstable_requestPaint,ce=e.unstable_now,he=e.unstable_getCurrentPriorityLevel,pe=e.unstable_ImmediatePriority,fe=e.unstable_UserBlockingPriority,de=e.unstable_NormalPriority,me=e.unstable_LowPriority,ve=e.unstable_IdlePriority,ge=e.log,ye=e.unstable_setDisableYieldValue,be=null,_e=null;function we(e){if("function"==typeof ge&&ye(e),_e&&"function"==typeof _e.setStrictMode)try{_e.setStrictMode(be,e)}catch{}}var xe=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(Se(e)/Ee|0)|0},Se=Math.log,Ee=Math.LN2;var ke=256,Te=262144,Le=4194304;function Ce(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Me(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,o=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~o)?i=Ce(r):0!==(a&=s)?i=Ce(a):n||0!==(n=s&~e)&&(i=Ce(n)):0!==(s=r&~o)?i=Ce(s):0!==a?i=Ce(a):n||0!==(n=r&~e)&&(i=Ce(n)),0===i?0:0!==t&&t!==i&&0===(t&o)&&((o=i&-i)>=(n=t&-t)||32===o&&4194048&n)?t:i}function Ae(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Re(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Pe(){var e=Le;return!(62914560&(Le<<=1))&&(Le=4194304),e}function ze(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ie(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ne(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-xe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function De(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Oe(e,t){var n=t&-t;return 0!==((n=42&n?1:Fe(n))&(e.suspendedLanes|t))?0:n}function Fe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Be(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function He(){var e=O.p;return 0!==e?e:void 0===(e=window.event)?32:Rp(e.type)}function Ve(e,t){var n=O.p;try{return O.p=e,t()}finally{O.p=n}}var je=Math.random().toString(36).slice(2),Ue="__reactFiber$"+je,$e="__reactProps$"+je,qe="__reactContainer$"+je,We="__reactEvents$"+je,Ye="__reactListeners$"+je,Xe="__reactHandles$"+je,Ge="__reactResources$"+je,Qe="__reactMarker$"+je;function Ke(e){delete e[Ue],delete e[$e],delete e[We],delete e[Ye],delete e[Xe]}function Ze(e){var t=e[Ue];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qe]||n[Ue]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Bh(e);null!==e;){if(n=e[Ue])return n;e=Bh(e)}return t}n=(e=n).parentNode}return null}function Je(e){if(e=e[Ue]||e[qe]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function et(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(r(33))}function tt(e){var t=e[Ge];return t||(t=e[Ge]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function nt(e){e[Qe]=!0}var rt=new Set,it={};function ot(e,t){at(e,t),at(e+"Capture",t)}function at(e,t){for(it[e]=t,e=0;e<t.length;e++)rt.add(t[e])}var st=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lt={},ut={};function ct(e,t,n){if(function(e){return!!oe.call(ut,e)||!oe.call(lt,e)&&(st.test(e)?ut[e]=!0:(lt[e]=!0,!1))}(t))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ht(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function pt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ft(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function mt(e){if(!e._valueTracker){var t=dt(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&"function"==typeof r.get&&"function"==typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function vt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function gt(e){if(typeof(e=e||(typeof document<"u"?document:void 0))>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var yt=/[\n"\\]/g;function bt(e){return e.replace(yt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function _t(e,t,n,r,i,o,a,s){e.name="",null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ft(t)):e.value!==""+ft(t)&&(e.value=""+ft(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?xt(e,a,ft(t)):null!=n?xt(e,a,ft(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!=typeof i&&"symbol"!=typeof i),null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s?e.name=""+ft(s):e.removeAttribute("name")}function wt(e,t,n,r,i,o,a,s){if(null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o&&(e.type=o),null!=t||null!=n){if(("submit"===o||"reset"===o)&&null==t)return void mt(e);n=null!=n?""+ft(n):"",t=null!=t?""+ft(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=r??i)&&"symbol"!=typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.name=a),mt(e)}function xt(e,t,n){"number"===t&&gt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function St(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ft(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Et(e,t,n){null==t||((t=""+ft(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ft(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function kt(e,t,n,i){if(null==t){if(null!=i){if(null!=n)throw Error(r(92));if(N(i)){if(1<i.length)throw Error(r(93));i=i[0]}n=i}null==n&&(n=""),t=n}n=ft(t),e.defaultValue=n,(i=e.textContent)===n&&""!==i&&null!==i&&(e.value=i),mt(e)}function Tt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Lt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||Lt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Mt(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(r(62));if(e=e.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var o in t)i=t[o],t.hasOwnProperty(o)&&n[o]!==i&&Ct(e,o,i)}else for(var a in t)t.hasOwnProperty(a)&&Ct(e,a,t[a])}function At(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zt(e){return Pt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function It(){}var Nt=null;function Dt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,Ft=null;function Bt(e){var t=Je(e);if(t&&(e=t.stateNode)){var n=e[$e]||null;e:switch(e=t.stateNode,t.type){case"input":if(_t(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+bt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=i[$e]||null;if(!o)throw Error(r(90));_t(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)(i=n[t]).form===e.form&&vt(i)}break e;case"textarea":Et(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&St(e,!!n.multiple,t,!1)}}}var Ht=!1;function Vt(e,t,n){if(Ht)return e(t,n);Ht=!0;try{return e(t)}finally{if(Ht=!1,(null!==Ot||null!==Ft)&&(nc(),Ot&&(t=Ot,e=Ft,Ft=Ot=null,Bt(t),e)))for(t=0;t<e.length;t++)Bt(e[t])}}function jt(e,t){var n=e.stateNode;if(null===n)return null;var i=n[$e]||null;if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var Ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$t=!1;if(Ut)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){$t=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch{$t=!1}var Wt=null,Yt=null,Xt=null;function Gt(){if(Xt)return Xt;var e,t,n=Yt,r=n.length,i="value"in Wt?Wt.value:Wt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function Qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Zt(){return!1}function Jt(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Kt:Zt,this.isPropagationStopped=Zt,this}return c(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var en,tn,nn,rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},on=Jt(rn),an=c({},rn,{view:0,detail:0}),sn=Jt(an),ln=c({},an,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nn&&(nn&&"mousemove"===e.type?(en=e.screenX-nn.screenX,tn=e.screenY-nn.screenY):tn=en=0,nn=e),en)},movementY:function(e){return"movementY"in e?e.movementY:tn}}),un=Jt(ln),cn=Jt(c({},ln,{dataTransfer:0})),hn=Jt(c({},an,{relatedTarget:0})),pn=Jt(c({},rn,{animationName:0,elapsedTime:0,pseudoElement:0})),fn=Jt(c({},rn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dn=Jt(c({},rn,{data:0})),mn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=gn[e])&&!!t[e]}function bn(){return yn}var _n=c({},an,{key:function(e){if(e.key){var t=mn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?vn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bn,charCode:function(e){return"keypress"===e.type?Qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),wn=Jt(_n),xn=Jt(c({},ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Sn=Jt(c({},an,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bn})),En=Jt(c({},rn,{propertyName:0,elapsedTime:0,pseudoElement:0})),kn=Jt(c({},ln,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Tn=Jt(c({},rn,{newState:0,oldState:0})),Ln=[9,13,27,32],Cn=Ut&&"CompositionEvent"in window,Mn=null;Ut&&"documentMode"in document&&(Mn=document.documentMode);var An=Ut&&"TextEvent"in window&&!Mn,Rn=Ut&&(!Cn||Mn&&8<Mn&&11>=Mn),Pn=" ",zn=!1;function In(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Dn=!1;var On={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!On[e.type]:"textarea"===t}function Bn(e,t,n,r){Ot?Ft?Ft.push(r):Ft=[r]:Ot=r,0<(t=ah(t,"onChange")).length&&(n=new on("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Vn=null;function jn(e){Zc(e,0)}function Un(e){if(vt(et(e)))return e}function $n(e,t){if("change"===e)return t}var qn=!1;if(Ut){var Wn;if(Ut){var Yn="oninput"in document;if(!Yn){var Xn=document.createElement("div");Xn.setAttribute("oninput","return;"),Yn="function"==typeof Xn.oninput}Wn=Yn}else Wn=!1;qn=Wn&&(!document.documentMode||9<document.documentMode)}function Gn(){Hn&&(Hn.detachEvent("onpropertychange",Qn),Vn=Hn=null)}function Qn(e){if("value"===e.propertyName&&Un(Vn)){var t=[];Bn(t,Vn,e,Dt(e)),Vt(jn,t)}}function Kn(e,t,n){"focusin"===e?(Gn(),Vn=n,(Hn=t).attachEvent("onpropertychange",Qn)):"focusout"===e&&Gn()}function Zn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Un(Vn)}function Jn(e,t){if("click"===e)return Un(t)}function er(e,t){if("input"===e||"change"===e)return Un(t)}var tr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function nr(e,t){if(tr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!oe.call(t,i)||!tr(e[i],t[i]))return!1}return!0}function rr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ir(e,t){var n,r=rr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=rr(r)}}function or(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?or(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ar(e){for(var t=gt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch{n=!1}if(!n)break;t=gt((e=t.contentWindow).document)}return t}function sr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var lr=Ut&&"documentMode"in document&&11>=document.documentMode,ur=null,cr=null,hr=null,pr=!1;function fr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;pr||null==ur||ur!==gt(r)||("selectionStart"in(r=ur)&&sr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},hr&&nr(hr,r)||(hr=r,0<(r=ah(cr,"onSelect")).length&&(t=new on("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ur)))}function dr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var mr={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},vr={},gr={};function yr(e){if(vr[e])return vr[e];if(!mr[e])return e;var t,n=mr[e];for(t in n)if(n.hasOwnProperty(t)&&t in gr)return vr[e]=n[t];return e}Ut&&(gr=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);var br=yr("animationend"),_r=yr("animationiteration"),wr=yr("animationstart"),xr=yr("transitionrun"),Sr=yr("transitionstart"),Er=yr("transitioncancel"),kr=yr("transitionend"),Tr=new Map,Lr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(e,t){Tr.set(e,t),ot(t,[e])}Lr.push("scrollEnd");var Mr="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Ar=[],Rr=0,Pr=0;function zr(){for(var e=Rr,t=Pr=Rr=0;t<e;){var n=Ar[t];Ar[t++]=null;var r=Ar[t];Ar[t++]=null;var i=Ar[t];Ar[t++]=null;var o=Ar[t];if(Ar[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==o&&Or(n,i,o)}}function Ir(e,t,n,r){Ar[Rr++]=e,Ar[Rr++]=t,Ar[Rr++]=n,Ar[Rr++]=r,Pr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Nr(e,t,n,r){return Ir(e,t,n,r),Fr(e)}function Dr(e,t){return Ir(e,null,null,t),Fr(e)}function Or(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,i&&null!==t&&(i=31-xe(n),null===(r=(e=o.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),o):null}function Fr(e){if(50<Yu)throw Yu=0,Xu=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Br={};function Hr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(e,t,n,r){return new Hr(e,t,n,r)}function jr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ur(e,t){var n=e.alternate;return null===n?((n=Vr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function $r(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qr(e,t,n,i,o,a){var s=0;if(i=e,"function"==typeof e)jr(e)&&(s=1);else if("string"==typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,W.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Vr(31,n,t,o)).elementType=C,e.lanes=a,e;case m:return Wr(n.children,o,a,t);case v:s=8,o|=24;break;case g:return(e=Vr(12,n,t,2|o)).elementType=g,e.lanes=a,e;case x:return(e=Vr(13,n,t,o)).elementType=x,e.lanes=a,e;case S:return(e=Vr(19,n,t,o)).elementType=S,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case b:s=10;break e;case y:s=9;break e;case w:s=11;break e;case k:s=14;break e;case T:s=16,i=null;break e}s=29,n=Error(r(130,null===e?"null":typeof e,"")),i=null}return(t=Vr(s,n,t,o)).elementType=e,t.type=i,t.lanes=a,t}function Wr(e,t,n,r){return(e=Vr(7,e,r,t)).lanes=n,e}function Yr(e,t,n){return(e=Vr(6,e,null,t)).lanes=n,e}function Xr(e){var t=Vr(18,null,null,0);return t.stateNode=e,t}function Gr(e,t,n){return(t=Vr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Qr=new WeakMap;function Kr(e,t){if("object"==typeof e&&null!==e){var n=Qr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ie(t)},Qr.set(e,t),t)}return{value:e,source:t,stack:ie(t)}}var Zr=[],Jr=0,ei=null,ti=0,ni=[],ri=0,ii=null,oi=1,ai="";function si(e,t){Zr[Jr++]=ti,Zr[Jr++]=ei,ei=e,ti=t}function li(e,t,n){ni[ri++]=oi,ni[ri++]=ai,ni[ri++]=ii,ii=e;var r=oi;e=ai;var i=32-xe(r)-1;r&=~(1<<i),n+=1;var o=32-xe(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,oi=1<<32-xe(t)+i|n<<i|r,ai=o+e}else oi=1<<o|n<<i|r,ai=e}function ui(e){null!==e.return&&(si(e,1),li(e,1,0))}function ci(e){for(;e===ei;)ei=Zr[--Jr],Zr[Jr]=null,ti=Zr[--Jr],Zr[Jr]=null;for(;e===ii;)ii=ni[--ri],ni[ri]=null,ai=ni[--ri],ni[ri]=null,oi=ni[--ri],ni[ri]=null}function hi(e,t){ni[ri++]=oi,ni[ri++]=ai,ni[ri++]=ii,oi=t.id,ai=t.overflow,ii=e}var pi=null,fi=null,di=!1,mi=null,vi=!1,gi=Error(r(519));function yi(e){throw Ei(Kr(Error(r(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),gi}function bi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ue]=e,t[$e]=r,n){case"dialog":Jc("cancel",t),Jc("close",t);break;case"iframe":case"object":case"embed":Jc("load",t);break;case"video":case"audio":for(n=0;n<Qc.length;n++)Jc(Qc[n],t);break;case"source":Jc("error",t);break;case"img":case"image":case"link":Jc("error",t),Jc("load",t);break;case"details":Jc("toggle",t);break;case"input":Jc("invalid",t),wt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Jc("invalid",t);break;case"textarea":Jc("invalid",t),kt(t,r.value,r.defaultValue,r.children)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||ph(t.textContent,n)?(null!=r.popover&&(Jc("beforetoggle",t),Jc("toggle",t)),null!=r.onScroll&&Jc("scroll",t),null!=r.onScrollEnd&&Jc("scrollend",t),null!=r.onClick&&(t.onclick=It),t=!0):t=!1,t||yi(e,!0)}function _i(e){for(pi=e.return;pi;)switch(pi.tag){case 5:case 31:case 13:return void(vi=!1);case 27:case 3:return void(vi=!0);default:pi=pi.return}}function wi(e){if(e!==pi)return!1;if(!di)return _i(e),di=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||xh(e.type,e.memoizedProps)),t=!t),t&&fi&&yi(e),_i(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));fi=Fh(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));fi=Fh(e)}else 27===n?(n=fi,Mh(e.type)?(e=Oh,Oh=null,fi=e):fi=n):fi=pi?Dh(e.stateNode.nextSibling):null;return!0}function xi(){fi=pi=null,di=!1}function Si(){var e=mi;return null!==e&&(null===zu?zu=e:zu.push.apply(zu,e),mi=null),e}function Ei(e){null===mi?mi=[e]:mi.push(e)}var ki=V(null),Ti=null,Li=null;function Ci(e,t,n){U(ki,t._currentValue),t._currentValue=n}function Mi(e){e._currentValue=ki.current,j(ki)}function Ai(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ri(e,t,n,i){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var a=o.dependencies;if(null!==a){var s=o.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=o;for(var u=0;u<t.length;u++)if(l.context===t[u]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ai(a.return,n,e),i||(s=null);break e}a=l.next}}else if(18===o.tag){if(null===(s=o.return))throw Error(r(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),Ai(s,n,e),s=null}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===e){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}}function Pi(e,t,n,i){e=null;for(var o=t,a=!1;null!==o;){if(!a)if(524288&o.flags)a=!0;else if(262144&o.flags)break;if(10===o.tag){var s=o.alternate;if(null===s)throw Error(r(387));if(null!==(s=s.memoizedProps)){var l=o.type;tr(o.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(o===G.current){if(null===(s=o.alternate))throw Error(r(387));s.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(null!==e?e.push(fp):e=[fp])}o=o.return}null!==e&&Ri(t,e,n,i),t.flags|=262144}function zi(e){for(e=e.firstContext;null!==e;){if(!tr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ii(e){Ti=e,Li=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ni(e){return Oi(Ti,e)}function Di(e,t){return null===Ti&&Ii(e),Oi(e,t)}function Oi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Li){if(null===e)throw Error(r(308));Li=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Li=Li.next=t;return n}var Fi=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Bi=e.unstable_scheduleCallback,Hi=e.unstable_NormalPriority,Vi={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ji(){return{controller:new Fi,data:new Map,refCount:0}}function Ui(e){e.refCount--,0===e.refCount&&Bi(Hi,function(){e.controller.abort()})}var $i=null,qi=0,Wi=0,Yi=null;function Xi(){if(0===--qi&&null!==$i){null!==Yi&&(Yi.status="fulfilled");var e=$i;$i=null,Wi=0,Yi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Gi=D.S;D.S=function(e,t){Du=ce(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===$i){var n=$i=[];qi=0,Wi=qc(),Yi={status:"pending",value:void 0,then:function(e){n.push(e)}}}qi++,t.then(Xi,Xi)}(0,t),null!==Gi&&Gi(e,t)};var Qi=V(null);function Ki(){var e=Qi.current;return null!==e?e:gu.pooledCache}function Zi(e,t){U(Qi,null===t?Qi.current:t.pool)}function Ji(){var e=Ki();return null===e?null:{parent:Vi._currentValue,pool:e}}var eo=Error(r(460)),to=Error(r(474)),no=Error(r(542)),ro={then:function(){}};function io(e){return"fulfilled"===(e=e.status)||"rejected"===e}function oo(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(It,It),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw uo(e=t.reason),e;default:if("string"==typeof t.status)t.then(It,It);else{if(null!==(e=gu)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw uo(e=t.reason),e}throw so=t,eo}}function ao(e){try{return(0,e._init)(e._payload)}catch(Wf){throw null!==Wf&&"object"==typeof Wf&&"function"==typeof Wf.then?(so=Wf,eo):Wf}}var so=null;function lo(){if(null===so)throw Error(r(459));var e=so;return so=null,e}function uo(e){if(e===eo||e===no)throw Error(r(483))}var co=null,ho=0;function po(e){var t=ho;return ho+=1,null===co&&(co=[]),oo(co,e,t)}function fo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function mo(e,t){throw t.$$typeof===h?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function vo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=Ur(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Yr(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function u(e,t,n,r){var i=n.type;return i===m?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===T&&ao(i)===t.type)?(fo(t=o(t,n.props),n),t.return=e,t):(fo(t=qr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gr(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function h(e,t,n,r,i){return null===t||7!==t.tag?((t=Wr(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Yr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case p:return fo(n=qr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case f:return(t=Gr(t,e.mode,n)).return=e,t;case T:return d(e,t=ao(t),n)}if(N(t)||P(t))return(t=Wr(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return d(e,po(t),n);if(t.$$typeof===b)return d(e,Di(e,t),n);mo(e,t)}return null}function v(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?u(e,t,n,r):null;case f:return n.key===i?c(e,t,n,r):null;case T:return v(e,t,n=ao(n),r)}if(N(n)||P(n))return null!==i?null:h(e,t,n,r,null);if("function"==typeof n.then)return v(e,t,po(n),r);if(n.$$typeof===b)return v(e,t,Di(e,n),r);mo(e,n)}return null}function g(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case p:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case f:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case T:return g(e,t,n,r=ao(r),i)}if(N(r)||P(r))return h(t,e=e.get(n)||null,r,i,null);if("function"==typeof r.then)return g(e,t,n,po(r),i);if(r.$$typeof===b)return g(e,t,n,Di(t,r),i);mo(t,r)}return null}function y(l,u,c,h){if("object"==typeof c&&null!==c&&c.type===m&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case p:e:{for(var _=c.key;null!==u;){if(u.key===_){if((_=c.type)===m){if(7===u.tag){n(l,u.sibling),(h=o(u,c.props.children)).return=l,l=h;break e}}else if(u.elementType===_||"object"==typeof _&&null!==_&&_.$$typeof===T&&ao(_)===u.type){n(l,u.sibling),fo(h=o(u,c.props),c),h.return=l,l=h;break e}n(l,u);break}t(l,u),u=u.sibling}c.type===m?((h=Wr(c.props.children,l.mode,h,c.key)).return=l,l=h):(fo(h=qr(c.type,c.key,c.props,null,l.mode,h),c),h.return=l,l=h)}return s(l);case f:e:{for(_=c.key;null!==u;){if(u.key===_){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(h=o(u,c.children||[])).return=l,l=h;break e}n(l,u);break}t(l,u),u=u.sibling}(h=Gr(c,l.mode,h)).return=l,l=h}return s(l);case T:return y(l,u,c=ao(c),h)}if(N(c))return function(r,o,s,l){for(var u=null,c=null,h=o,p=o=0,f=null;null!==h&&p<s.length;p++){h.index>p?(f=h,h=null):f=h.sibling;var m=v(r,h,s[p],l);if(null===m){null===h&&(h=f);break}e&&h&&null===m.alternate&&t(r,h),o=a(m,o,p),null===c?u=m:c.sibling=m,c=m,h=f}if(p===s.length)return n(r,h),di&&si(r,p),u;if(null===h){for(;p<s.length;p++)null!==(h=d(r,s[p],l))&&(o=a(h,o,p),null===c?u=h:c.sibling=h,c=h);return di&&si(r,p),u}for(h=i(h);p<s.length;p++)null!==(f=g(h,r,p,s[p],l))&&(e&&null!==f.alternate&&h.delete(null===f.key?p:f.key),o=a(f,o,p),null===c?u=f:c.sibling=f,c=f);return e&&h.forEach(function(e){return t(r,e)}),di&&si(r,p),u}(l,u,c,h);if(P(c)){if("function"!=typeof(_=P(c)))throw Error(r(150));return function(o,s,l,u){if(null==l)throw Error(r(151));for(var c=null,h=null,p=s,f=s=0,m=null,y=l.next();null!==p&&!y.done;f++,y=l.next()){p.index>f?(m=p,p=null):m=p.sibling;var b=v(o,p,y.value,u);if(null===b){null===p&&(p=m);break}e&&p&&null===b.alternate&&t(o,p),s=a(b,s,f),null===h?c=b:h.sibling=b,h=b,p=m}if(y.done)return n(o,p),di&&si(o,f),c;if(null===p){for(;!y.done;f++,y=l.next())null!==(y=d(o,y.value,u))&&(s=a(y,s,f),null===h?c=y:h.sibling=y,h=y);return di&&si(o,f),c}for(p=i(p);!y.done;f++,y=l.next())null!==(y=g(p,o,f,y.value,u))&&(e&&null!==y.alternate&&p.delete(null===y.key?f:y.key),s=a(y,s,f),null===h?c=y:h.sibling=y,h=y);return e&&p.forEach(function(e){return t(o,e)}),di&&si(o,f),c}(l,u,c=_.call(c),h)}if("function"==typeof c.then)return y(l,u,po(c),h);if(c.$$typeof===b)return y(l,u,Di(l,c),h);mo(l,c)}return"string"==typeof c&&""!==c||"number"==typeof c||"bigint"==typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(h=o(u,c)).return=l,l=h):(n(l,u),(h=Yr(c,l.mode,h)).return=l,l=h),s(l)):n(l,u)}return function(e,t,n,r){try{ho=0;var i=y(e,t,n,r);return co=null,i}catch(a){if(a===eo||a===no)throw a;var o=Vr(29,a,null,e.mode);return o.lanes=r,o.return=e,o}}}var go=vo(!0),yo=vo(!1),bo=!1;function _o(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function xo(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function So(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&vu){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Fr(e),Or(e,null,n),t}return Ir(e,r,t,n),Fr(e)}function Eo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}function ko(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var To=!1;function Lo(){if(To){if(null!==Yi)throw Yi}}function Co(e,t,n,r){To=!1;var i=e.updateQueue;bo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var h=e.alternate;null!==h&&((s=(h=h.updateQueue).lastBaseUpdate)!==a&&(null===s?h.firstBaseUpdate=u:s.next=u,h.lastBaseUpdate=l))}if(null!==o){var p=i.baseState;for(a=0,h=u=l=null,s=o;;){var f=-536870913&s.lane,d=f!==s.lane;if(d?(bu&f)===f:(r&f)===f){0!==f&&f===Wi&&(To=!0),null!==h&&(h=h.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,v=s;f=t;var g=n;switch(v.tag){case 1:if("function"==typeof(m=v.payload)){p=m.call(g,p,f);break e}p=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(f="function"==typeof(m=v.payload)?m.call(g,p,f):m))break e;p=c({},p,f);break e;case 2:bo=!0}}null!==(f=s.callback)&&(e.flags|=64,d&&(e.flags|=8192),null===(d=i.callbacks)?i.callbacks=[f]:d.push(f))}else d={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===h?(u=h=d,l=p):h=h.next=d,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}null===h&&(l=p),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,null===o&&(i.shared.lanes=0),Lu|=a,e.lanes=a,e.memoizedState=p}}function Mo(e,t){if("function"!=typeof e)throw Error(r(191,e));e.call(t)}function Ao(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Mo(n[e],t)}var Ro=V(null),Po=V(0);function zo(e,t){U(Po,e=ku),U(Ro,t),ku=e|t.baseLanes}function Io(){U(Po,ku),U(Ro,Ro.current)}function No(){ku=Po.current,j(Ro),j(Po)}var Do=V(null),Oo=null;function Fo(e){var t=e.alternate;U(Uo,1&Uo.current),U(Do,e),null===Oo&&(null===t||null!==Ro.current||null!==t.memoizedState)&&(Oo=e)}function Bo(e){U(Uo,Uo.current),U(Do,e),null===Oo&&(Oo=e)}function Ho(e){22===e.tag?(U(Uo,Uo.current),U(Do,e),null===Oo&&(Oo=e)):Vo()}function Vo(){U(Uo,Uo.current),U(Do,Do.current)}function jo(e){j(Do),Oo===e&&(Oo=null),j(Uo)}var Uo=V(0);function $o(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Ih(n)||Nh(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qo=0,Wo=null,Yo=null,Xo=null,Go=!1,Qo=!1,Ko=!1,Zo=0,Jo=0,ea=null,ta=0;function na(){throw Error(r(321))}function ra(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tr(e[n],t[n]))return!1;return!0}function ia(e,t,n,r,i,o){return qo=o,Wo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?bs:_s,Ko=!1,o=n(r,i),Ko=!1,Qo&&(o=aa(t,n,r,i)),oa(e),o}function oa(e){D.H=ys;var t=null!==Yo&&null!==Yo.next;if(qo=0,Xo=Yo=Wo=null,Go=!1,Jo=0,ea=null,t)throw Error(r(300));null===e||Ds||null!==(e=e.dependencies)&&zi(e)&&(Ds=!0)}function aa(e,t,n,i){Wo=e;var o=0;do{if(Qo&&(ea=null),Jo=0,Qo=!1,25<=o)throw Error(r(301));if(o+=1,Xo=Yo=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}D.H=ws,a=t(n,i)}while(Qo);return a}function sa(){var e=D.H,t=e.useState()[0];return t="function"==typeof t.then?fa(t):t,e=e.useState()[0],(null!==Yo?Yo.memoizedState:null)!==e&&(Wo.flags|=1024),t}function la(){var e=0!==Zo;return Zo=0,e}function ua(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ca(e){if(Go){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Go=!1}qo=0,Xo=Yo=Wo=null,Qo=!1,Jo=Zo=0,ea=null}function ha(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Xo?Wo.memoizedState=Xo=e:Xo=Xo.next=e,Xo}function pa(){if(null===Yo){var e=Wo.alternate;e=null!==e?e.memoizedState:null}else e=Yo.next;var t=null===Xo?Wo.memoizedState:Xo.next;if(null!==t)Xo=t,Yo=e;else{if(null===e)throw null===Wo.alternate?Error(r(467)):Error(r(310));e={memoizedState:(Yo=e).memoizedState,baseState:Yo.baseState,baseQueue:Yo.baseQueue,queue:Yo.queue,next:null},null===Xo?Wo.memoizedState=Xo=e:Xo=Xo.next=e}return Xo}function fa(e){var t=Jo;return Jo+=1,null===ea&&(ea=[]),e=oo(ea,e,t),t=Wo,null===(null===Xo?t.memoizedState:Xo.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?bs:_s),e}function da(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return fa(e);if(e.$$typeof===b)return Ni(e)}throw Error(r(438,String(e)))}function ma(e){var t=null,n=Wo.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Wo.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Wo.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=M;return t.index++,n}function va(e,t){return"function"==typeof t?t(e):t}function ga(e){return ya(pa(),Yo,e)}function ya(e,t,n){var i=e.queue;if(null===i)throw Error(r(311));i.lastRenderedReducer=n;var o=e.baseQueue,a=i.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}t.baseQueue=o=a,i.pending=null}if(a=e.baseState,null===o)e.memoizedState=a;else{var l=s=null,u=null,c=t=o.next,h=!1;do{var p=-536870913&c.lane;if(p!==c.lane?(bu&p)===p:(qo&p)===p){var f=c.revertLane;if(0===f)null!==u&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),p===Wi&&(h=!0);else{if((qo&f)===f){c=c.next,f===Wi&&(h=!0);continue}p={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=p,s=a):u=u.next=p,Wo.lanes|=f,Lu|=f}p=c.action,Ko&&n(a,p),a=c.hasEagerState?c.eagerState:n(a,p)}else f={lane:p,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=f,s=a):u=u.next=f,Wo.lanes|=p,Lu|=p;c=c.next}while(null!==c&&c!==t);if(null===u?s=a:u.next=l,!tr(a,e.memoizedState)&&(Ds=!0,h&&null!==(n=Yi)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=u,i.lastRenderedState=a}return null===o&&(i.lanes=0),[e.memoizedState,i.dispatch]}function ba(e){var t=pa(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);tr(a,t.memoizedState)||(Ds=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function _a(e,t,n){var i=Wo,o=pa(),a=di;if(a){if(void 0===n)throw Error(r(407));n=n()}else n=t();var s=!tr((Yo||o).memoizedState,n);if(s&&(o.memoizedState=n,Ds=!0),o=o.queue,qa(Sa.bind(null,i,o,e),[e]),o.getSnapshot!==t||s||null!==Xo&&1&Xo.memoizedState.tag){if(i.flags|=2048,Ha(9,{destroy:void 0},xa.bind(null,i,o,n,t),null),null===gu)throw Error(r(349));a||127&qo||wa(i,t,n)}return n}function wa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Wo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Wo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function xa(e,t,n,r){t.value=n,t.getSnapshot=r,Ea(t)&&ka(e)}function Sa(e,t,n){return n(function(){Ea(t)&&ka(e)})}function Ea(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tr(e,n)}catch{return!0}}function ka(e){var t=Dr(e,2);null!==t&&Ku(t,e,2)}function Ta(e){var t=ha();if("function"==typeof e){var n=e;if(e=n(),Ko){we(!0);try{n()}finally{we(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:e},t}function La(e,t,n,r){return e.baseState=n,ya(e,Yo,"function"==typeof r?r:va)}function Ca(e,t,n,i,o){if(ms(e))throw Error(r(485));if(null!==(e=t.action)){var a={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==D.T?n(!0):a.isTransition=!1,i(a),null===(n=t.pending)?(a.next=t.pending=a,Ma(t,a)):(a.next=n.next,t.pending=n.next=a)}}function Ma(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=D.T,a={};D.T=a;try{var s=n(i,r),l=D.S;null!==l&&l(a,s),Aa(e,t,s)}catch(yp){Pa(e,t,yp)}finally{null!==o&&null!==a.types&&(o.types=a.types),D.T=o}}else try{Aa(e,t,o=n(i,r))}catch(yp){Pa(e,t,yp)}}function Aa(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){Ra(e,t,n)},function(n){return Pa(e,t,n)}):Ra(e,t,n)}function Ra(e,t,n){t.status="fulfilled",t.value=n,za(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ma(e,n)))}function Pa(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,za(t),t=t.next}while(t!==r)}e.action=null}function za(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ia(e,t){return t}function Na(e,t){if(di){var n=gu.formState;if(null!==n){e:{var r=Wo;if(di){if(fi){t:{for(var i=fi,o=vi;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=Dh(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){fi=Dh(i.nextSibling),r="F!"===i.data;break e}}yi(r)}r=!1}r&&(t=n[0])}}return(n=ha()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:t},n.queue=r,n=ps.bind(null,Wo,r),r.dispatch=n,r=Ta(!1),o=ds.bind(null,Wo,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=ha()).queue=i,n=Ca.bind(null,Wo,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Da(e){return Oa(pa(),Yo,e)}function Oa(e,t,n){if(t=ya(e,t,Ia)[0],e=ga(va)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=fa(t)}catch(Df){throw Df===eo?no:Df}else r=t;var i=(t=pa()).queue,o=i.dispatch;return n!==t.memoizedState&&(Wo.flags|=2048,Ha(9,{destroy:void 0},Fa.bind(null,i,n),null)),[r,o,e]}function Fa(e,t){e.action=t}function Ba(e){var t=pa(),n=Yo;if(null!==n)return Oa(t,n,e);pa(),t=t.memoizedState;var r=(n=pa()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Ha(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Wo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Wo.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Va(){return pa().memoizedState}function ja(e,t,n,r){var i=ha();Wo.flags|=e,i.memoizedState=Ha(1|t,{destroy:void 0},n,void 0===r?null:r)}function Ua(e,t,n,r){var i=pa();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==Yo&&null!==r&&ra(r,Yo.memoizedState.deps)?i.memoizedState=Ha(t,o,n,r):(Wo.flags|=e,i.memoizedState=Ha(1|t,o,n,r))}function $a(e,t){ja(8390656,8,e,t)}function qa(e,t){Ua(2048,8,e,t)}function Wa(e){var t=pa().memoizedState;return function(e){Wo.flags|=4;var t=Wo.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Wo.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(2&vu)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Ya(e,t){return Ua(4,2,e,t)}function Xa(e,t){return Ua(4,4,e,t)}function Ga(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Qa(e,t,n){n=null!=n?n.concat([e]):null,Ua(4,4,Ga.bind(null,t,e),n)}function Ka(){}function Za(e,t){var n=pa();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ra(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ja(e,t){var n=pa();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ra(t,r[1]))return r[0];if(r=e(),Ko){we(!0);try{e()}finally{we(!1)}}return n.memoizedState=[r,t],r}function es(e,t,n){return void 0===n||1073741824&qo&&!(261930&bu)?e.memoizedState=t:(e.memoizedState=n,e=Qu(),Wo.lanes|=e,Lu|=e,n)}function ts(e,t,n,r){return tr(n,t)?n:null!==Ro.current?(e=es(e,n,r),tr(e,t)||(Ds=!0),e):42&qo&&(!(1073741824&qo)||261930&bu)?(e=Qu(),Wo.lanes|=e,Lu|=e,t):(Ds=!0,e.memoizedState=n)}function ns(e,t,n,r,i){var o=O.p;O.p=0!==o&&8>o?o:8;var a=D.T,s={};D.T=s,ds(e,!1,t,n);try{var l=i(),u=D.S;if(null!==u&&u(s,l),null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r);fs(e,t,c,Gu())}else fs(e,t,r,Gu())}catch(sf){fs(e,t,{then:function(){},status:"rejected",reason:sf},Gu())}finally{O.p=o,null!==a&&null!==s.types&&(a.types=s.types),D.T=a}}function rs(){}function is(e,t,n,i){if(5!==e.tag)throw Error(r(476));var o=os(e).queue;ns(e,o,t,F,null===n?rs:function(){return as(e),n(i)})}function os(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:F},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function as(e){var t=os(e);null===t.next&&(t=e.alternate.memoizedState),fs(e,t.next.queue,{},Gu())}function ss(){return Ni(fp)}function ls(){return pa().memoizedState}function us(){return pa().memoizedState}function cs(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Gu(),r=So(t,e=xo(n),n);return null!==r&&(Ku(r,t,n),Eo(r,t,n)),t={cache:ji()},void(e.payload=t)}t=t.return}}function hs(e,t,n){var r=Gu();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ms(e)?vs(t,n):null!==(n=Nr(e,t,n,r))&&(Ku(n,e,r),gs(n,t,r))}function ps(e,t,n){fs(e,t,n,Gu())}function fs(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ms(e))vs(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,tr(s,a))return Ir(e,t,i,0),null===gu&&zr(),!1}catch{}if(null!==(n=Nr(e,t,i,r)))return Ku(n,e,r),gs(n,t,r),!0}return!1}function ds(e,t,n,i){if(i={lane:2,revertLane:qc(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},ms(e)){if(t)throw Error(r(479))}else null!==(t=Nr(e,n,i,2))&&Ku(t,e,2)}function ms(e){var t=e.alternate;return e===Wo||null!==t&&t===Wo}function vs(e,t){Qo=Go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function gs(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}var ys={readContext:Ni,use:da,useCallback:na,useContext:na,useEffect:na,useImperativeHandle:na,useLayoutEffect:na,useInsertionEffect:na,useMemo:na,useReducer:na,useRef:na,useState:na,useDebugValue:na,useDeferredValue:na,useTransition:na,useSyncExternalStore:na,useId:na,useHostTransitionStatus:na,useFormState:na,useActionState:na,useOptimistic:na,useMemoCache:na,useCacheRefresh:na};ys.useEffectEvent=na;var bs={readContext:Ni,use:da,useCallback:function(e,t){return ha().memoizedState=[e,void 0===t?null:t],e},useContext:Ni,useEffect:$a,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,ja(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ja(4194308,4,e,t)},useInsertionEffect:function(e,t){ja(4,2,e,t)},useMemo:function(e,t){var n=ha();t=void 0===t?null:t;var r=e();if(Ko){we(!0);try{e()}finally{we(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ha();if(void 0!==n){var i=n(t);if(Ko){we(!0);try{n(t)}finally{we(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=hs.bind(null,Wo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ha().memoizedState=e},useState:function(e){var t=(e=Ta(e)).queue,n=ps.bind(null,Wo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ka,useDeferredValue:function(e,t){return es(ha(),e,t)},useTransition:function(){var e=Ta(!1);return e=ns.bind(null,Wo,e.queue,!0,!1),ha().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=Wo,o=ha();if(di){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===gu)throw Error(r(349));127&bu||wa(i,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,$a(Sa.bind(null,i,a,e),[e]),i.flags|=2048,Ha(9,{destroy:void 0},xa.bind(null,i,a,n,t),null),n},useId:function(){var e=ha(),t=gu.identifierPrefix;if(di){var n=ai;t="_"+t+"R_"+(n=(oi&~(1<<32-xe(oi)-1)).toString(32)+n),0<(n=Zo++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=ta++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ss,useFormState:Na,useActionState:Na,useOptimistic:function(e){var t=ha();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ds.bind(null,Wo,!0,n),n.dispatch=t,[e,t]},useMemoCache:ma,useCacheRefresh:function(){return ha().memoizedState=cs.bind(null,Wo)},useEffectEvent:function(e){var t=ha(),n={impl:e};return t.memoizedState=n,function(){if(2&vu)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},_s={readContext:Ni,use:da,useCallback:Za,useContext:Ni,useEffect:qa,useImperativeHandle:Qa,useInsertionEffect:Ya,useLayoutEffect:Xa,useMemo:Ja,useReducer:ga,useRef:Va,useState:function(){return ga(va)},useDebugValue:Ka,useDeferredValue:function(e,t){return ts(pa(),Yo.memoizedState,e,t)},useTransition:function(){var e=ga(va)[0],t=pa().memoizedState;return["boolean"==typeof e?e:fa(e),t]},useSyncExternalStore:_a,useId:ls,useHostTransitionStatus:ss,useFormState:Da,useActionState:Da,useOptimistic:function(e,t){return La(pa(),0,e,t)},useMemoCache:ma,useCacheRefresh:us};_s.useEffectEvent=Wa;var ws={readContext:Ni,use:da,useCallback:Za,useContext:Ni,useEffect:qa,useImperativeHandle:Qa,useInsertionEffect:Ya,useLayoutEffect:Xa,useMemo:Ja,useReducer:ba,useRef:Va,useState:function(){return ba(va)},useDebugValue:Ka,useDeferredValue:function(e,t){var n=pa();return null===Yo?es(n,e,t):ts(n,Yo.memoizedState,e,t)},useTransition:function(){var e=ba(va)[0],t=pa().memoizedState;return["boolean"==typeof e?e:fa(e),t]},useSyncExternalStore:_a,useId:ls,useHostTransitionStatus:ss,useFormState:Ba,useActionState:Ba,useOptimistic:function(e,t){var n=pa();return null!==Yo?La(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ma,useCacheRefresh:us};function xs(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:c({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}ws.useEffectEvent=Wa;var Ss={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Gu(),i=xo(r);i.payload=t,null!=n&&(i.callback=n),null!==(t=So(e,i,r))&&(Ku(t,e,r),Eo(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Gu(),i=xo(r);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=So(e,i,r))&&(Ku(t,e,r),Eo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gu(),r=xo(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=So(e,r,n))&&(Ku(t,e,n),Eo(t,e,n))}};function Es(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!nr(n,r)||!nr(i,o))}function ks(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ss.enqueueReplaceState(t,t.state,null)}function Ts(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=c({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function Ls(e){Mr(e)}function Cs(e){console.error(e)}function Ms(e){Mr(e)}function As(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(Uf){setTimeout(function(){throw Uf})}}function Rs(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(cf){setTimeout(function(){throw cf})}}function Ps(e,t,n){return(n=xo(n)).tag=3,n.payload={element:null},n.callback=function(){As(e,t)},n}function zs(e){return(e=xo(e)).tag=3,e}function Is(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"==typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){Rs(t,n,r)}}var a=n.stateNode;null!==a&&"function"==typeof a.componentDidCatch&&(e.callback=function(){Rs(t,n,r),"function"!=typeof i&&(null===Bu?Bu=new Set([this]):Bu.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ns=Error(r(461)),Ds=!1;function Os(e,t,n,r){t.child=null===e?yo(t,null,n,r):go(t,e.child,n,r)}function Fs(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var a={};for(var s in r)"ref"!==s&&(a[s]=r[s])}else a=r;return Ii(t),r=ia(e,t,n,a,o,i),s=la(),null===e||Ds?(di&&s&&ui(t),t.flags|=1,Os(e,t,r,i),t.child):(ua(e,t,i),sl(e,t,i))}function Bs(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||jr(o)||void 0!==o.defaultProps||null!==n.compare?((e=qr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Hs(e,t,o,r,i))}if(o=e.child,!ll(e,i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:nr)(a,r)&&e.ref===t.ref)return sl(e,t,i)}return t.flags|=1,(e=Ur(o,r)).ref=t.ref,e.return=t,t.child=e}function Hs(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(nr(o,r)&&e.ref===t.ref){if(Ds=!1,t.pendingProps=r=o,!ll(e,i))return t.lanes=e.lanes,sl(e,t,i);131072&e.flags&&(Ds=!0)}}return Ys(e,t,n,r,i)}function Vs(e,t,n,r){var i=r.children,o=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(128&t.flags){if(o=null!==o?o.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~o}else r=0,t.child=null;return Us(e,t,o,n,r)}if(!(536870912&n))return r=t.lanes=536870912,Us(e,t,null!==o?o.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Zi(0,null!==o?o.cachePool:null),null!==o?zo(t,o):Io(),Ho(t)}else null!==o?(Zi(0,o.cachePool),zo(t,o),Vo(),t.memoizedState=null):(null!==e&&Zi(0,null),Io(),Vo());return Os(e,t,i,n),t.child}function js(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Us(e,t,n,r,i){var o=Ki();return o=null===o?null:{parent:Vi._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&Zi(0,null),Io(),Ho(t),null!==e&&Pi(e,t,r,!0),t.childLanes=i,null}function $s(e,t){return(t=nl({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function qs(e,t,n){return go(t,e.child,null,n),(e=$s(t,t.pendingProps)).flags|=2,jo(t),t.memoizedState=null,e}function Ws(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(r(284));(null===e||e.ref!==n)&&(t.flags|=4194816)}}function Ys(e,t,n,r,i){return Ii(t),n=ia(e,t,n,r,void 0,i),r=la(),null===e||Ds?(di&&r&&ui(t),t.flags|=1,Os(e,t,n,i),t.child):(ua(e,t,i),sl(e,t,i))}function Xs(e,t,n,r,i,o){return Ii(t),t.updateQueue=null,n=aa(t,r,n,i),oa(e),r=la(),null===e||Ds?(di&&r&&ui(t),t.flags|=1,Os(e,t,n,o),t.child):(ua(e,t,o),sl(e,t,o))}function Gs(e,t,n,r,i){if(Ii(t),null===t.stateNode){var o=Br,a=n.contextType;"object"==typeof a&&null!==a&&(o=Ni(a)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=Ss,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},_o(t),a=n.contextType,o.context="object"==typeof a&&null!==a?Ni(a):Br,o.state=t.memoizedState,"function"==typeof(a=n.getDerivedStateFromProps)&&(xs(t,n,a,r),o.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(a=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),a!==o.state&&Ss.enqueueReplaceState(o,o.state,null),Co(t,r,o,i),Lo(),o.state=t.memoizedState),"function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var s=t.memoizedProps,l=Ts(n,s);o.props=l;var u=o.context,c=n.contextType;a=Br,"object"==typeof c&&null!==c&&(a=Ni(c));var h=n.getDerivedStateFromProps;c="function"==typeof h||"function"==typeof o.getSnapshotBeforeUpdate,s=t.pendingProps!==s,c||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s||u!==a)&&ks(t,o,r,a),bo=!1;var p=t.memoizedState;o.state=p,Co(t,r,o,i),Lo(),u=t.memoizedState,s||p!==u||bo?("function"==typeof h&&(xs(t,n,h,r),u=t.memoizedState),(l=bo||Es(t,n,l,r,p,u,a))?(c||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=a,r=l):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,wo(e,t),c=Ts(n,a=t.memoizedProps),o.props=c,h=t.pendingProps,p=o.context,u=n.contextType,l=Br,"object"==typeof u&&null!==u&&(l=Ni(u)),(u="function"==typeof(s=n.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==h||p!==l)&&ks(t,o,r,l),bo=!1,p=t.memoizedState,o.state=p,Co(t,r,o,i),Lo();var f=t.memoizedState;a!==h||p!==f||bo||null!==e&&null!==e.dependencies&&zi(e.dependencies)?("function"==typeof s&&(xs(t,n,s,r),f=t.memoizedState),(c=bo||Es(t,n,c,r,p,f,l)||null!==e&&null!==e.dependencies&&zi(e.dependencies))?(u||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=c):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Ws(e,t),r=!!(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=go(t,e.child,null,i),t.child=go(t,null,n,i)):Os(e,t,n,i),t.memoizedState=o.state,e=t.child):e=sl(e,t,i),e}function Qs(e,t,n,r){return xi(),t.flags|=256,Os(e,t,n,r),t.child}var Ks={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zs(e){return{baseLanes:e,cachePool:Ji()}}function Js(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Au),e}function el(e,t,n){var i,o=t.pendingProps,a=!1,s=!!(128&t.flags);if((i=s)||(i=(null===e||null!==e.memoizedState)&&!!(2&Uo.current)),i&&(a=!0,t.flags&=-129),i=!!(32&t.flags),t.flags&=-33,null===e){if(di){if(a?Fo(t):Vo(),(e=fi)?null!==(e=null!==(e=zh(e,vi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ii?{id:oi,overflow:ai}:null,retryLane:536870912,hydrationErrors:null},(n=Xr(e)).return=t,t.child=n,pi=t,fi=null):e=null,null===e)throw yi(t);return Nh(e)?t.lanes=32:t.lanes=536870912,null}var l=o.children;return o=o.fallback,a?(Vo(),l=nl({mode:"hidden",children:l},a=t.mode),o=Wr(o,a,n,null),l.return=t,o.return=t,l.sibling=o,t.child=l,(o=t.child).memoizedState=Zs(n),o.childLanes=Js(e,i,n),t.memoizedState=Ks,js(null,o)):(Fo(t),tl(t,l))}var u=e.memoizedState;if(null!==u&&null!==(l=u.dehydrated)){if(s)256&t.flags?(Fo(t),t.flags&=-257,t=rl(e,t,n)):null!==t.memoizedState?(Vo(),t.child=e.child,t.flags|=128,t=null):(Vo(),l=o.fallback,a=t.mode,o=nl({mode:"visible",children:o.children},a),(l=Wr(l,a,n,null)).flags|=2,o.return=t,l.return=t,o.sibling=l,t.child=o,go(t,e.child,null,n),(o=t.child).memoizedState=Zs(n),o.childLanes=Js(e,i,n),t.memoizedState=Ks,t=js(null,o));else if(Fo(t),Nh(l)){if(i=l.nextSibling&&l.nextSibling.dataset)var c=i.dgst;i=c,(o=Error(r(419))).stack="",o.digest=i,Ei({value:o,source:null,stack:null}),t=rl(e,t,n)}else if(Ds||Pi(e,t,n,!1),i=0!==(n&e.childLanes),Ds||i){if(null!==(i=gu)&&(0!==(o=Oe(i,n))&&o!==u.retryLane))throw u.retryLane=o,Dr(e,o),Ku(i,e,o),Ns;Ih(l)||uc(),t=rl(e,t,n)}else Ih(l)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,fi=Dh(l.nextSibling),pi=t,di=!0,mi=null,vi=!1,null!==e&&hi(t,e),(t=tl(t,o.children)).flags|=4096);return t}return a?(Vo(),l=o.fallback,a=t.mode,c=(u=e.child).sibling,(o=Ur(u,{mode:"hidden",children:o.children})).subtreeFlags=65011712&u.subtreeFlags,null!==c?l=Ur(c,l):(l=Wr(l,a,n,null)).flags|=2,l.return=t,o.return=t,o.sibling=l,t.child=o,js(null,o),o=t.child,null===(l=e.child.memoizedState)?l=Zs(n):(null!==(a=l.cachePool)?(u=Vi._currentValue,a=a.parent!==u?{parent:u,pool:u}:a):a=Ji(),l={baseLanes:l.baseLanes|n,cachePool:a}),o.memoizedState=l,o.childLanes=Js(e,i,n),t.memoizedState=Ks,js(e.child,o)):(Fo(t),e=(n=e.child).sibling,(n=Ur(n,{mode:"visible",children:o.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function tl(e,t){return(t=nl({mode:"visible",children:t},e.mode)).return=e,e.child=t}function nl(e,t){return(e=Vr(22,e,null,t)).lanes=0,e}function rl(e,t,n){return go(t,e.child,null,n),(e=tl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function il(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ai(e.return,t,n)}function ol(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.treeForkCount=o)}function al(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;r=r.children;var a=Uo.current,s=!!(2&a);if(s?(a=1&a|2,t.flags|=128):a&=1,U(Uo,a),Os(e,t,r,n),r=di?ti:0,!s&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&il(e,n,t);else if(19===e.tag)il(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===$o(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ol(t,!1,i,n,o,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===$o(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ol(t,!0,n,null,o,r);break;case"together":ol(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function sl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lu|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Pi(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Ur(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ur(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ll(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!zi(e))}function ul(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ds=!0;else{if(!(ll(e,n)||128&t.flags))return Ds=!1,function(e,t,n){switch(t.tag){case 3:Q(t,t.stateNode.containerInfo),Ci(0,Vi,e.memoizedState.cache),xi();break;case 27:case 5:Z(t);break;case 4:Q(t,t.stateNode.containerInfo);break;case 10:Ci(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Bo(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Fo(t),t.flags|=128,null):0!==(n&t.child.childLanes)?el(e,t,n):(Fo(t),null!==(e=sl(e,t,n))?e.sibling:null);Fo(t);break;case 19:var i=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(Pi(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return al(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),U(Uo,Uo.current),r)break;return null;case 22:return t.lanes=0,Vs(e,t,n,t.pendingProps);case 24:Ci(0,Vi,e.memoizedState.cache)}return sl(e,t,n)}(e,t,n);Ds=!!(131072&e.flags)}else Ds=!1,di&&1048576&t.flags&&li(t,ti,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=ao(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var o=e.$$typeof;if(o===w){t.tag=11,t=Fs(null,t,e,i,n);break e}if(o===k){t.tag=14,t=Bs(null,t,e,i,n);break e}}throw t=I(e)||e,Error(r(306,t,""))}jr(e)?(i=Ts(e,i),t.tag=1,t=Gs(null,t,e,i,n)):(t.tag=0,t=Ys(null,t,e,i,n))}return t;case 0:return Ys(e,t,t.type,t.pendingProps,n);case 1:return Gs(e,t,i=t.type,o=Ts(i,t.pendingProps),n);case 3:e:{if(Q(t,t.stateNode.containerInfo),null===e)throw Error(r(387));i=t.pendingProps;var a=t.memoizedState;o=a.element,wo(e,t),Co(t,i,null,n);var s=t.memoizedState;if(i=s.cache,Ci(0,Vi,i),i!==a.cache&&Ri(t,[Vi],n,!0),Lo(),i=s.element,a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Qs(e,t,i,n);break e}if(i!==o){Ei(o=Kr(Error(r(424)),t)),t=Qs(e,t,i,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(fi=Dh(e.firstChild),pi=t,di=!0,mi=null,vi=!0,n=yo(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(xi(),i===o){t=sl(e,t,n);break e}Os(e,t,i,n)}t=t.child}return t;case 26:return Ws(e,t),null===e?(n=Xh(t.type,null,t.pendingProps,null))?t.memoizedState=n:di||(n=t.type,e=t.pendingProps,(i=bh(X.current).createElement(n))[Ue]=t,i[$e]=e,mh(i,n,e),nt(i),t.stateNode=i):t.memoizedState=Xh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Z(t),null===e&&di&&(i=t.stateNode=Hh(t.type,t.pendingProps,X.current),pi=t,vi=!0,o=fi,Mh(t.type)?(Oh=o,fi=Dh(i.firstChild)):fi=o),Os(e,t,t.pendingProps.children,n),Ws(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&di&&((o=i=fi)&&(i=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=Dh(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,vi),null!==i?(t.stateNode=i,pi=t,fi=Dh(i.firstChild),vi=!1,o=!0):o=!1),o||yi(t)),Z(t),o=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,i=a.children,xh(o,a)?i=null:null!==s&&xh(o,s)&&(t.flags|=32),null!==t.memoizedState&&(o=ia(e,t,sa,null,null,n),fp._currentValue=o),Ws(e,t),Os(e,t,i,n),t.child;case 6:return null===e&&di&&((e=n=fi)&&(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;)if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n||null===(e=Dh(e.nextSibling)))return null;return e}(n,t.pendingProps,vi),null!==n?(t.stateNode=n,pi=t,fi=null,e=!0):e=!1),e||yi(t)),null;case 13:return el(e,t,n);case 4:return Q(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=go(t,null,i,n):Os(e,t,i,n),t.child;case 11:return Fs(e,t,t.type,t.pendingProps,n);case 7:return Os(e,t,t.pendingProps,n),t.child;case 8:case 12:return Os(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Ci(0,t.type,i.value),Os(e,t,i.children,n),t.child;case 9:return o=t.type._context,i=t.pendingProps.children,Ii(t),i=i(o=Ni(o)),t.flags|=1,Os(e,t,i,n),t.child;case 14:return Bs(e,t,t.type,t.pendingProps,n);case 15:return Hs(e,t,t.type,t.pendingProps,n);case 19:return al(e,t,n);case 31:return function(e,t,n){var i=t.pendingProps,o=!!(128&t.flags);if(t.flags&=-129,null===e){if(di){if("hidden"===i.mode)return e=$s(t,i),t.lanes=536870912,js(null,e);if(Bo(t),(e=fi)?null!==(e=null!==(e=zh(e,vi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ii?{id:oi,overflow:ai}:null,retryLane:536870912,hydrationErrors:null},(n=Xr(e)).return=t,t.child=n,pi=t,fi=null):e=null,null===e)throw yi(t);return t.lanes=536870912,null}return $s(t,i)}var a=e.memoizedState;if(null!==a){var s=a.dehydrated;if(Bo(t),o)if(256&t.flags)t.flags&=-257,t=qs(e,t,n);else{if(null===t.memoizedState)throw Error(r(558));t.child=e.child,t.flags|=128,t=null}else if(Ds||Pi(e,t,n,!1),o=0!==(n&e.childLanes),Ds||o){if(null!==(i=gu)&&0!==(s=Oe(i,n))&&s!==a.retryLane)throw a.retryLane=s,Dr(e,s),Ku(i,e,s),Ns;uc(),t=qs(e,t,n)}else e=a.treeContext,fi=Dh(s.nextSibling),pi=t,di=!0,mi=null,vi=!1,null!==e&&hi(t,e),(t=$s(t,i)).flags|=4096;return t}return(e=Ur(e.child,{mode:i.mode,children:i.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Vs(e,t,n,t.pendingProps);case 24:return Ii(t),i=Ni(Vi),null===e?(null===(o=Ki())&&(o=gu,a=ji(),o.pooledCache=a,a.refCount++,null!==a&&(o.pooledCacheLanes|=n),o=a),t.memoizedState={parent:i,cache:o},_o(t),Ci(0,Vi,o)):(0!==(e.lanes&n)&&(wo(e,t),Co(t,null,null,n),Lo()),o=e.memoizedState,a=t.memoizedState,o.parent!==i?(o={parent:i,cache:i},t.memoizedState=o,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=o),Ci(0,Vi,i)):(i=a.cache,Ci(0,Vi,i),i!==o.cache&&Ri(t,[Vi],n,!0))),Os(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function cl(e){e.flags|=4}function hl(e,t,n,r,i){if((t=!!(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!ac())throw so=ro,to;e.flags|=8192}}else e.flags&=-16777217}function pl(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!sp(t)){if(!ac())throw so=ro,to;e.flags|=8192}}function fl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Pe():536870912,e.lanes|=t,Ru|=t)}function dl(e,t){if(!di)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ml(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function vl(e,t,n){var i=t.pendingProps;switch(ci(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return ml(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Mi(Vi),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(null===e||null===e.child)&&(wi(t)?cl(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,Si())),ml(t),null;case 26:var o=t.type,a=t.memoizedState;return null===e?(cl(t),null!==a?(ml(t),pl(t,a)):(ml(t),hl(t,o,0,0,n))):a?a!==e.memoizedState?(cl(t),ml(t),pl(t,a)):(ml(t),t.flags&=-16777217):((e=e.memoizedProps)!==i&&cl(t),ml(t),hl(t,o,0,0,n)),null;case 27:if(J(t),n=X.current,o=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&cl(t);else{if(!i){if(null===t.stateNode)throw Error(r(166));return ml(t),null}e=W.current,wi(t)?bi(t):(e=Hh(o,i,n),t.stateNode=e,cl(t))}return ml(t),null;case 5:if(J(t),o=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&cl(t);else{if(!i){if(null===t.stateNode)throw Error(r(166));return ml(t),null}if(a=W.current,wi(t))bi(t);else{var s=bh(X.current);switch(a){case 1:a=s.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:a=s.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":a=s.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":a=s.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":(a=s.createElement("div")).innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a="string"==typeof i.is?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?a.multiple=!0:i.size&&(a.size=i.size);break;default:a="string"==typeof i.is?s.createElement(o,{is:i.is}):s.createElement(o)}}a[Ue]=t,a[$e]=i;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)a.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=a;e:switch(mh(a,o,i),o){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&cl(t)}}return ml(t),hl(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&cl(t);else{if("string"!=typeof i&&null===t.stateNode)throw Error(r(166));if(e=X.current,wi(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(o=pi))switch(o.tag){case 27:case 5:i=o.memoizedProps}e[Ue]=t,(e=!!(e.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||ph(e.nodeValue,n)))||yi(t,!0)}else(e=bh(e).createTextNode(i))[Ue]=t,t.stateNode=e}return ml(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(i=wi(t),null!==n){if(null===e){if(!i)throw Error(r(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(r(557));e[Ue]=t}else xi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ml(t),e=!1}else n=Si(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(jo(t),t):(jo(t),null);if(128&t.flags)throw Error(r(558))}return ml(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(o=wi(t),null!==i&&null!==i.dehydrated){if(null===e){if(!o)throw Error(r(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(r(317));o[Ue]=t}else xi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ml(t),o=!1}else o=Si(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return 256&t.flags?(jo(t),t):(jo(t),null)}return jo(t),128&t.flags?(t.lanes=n,t):(n=null!==i,e=null!==e&&null!==e.memoizedState,n&&(o=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(o=i.alternate.memoizedState.cachePool.pool),a=null,null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(a=i.memoizedState.cachePool.pool),a!==o&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),fl(t,t.updateQueue),ml(t),null);case 4:return K(),null===e&&nh(t.stateNode.containerInfo),ml(t),null;case 10:return Mi(t.type),ml(t),null;case 19:if(j(Uo),null===(i=t.memoizedState))return ml(t),null;if(o=!!(128&t.flags),null===(a=i.rendering))if(o)dl(i,!1);else{if(0!==Tu||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(a=$o(e))){for(t.flags|=128,dl(i,!1),e=a.updateQueue,t.updateQueue=e,fl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)$r(n,e),n=n.sibling;return U(Uo,1&Uo.current|2),di&&si(t,i.treeForkCount),t.child}e=e.sibling}null!==i.tail&&ce()>Ou&&(t.flags|=128,o=!0,dl(i,!1),t.lanes=4194304)}else{if(!o)if(null!==(e=$o(a))){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,fl(t,e),dl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!di)return ml(t),null}else 2*ce()-i.renderingStartTime>Ou&&536870912!==n&&(t.flags|=128,o=!0,dl(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ce(),e.sibling=null,n=Uo.current,U(Uo,o?1&n|2:1&n),di&&si(t,i.treeForkCount),e):(ml(t),null);case 22:case 23:return jo(t),No(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?!!(536870912&n)&&!(128&t.flags)&&(ml(t),6&t.subtreeFlags&&(t.flags|=8192)):ml(t),null!==(n=t.updateQueue)&&fl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&j(Qi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Mi(Vi),ml(t),null;case 25:case 30:return null}throw Error(r(156,t.tag))}function gl(e,t){switch(ci(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Mi(Vi),K(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return J(t),null;case 31:if(null!==t.memoizedState){if(jo(t),null===t.alternate)throw Error(r(340));xi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(jo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));xi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return j(Uo),null;case 4:return K(),null;case 10:return Mi(t.type),null;case 22:case 23:return jo(t),No(),null!==e&&j(Qi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Mi(Vi),null;default:return null}}function yl(e,t){switch(ci(t),t.tag){case 3:Mi(Vi),K();break;case 26:case 27:case 5:J(t);break;case 4:K();break;case 31:null!==t.memoizedState&&jo(t);break;case 13:jo(t);break;case 19:j(Uo);break;case 10:Mi(t.type);break;case 22:case 23:jo(t),No(),null!==e&&j(Qi);break;case 24:Mi(Vi)}}function bl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,a=n.inst;r=o(),a.destroy=r}n=n.next}while(n!==i)}}catch(Bp){Tc(t,t.return,Bp)}}function _l(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var a=r.inst,s=a.destroy;if(void 0!==s){a.destroy=void 0,i=t;var l=n,u=s;try{u()}catch(Mp){Tc(i,l,Mp)}}}r=r.next}while(r!==o)}}catch(Mp){Tc(t,t.return,Mp)}}function wl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ao(t,n)}catch(Uf){Tc(e,e.return,Uf)}}}function xl(e,t,n){n.props=Ts(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(Uf){Tc(e,t,Uf)}}function Sl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(cf){Tc(e,t,cf)}}function El(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(cf){Tc(e,t,cf)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(cf){Tc(e,t,cf)}else n.current=null}function kl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(cf){Tc(e,e.return,cf)}}function Tl(e,t,n){try{var i=e.stateNode;(function(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,a=null,s=null,l=null,u=null,c=null,h=null;for(d in n){var p=n[d];if(n.hasOwnProperty(d)&&null!=p)switch(d){case"checked":case"value":break;case"defaultValue":u=p;default:i.hasOwnProperty(d)||fh(e,t,d,null,i,p)}}for(var f in i){var d=i[f];if(p=n[f],i.hasOwnProperty(f)&&(null!=d||null!=p))switch(f){case"type":a=d;break;case"name":o=d;break;case"checked":c=d;break;case"defaultChecked":h=d;break;case"value":s=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(r(137,t));break;default:d!==p&&fh(e,t,f,d,i,p)}}return void _t(e,s,l,u,c,h,a,o);case"select":for(a in d=s=l=f=null,n)if(u=n[a],n.hasOwnProperty(a)&&null!=u)switch(a){case"value":break;case"multiple":d=u;default:i.hasOwnProperty(a)||fh(e,t,a,null,i,u)}for(o in i)if(a=i[o],u=n[o],i.hasOwnProperty(o)&&(null!=a||null!=u))switch(o){case"value":f=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==u&&fh(e,t,o,a,i,u)}return t=l,n=s,i=d,void(null!=f?St(e,!!n,f,!1):!!i!=!!n&&(null!=t?St(e,!!n,t,!0):St(e,!!n,n?[]:"",!1)));case"textarea":for(l in d=f=null,n)if(o=n[l],n.hasOwnProperty(l)&&null!=o&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:fh(e,t,l,null,i,o)}for(s in i)if(o=i[s],a=n[s],i.hasOwnProperty(s)&&(null!=o||null!=a))switch(s){case"value":f=o;break;case"defaultValue":d=o;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(r(91));break;default:o!==a&&fh(e,t,s,o,i,a)}return void Et(e,f,d);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!i.hasOwnProperty(m))if("selected"===m)e.selected=!1;else fh(e,t,m,null,i,f);for(u in i)if(f=i[u],d=n[u],i.hasOwnProperty(u)&&f!==d&&(null!=f||null!=d))if("selected"===u)e.selected=f&&"function"!=typeof f&&"symbol"!=typeof f;else fh(e,t,u,f,i,d);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!i.hasOwnProperty(v)&&fh(e,t,v,null,i,f);for(c in i)if(f=i[c],d=n[c],i.hasOwnProperty(c)&&f!==d&&(null!=f||null!=d))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(r(137,t));break;default:fh(e,t,c,f,i,d)}return;default:if(At(t)){for(var g in n)f=n[g],n.hasOwnProperty(g)&&void 0!==f&&!i.hasOwnProperty(g)&&dh(e,t,g,void 0,i,f);for(h in i)f=i[h],d=n[h],!i.hasOwnProperty(h)||f===d||void 0===f&&void 0===d||dh(e,t,h,f,i,d);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!i.hasOwnProperty(y)&&fh(e,t,y,null,i,f);for(p in i)f=i[p],d=n[p],!i.hasOwnProperty(p)||f===d||null==f&&null==d||fh(e,t,p,f,i,d)})(i,e.type,n,t),i[$e]=t}catch(cf){Tc(e,e.return,cf)}}function Ll(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Mh(e.type)||4===e.tag}function Cl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Ll(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Mh(e.type)||2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ml(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=It));else if(4!==r&&(27===r&&Mh(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Ml(e,t,n),e=e.sibling;null!==e;)Ml(e,t,n),e=e.sibling}function Al(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Mh(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Al(e,t,n),e=e.sibling;null!==e;)Al(e,t,n),e=e.sibling}function Rl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);mh(t,r,n),t[Ue]=e,t[$e]=n}catch(rd){Tc(e,e.return,rd)}}var Pl=!1,zl=!1,Il=!1,Nl="function"==typeof WeakSet?WeakSet:Set,Dl=null;function Ol(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Kl(e,n),4&r&&bl(5,n);break;case 1:if(Kl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(Df){Tc(n,n.return,Df)}else{var i=Ts(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(Df){Tc(n,n.return,Df)}}64&r&&wl(n),512&r&&Sl(n,n.return);break;case 3:if(Kl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ao(e,t)}catch(Df){Tc(n,n.return,Df)}}break;case 27:null===t&&4&r&&Rl(n);case 26:case 5:Kl(e,n),null===t&&4&r&&kl(n),512&r&&Sl(n,n.return);break;case 12:Kl(e,n);break;case 31:Kl(e,n),4&r&&Ul(e,n);break;case 13:Kl(e,n),4&r&&$l(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Ac.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Pl)){t=null!==t&&null!==t.memoizedState||zl,i=Pl;var o=zl;Pl=r,(zl=t)&&!o?Jl(e,n,!!(8772&n.subtreeFlags)):Kl(e,n),Pl=i,zl=o}break;case 30:break;default:Kl(e,n)}}function Fl(e){var t=e.alternate;null!==t&&(e.alternate=null,Fl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ke(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Bl=null,Hl=!1;function Vl(e,t,n){for(n=n.child;null!==n;)jl(e,t,n),n=n.sibling}function jl(e,t,n){if(_e&&"function"==typeof _e.onCommitFiberUnmount)try{_e.onCommitFiberUnmount(be,n)}catch{}switch(n.tag){case 26:zl||El(n,t),Vl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:zl||El(n,t);var r=Bl,i=Hl;Mh(n.type)&&(Bl=n.stateNode,Hl=!1),Vl(e,t,n),Vh(n.stateNode),Bl=r,Hl=i;break;case 5:zl||El(n,t);case 6:if(r=Bl,i=Hl,Bl=null,Vl(e,t,n),Hl=i,null!==(Bl=r))if(Hl)try{(9===Bl.nodeType?Bl.body:"HTML"===Bl.nodeName?Bl.ownerDocument.body:Bl).removeChild(n.stateNode)}catch(rd){Tc(n,t,rd)}else try{Bl.removeChild(n.stateNode)}catch(rd){Tc(n,t,rd)}break;case 18:null!==Bl&&(Hl?(Ah(9===(e=Bl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Kp(e)):Ah(Bl,n.stateNode));break;case 4:r=Bl,i=Hl,Bl=n.stateNode.containerInfo,Hl=!0,Vl(e,t,n),Bl=r,Hl=i;break;case 0:case 11:case 14:case 15:_l(2,n,t),zl||_l(4,n,t),Vl(e,t,n);break;case 1:zl||(El(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&xl(n,t,r)),Vl(e,t,n);break;case 21:Vl(e,t,n);break;case 22:zl=(r=zl)||null!==n.memoizedState,Vl(e,t,n),zl=r;break;default:Vl(e,t,n)}}function Ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Kp(e)}catch(Wf){Tc(t,t.return,Wf)}}}function $l(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Kp(e)}catch(Wf){Tc(t,t.return,Wf)}}function ql(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Nl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Nl),t;default:throw Error(r(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Rc.bind(null,e,t);t.then(r,r)}})}function Wl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var o=n[i],a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(Mh(l.type)){Bl=l.stateNode,Hl=!1;break e}break;case 5:Bl=l.stateNode,Hl=!1;break e;case 3:case 4:Bl=l.stateNode.containerInfo,Hl=!0;break e}l=l.return}if(null===Bl)throw Error(r(160));jl(a,s,o),Bl=null,Hl=!1,null!==(a=o.alternate)&&(a.return=null),o.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Xl(t,e),t=t.sibling}var Yl=null;function Xl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Wl(t,e),Gl(e),4&i&&(_l(3,e,e.return),bl(3,e),_l(5,e,e.return));break;case 1:Wl(t,e),Gl(e),512&i&&(zl||null===n||El(n,n.return)),64&i&&Pl&&(null!==(e=e.updateQueue)&&(null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i))));break;case 26:var o=Yl;if(Wl(t,e),Gl(e),512&i&&(zl||null===n||El(n,n.return)),4&i){var a=null!==n?n.memoizedState:null;if(i=e.memoizedState,null===n)if(null===i)if(null===e.stateNode){e:{i=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":(!(a=o.getElementsByTagName("title")[0])||a[Qe]||a[Ue]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=o.createElement(i),o.head.insertBefore(a,o.querySelector("head > title"))),mh(a,i,n),a[Ue]=e,nt(a),i=a;break e;case"link":var s=op("link","href",o).get(i+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((a=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}mh(a=o.createElement(i),i,n),o.head.appendChild(a);break;case"meta":if(s=op("meta","content",o).get(i+(n.content||"")))for(l=0;l<s.length;l++)if((a=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}mh(a=o.createElement(i),i,n),o.head.appendChild(a);break;default:throw Error(r(468,i))}a[Ue]=e,nt(a),i=a}e.stateNode=i}else ap(o,e.type,e.stateNode);else e.stateNode=ep(o,i,e.memoizedProps);else a!==i?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===i?ap(o,e.type,e.stateNode):ep(o,i,e.memoizedProps)):null===i&&null!==e.stateNode&&Tl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Wl(t,e),Gl(e),512&i&&(zl||null===n||El(n,n.return)),null!==n&&4&i&&Tl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Wl(t,e),Gl(e),512&i&&(zl||null===n||El(n,n.return)),32&e.flags){o=e.stateNode;try{Tt(o,"")}catch(m){Tc(e,e.return,m)}}4&i&&null!=e.stateNode&&Tl(e,o=e.memoizedProps,null!==n?n.memoizedProps:o),1024&i&&(Il=!0);break;case 6:if(Wl(t,e),Gl(e),4&i){if(null===e.stateNode)throw Error(r(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(m){Tc(e,e.return,m)}}break;case 3:if(ip=null,o=Yl,Yl=$h(t.containerInfo),Wl(t,e),Yl=o,Gl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Kp(t.containerInfo)}catch(m){Tc(e,e.return,m)}Il&&(Il=!1,Ql(e));break;case 4:i=Yl,Yl=$h(e.stateNode.containerInfo),Wl(t,e),Gl(e),Yl=i;break;case 12:default:Wl(t,e),Gl(e);break;case 31:case 19:Wl(t,e),Gl(e),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,ql(e,i)));break;case 13:Wl(t,e),Gl(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Nu=ce()),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,ql(e,i)));break;case 22:o=null!==e.memoizedState;var u=null!==n&&null!==n.memoizedState,c=Pl,h=zl;if(Pl=c||o,zl=h||u,Wl(t,e),zl=h,Pl=c,Gl(e),8192&i)e:for(t=e.stateNode,t._visibility=o?-2&t._visibility:1|t._visibility,o&&(null===n||u||Pl||zl||Zl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){u=n=t;try{if(a=u.stateNode,o)"function"==typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=u.stateNode;var p=u.memoizedProps.style,f=null!=p&&p.hasOwnProperty("display")?p.display:null;l.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(m){Tc(u,u.return,m)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=o?"":u.memoizedProps}catch(m){Tc(u,u.return,m)}}}else if(18===t.tag){if(null===n){u=t;try{var d=u.stateNode;o?Rh(d,!0):Rh(u.stateNode,!1)}catch(m){Tc(u,u.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&(null!==(i=e.updateQueue)&&(null!==(n=i.retryQueue)&&(i.retryQueue=null,ql(e,n))));case 30:case 21:}}function Gl(e){var t=e.flags;if(2&t){try{for(var n,i=e.return;null!==i;){if(Ll(i)){n=i;break}i=i.return}if(null==n)throw Error(r(160));switch(n.tag){case 27:var o=n.stateNode;Al(e,Cl(e),o);break;case 5:var a=n.stateNode;32&n.flags&&(Tt(a,""),n.flags&=-33),Al(e,Cl(e),a);break;case 3:case 4:var s=n.stateNode.containerInfo;Ml(e,Cl(e),s);break;default:throw Error(r(161))}}catch(Mp){Tc(e,e.return,Mp)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ql(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ql(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Kl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ol(e,t.alternate,t),t=t.sibling}function Zl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:_l(4,t,t.return),Zl(t);break;case 1:El(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&xl(t,t.return,n),Zl(t);break;case 27:Vh(t.stateNode);case 26:case 5:El(t,t.return),Zl(t);break;case 22:null===t.memoizedState&&Zl(t);break;default:Zl(t)}e=e.sibling}}function Jl(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,o=t,a=o.flags;switch(o.tag){case 0:case 11:case 15:Jl(i,o,n),bl(4,o);break;case 1:if(Jl(i,o,n),"function"==typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(yp){Tc(r,r.return,yp)}if(null!==(i=(r=o).updateQueue)){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Mo(l[i],s)}catch(yp){Tc(r,r.return,yp)}}n&&64&a&&wl(o),Sl(o,o.return);break;case 27:Rl(o);case 26:case 5:Jl(i,o,n),n&&null===r&&4&a&&kl(o),Sl(o,o.return);break;case 12:Jl(i,o,n);break;case 31:Jl(i,o,n),n&&4&a&&Ul(i,o);break;case 13:Jl(i,o,n),n&&4&a&&$l(i,o);break;case 22:null===o.memoizedState&&Jl(i,o,n),Sl(o,o.return);break;case 30:break;default:Jl(i,o,n)}t=t.sibling}}function eu(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ui(n))}function tu(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ui(e))}function nu(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ru(e,t,n,r),t=t.sibling}function ru(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:nu(e,t,n,r),2048&i&&bl(9,t);break;case 1:case 31:case 13:default:nu(e,t,n,r);break;case 3:nu(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ui(e)));break;case 12:if(2048&i){nu(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,a=o.id,s=o.onPostCommit;"function"==typeof s&&s(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch($p){Tc(t,t.return,$p)}}else nu(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,a=t.alternate,null!==t.memoizedState?2&o._visibility?nu(e,t,n,r):ou(e,t):2&o._visibility?nu(e,t,n,r):(o._visibility|=2,iu(e,t,n,r,!!(10256&t.subtreeFlags)||!1)),2048&i&&eu(a,t);break;case 24:nu(e,t,n,r),2048&i&&tu(t.alternate,t)}}function iu(e,t,n,r,i){for(i=i&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var o=e,a=t,s=n,l=r,u=a.flags;switch(a.tag){case 0:case 11:case 15:iu(o,a,s,l,i),bl(8,a);break;case 23:break;case 22:var c=a.stateNode;null!==a.memoizedState?2&c._visibility?iu(o,a,s,l,i):ou(o,a):(c._visibility|=2,iu(o,a,s,l,i)),i&&2048&u&&eu(a.alternate,a);break;case 24:iu(o,a,s,l,i),i&&2048&u&&tu(a.alternate,a);break;default:iu(o,a,s,l,i)}t=t.sibling}}function ou(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:ou(n,r),2048&i&&eu(r.alternate,r);break;case 24:ou(n,r),2048&i&&tu(r.alternate,r);break;default:ou(n,r)}t=t.sibling}}var au=8192;function su(e,t,n){if(e.subtreeFlags&au)for(e=e.child;null!==e;)lu(e,t,n),e=e.sibling}function lu(e,t,n){switch(e.tag){case 26:su(e,t,n),e.flags&au&&null!==e.memoizedState&&function(e,t,n,r){if(!("stylesheet"!==n.type||"string"==typeof r.media&&!1===matchMedia(r.media).matches||4&n.state.loading)){if(null===n.instance){var i=Gh(r.href),o=t.querySelector(Qh(i));if(o)return null!==(t=o._p)&&"object"==typeof t&&"function"==typeof t.then&&(e.count++,e=up.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,void nt(o);o=t.ownerDocument||t,r=Kh(r),(i=jh.get(i))&&np(r,i),nt(o=o.createElement("link"));var a=o;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),mh(o,"link",r),n.instance=o}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(3&n.state.loading)&&(e.count++,n=up.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Yl,e.memoizedState,e.memoizedProps);break;case 5:default:su(e,t,n);break;case 3:case 4:var r=Yl;Yl=$h(e.stateNode.containerInfo),su(e,t,n),Yl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=au,au=16777216,su(e,t,n),au=r):su(e,t,n))}}function uu(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function cu(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Dl=r,fu(r,e)}uu(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)hu(e),e=e.sibling}function hu(e){switch(e.tag){case 0:case 11:case 15:cu(e),2048&e.flags&&_l(9,e,e.return);break;case 3:case 12:default:cu(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,pu(e)):cu(e)}}function pu(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Dl=r,fu(r,e)}uu(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:_l(8,t,t.return),pu(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,pu(t));break;default:pu(t)}e=e.sibling}}function fu(e,t){for(;null!==Dl;){var n=Dl;switch(n.tag){case 0:case 11:case 15:_l(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ui(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Dl=r;else e:for(n=e;null!==Dl;){var i=(r=Dl).sibling,o=r.return;if(Fl(r),r===n){Dl=null;break e}if(null!==i){i.return=o,Dl=i;break e}Dl=o}}}var du={getCacheForType:function(e){var t=Ni(Vi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ni(Vi).controller.signal}},mu="function"==typeof WeakMap?WeakMap:Map,vu=0,gu=null,yu=null,bu=0,_u=0,wu=null,xu=!1,Su=!1,Eu=!1,ku=0,Tu=0,Lu=0,Cu=0,Mu=0,Au=0,Ru=0,Pu=null,zu=null,Iu=!1,Nu=0,Du=0,Ou=1/0,Fu=null,Bu=null,Hu=0,Vu=null,ju=null,Uu=0,$u=0,qu=null,Wu=null,Yu=0,Xu=null;function Gu(){return 2&vu&&0!==bu?bu&-bu:null!==D.T?qc():He()}function Qu(){if(0===Au)if(536870912&bu&&!di)Au=536870912;else{var e=Te;!(3932160&(Te<<=1))&&(Te=262144),Au=e}return null!==(e=Do.current)&&(e.flags|=32),Au}function Ku(e,t,n){(e===gu&&(2===_u||9===_u)||null!==e.cancelPendingCommit)&&(ic(e,0),tc(e,bu,Au,!1)),Ie(e,n),(!(2&vu)||e!==gu)&&(e===gu&&(!(2&vu)&&(Cu|=n),4===Tu&&tc(e,bu,Au,!1)),Fc(e))}function Zu(e,t,n){if(6&vu)throw Error(r(327));for(var i=!n&&!(127&t)&&0===(t&e.expiredLanes)||Ae(e,t),o=i?function(e,t){var n=vu;vu|=2;var i=sc(),o=lc();gu!==e||bu!==t?(Fu=null,Ou=ce()+500,ic(e,t)):Su=Ae(e,t);e:for(;;)try{if(0!==_u&&null!==yu){t=yu;var a=wu;t:switch(_u){case 1:_u=0,wu=null,mc(e,t,a,1);break;case 2:case 9:if(io(a)){_u=0,wu=null,dc(t);break}t=function(){2!==_u&&9!==_u||gu!==e||(_u=7),Fc(e)},a.then(t,t);break e;case 3:_u=7;break e;case 4:_u=5;break e;case 7:io(a)?(_u=0,wu=null,dc(t)):(_u=0,wu=null,mc(e,t,a,7));break;case 5:var s=null;switch(yu.tag){case 26:s=yu.memoizedState;case 5:case 27:var l=yu;if(s?sp(s):l.stateNode.complete){_u=0,wu=null;var u=l.sibling;if(null!==u)yu=u;else{var c=l.return;null!==c?(yu=c,vc(c)):yu=null}break t}}_u=0,wu=null,mc(e,t,a,5);break;case 6:_u=0,wu=null,mc(e,t,a,6);break;case 8:rc(),Tu=6;break e;default:throw Error(r(462))}}pc();break}catch(Mp){oc(e,Mp)}return Li=Ti=null,D.H=i,D.A=o,vu=n,null!==yu?0:(gu=null,bu=0,zr(),Tu)}(e,t):cc(e,t,!0),a=i;;){if(0===o){Su&&!i&&tc(e,t,0,!1);break}if(n=e.current.alternate,!a||ec(n)){if(2===o){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;o=Pu;var u=l.current.memoizedState.isDehydrated;if(u&&(ic(l,s).flags|=256),2!==(s=cc(l,s,!1))){if(Eu&&!u){l.errorRecoveryDisabledLanes|=a,Cu|=a,o=4;break e}a=zu,zu=o,null!==a&&(null===zu?zu=a:zu.push.apply(zu,a))}o=s}if(a=!1,2!==o)continue}}if(1===o){ic(e,0),tc(e,t,0,!0);break}e:{switch(i=e,a=o){case 0:case 1:throw Error(r(345));case 4:if((4194048&t)!==t)break;case 6:tc(i,t,Au,!xu);break e;case 2:zu=null;break;case 3:case 5:break;default:throw Error(r(329))}if((62914560&t)===t&&10<(o=Nu+300-ce())){if(tc(i,t,Au,!xu),0!==Me(i,0,!0))break e;Uu=t,i.timeoutHandle=Eh(Ju.bind(null,i,n,zu,Fu,Iu,t,Au,Cu,Ru,xu,a,"Throttled",-0,0),o)}else Ju(i,n,zu,Fu,Iu,t,Au,Cu,Ru,xu,a,null,-0,0)}break}o=cc(e,t,!1),a=!1}Fc(e)}function Ju(e,t,n,r,i,o,a,s,l,u,c,h,p,f){if(e.timeoutHandle=-1,8192&(h=t.subtreeFlags)||!(16785408&~h)){lu(t,o,h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:It});var d=(62914560&o)===o?Nu-ce():(4194048&o)===o?Du-ce():0;if(d=function(e,t){return e.stylesheets&&0===e.count&&hp(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&hp(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===lp&&(lp=62500*function(){if("function"==typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],o=i.transferSize,a=i.initiatorType,s=i.duration;if(o&&s&&vh(a)){for(a=0,s=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],u=l.startTime;if(u>s)break;var c=l.transferSize,h=l.initiatorType;c&&vh(h)&&(a+=c*((l=l.responseEnd)<s?1:(s-u)/(l-u)))}if(--r,t+=8*(o+a)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,"number"==typeof e)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&hp(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>lp?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(h,d),null!==d)return Uu=o,e.cancelPendingCommit=d(yc.bind(null,e,t,o,n,r,i,a,s,l,c,h,null,p,f)),void tc(e,o,a,!u)}yc(e,t,o,n,r,i,a,s,l)}function ec(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!tr(o(),i))return!1}catch{return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tc(e,t,n,r){t&=~Mu,t&=~Cu,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-xe(i),a=1<<o;r[o]=-1,i&=~a}0!==n&&Ne(e,n,t)}function nc(){return!!(6&vu)||(Bc(0),!1)}function rc(){if(null!==yu){if(0===_u)var e=yu.return;else Li=Ti=null,ca(e=yu),co=null,ho=0,e=yu;for(;null!==e;)yl(e.alternate,e),e=e.return;yu=null}}function ic(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,kh(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Uu=0,rc(),gu=e,yu=n=Ur(e.current,null),bu=t,_u=0,wu=null,xu=!1,Su=Ae(e,t),Eu=!1,Ru=Au=Mu=Cu=Lu=Tu=0,zu=Pu=null,Iu=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-xe(r),o=1<<i;t|=e[i],r&=~o}return ku=t,zr(),n}function oc(e,t){Wo=null,D.H=ys,t===eo||t===no?(t=lo(),_u=3):t===to?(t=lo(),_u=4):_u=t===Ns?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,wu=t,null===yu&&(Tu=1,As(e,Kr(t,e.current)))}function ac(){var e=Do.current;return null===e||((4194048&bu)===bu?null===Oo:!!((62914560&bu)===bu||536870912&bu)&&e===Oo)}function sc(){var e=D.H;return D.H=ys,null===e?ys:e}function lc(){var e=D.A;return D.A=du,e}function uc(){Tu=4,xu||(4194048&bu)!==bu&&null!==Do.current||(Su=!0),!(134217727&Lu)&&!(134217727&Cu)||null===gu||tc(gu,bu,Au,!1)}function cc(e,t,n){var r=vu;vu|=2;var i=sc(),o=lc();(gu!==e||bu!==t)&&(Fu=null,ic(e,t)),t=!1;var a=Tu;e:for(;;)try{if(0!==_u&&null!==yu){var s=yu,l=wu;switch(_u){case 8:rc(),a=6;break e;case 3:case 2:case 9:case 6:null===Do.current&&(t=!0);var u=_u;if(_u=0,wu=null,mc(e,s,l,u),n&&Su){a=0;break e}break;default:u=_u,_u=0,wu=null,mc(e,s,l,u)}}hc(),a=Tu;break}catch(Mp){oc(e,Mp)}return t&&e.shellSuspendCounter++,Li=Ti=null,vu=r,D.H=i,D.A=o,null===yu&&(gu=null,bu=0,zr()),a}function hc(){for(;null!==yu;)fc(yu)}function pc(){for(;null!==yu&&!le();)fc(yu)}function fc(e){var t=ul(e.alternate,e,ku);e.memoizedProps=e.pendingProps,null===t?vc(e):yu=t}function dc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Xs(n,t,t.pendingProps,t.type,void 0,bu);break;case 11:t=Xs(n,t,t.pendingProps,t.type.render,t.ref,bu);break;case 5:ca(t);default:yl(n,t),t=ul(n,t=yu=$r(t,ku),ku)}e.memoizedProps=e.pendingProps,null===t?vc(e):yu=t}function mc(e,t,n,i){Li=Ti=null,ca(t),co=null,ho=0;var o=t.return;try{if(function(e,t,n,i,o){if(n.flags|=32768,null!==i&&"object"==typeof i&&"function"==typeof i.then){if(null!==(t=n.alternate)&&Pi(t,n,o,!0),null!==(n=Do.current)){switch(n.tag){case 31:case 13:return null===Oo?uc():null===n.alternate&&0===Tu&&(Tu=3),n.flags&=-257,n.flags|=65536,n.lanes=o,i===ro?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),Lc(e,i,o)),!1;case 22:return n.flags|=65536,i===ro?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),Lc(e,i,o)),!1}throw Error(r(435,n.tag))}return Lc(e,i,o),uc(),!1}if(di)return null!==(t=Do.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=o,i!==gi&&Ei(Kr(e=Error(r(422),{cause:i}),n))):(i!==gi&&Ei(Kr(t=Error(r(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,o&=-o,e.lanes|=o,i=Kr(i,n),ko(e,o=Ps(e.stateNode,i,o)),4!==Tu&&(Tu=2)),!1;var a=Error(r(520),{cause:i});if(a=Kr(a,n),null===Pu?Pu=[a]:Pu.push(a),4!==Tu&&(Tu=2),null===t)return!0;i=Kr(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,ko(n,e=Ps(n.stateNode,i,e)),!1;case 1:if(t=n.type,a=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===a||"function"!=typeof a.componentDidCatch||null!==Bu&&Bu.has(a))))return n.flags|=65536,o&=-o,n.lanes|=o,Is(o=zs(o),e,n,i),ko(n,o),!1}n=n.return}while(null!==n);return!1}(e,o,t,n,bu))return Tu=1,As(e,Kr(n,e.current)),void(yu=null)}catch(rd){if(null!==o)throw yu=o,rd;return Tu=1,As(e,Kr(n,e.current)),void(yu=null)}32768&t.flags?(di||1===i?e=!0:Su||536870912&bu?e=!1:(xu=e=!0,(2===i||9===i||3===i||6===i)&&(null!==(i=Do.current)&&13===i.tag&&(i.flags|=16384))),gc(t,e)):vc(t)}function vc(e){var t=e;do{if(32768&t.flags)return void gc(t,xu);e=t.return;var n=vl(t.alternate,t,ku);if(null!==n)return void(yu=n);if(null!==(t=t.sibling))return void(yu=t);yu=t=e}while(null!==t);0===Tu&&(Tu=5)}function gc(e,t){do{var n=gl(e.alternate,e);if(null!==n)return n.flags&=32767,void(yu=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(yu=e);yu=e=n}while(null!==e);Tu=6,yu=null}function yc(e,t,n,i,o,a,s,l,u){e.cancelPendingCommit=null;do{Sc()}while(0!==Hu);if(6&vu)throw Error(r(327));if(null!==t){if(t===e.current)throw Error(r(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,i,o){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=a&~n;0<n;){var c=31-xe(n),h=1<<c;s[c]=0,l[c]=-1;var p=u[c];if(null!==p)for(u[c]=null,c=0;c<p.length;c++){var f=p[c];null!==f&&(f.lane&=-536870913)}n&=~h}0!==r&&Ne(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(a&~t))}(e,n,a|=Pr,s,l,u),e===gu&&(yu=gu=null,bu=0),ju=t,Vu=e,Uu=n,$u=a,qu=o,Wu=i,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,function(e,t){ae(e,t)}(de,function(){return Ec(),null})):(e.callbackNode=null,e.callbackPriority=0),i=!!(13878&t.flags),13878&t.subtreeFlags||i){i=D.T,D.T=null,o=O.p,O.p=2,s=vu,vu|=4;try{!function(e,t){if(e=e.containerInfo,gh=Sp,sr(e=ar(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var o=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,l=-1,u=-1,c=0,h=0,p=e,f=null;t:for(;;){for(var d;p!==n||0!==o&&3!==p.nodeType||(l=s+o),p!==a||0!==i&&3!==p.nodeType||(u=s+i),3===p.nodeType&&(s+=p.nodeValue.length),null!==(d=p.firstChild);)f=p,p=d;for(;;){if(p===e)break t;if(f===n&&++c===o&&(l=s),f===a&&++h===i&&(u=s),null!==(d=p.nextSibling))break;f=(p=f).parentNode}p=d}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(yh={focusedElem:e,selectionRange:n},Sp=!1,Dl=t;null!==Dl;)if(e=(t=Dl).child,1028&t.subtreeFlags&&null!==e)e.return=t,Dl=e;else for(;null!==Dl;){switch(a=(t=Dl).alternate,e=t.flags,t.tag){case 0:if(4&e&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(o=e[n]).ref.impl=o.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==a){e=void 0,n=t,o=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var m=Ts(n.type,o);e=i.getSnapshotBeforeUpdate(m,a),i.__reactInternalSnapshotBeforeUpdate=e}catch(v){Tc(n,n.return,v)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))Ph(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ph(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(r(163))}if(null!==(e=t.sibling)){e.return=t.return,Dl=e;break}Dl=t.return}}(e,t)}finally{vu=s,O.p=o,D.T=i}}Hu=1,bc(),_c(),wc()}}function bc(){if(1===Hu){Hu=0;var e=Vu,t=ju,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=D.T,D.T=null;var r=O.p;O.p=2;var i=vu;vu|=4;try{Xl(t,e);var o=yh,a=ar(e.containerInfo),s=o.focusedElem,l=o.selectionRange;if(a!==s&&s&&s.ownerDocument&&or(s.ownerDocument.documentElement,s)){if(null!==l&&sr(s)){var u=l.start,c=l.end;if(void 0===c&&(c=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(c,s.value.length);else{var h=s.ownerDocument||document,p=h&&h.defaultView||window;if(p.getSelection){var f=p.getSelection(),d=s.textContent.length,m=Math.min(l.start,d),v=void 0===l.end?m:Math.min(l.end,d);!f.extend&&m>v&&(a=v,v=m,m=a);var g=ir(s,m),y=ir(s,v);if(g&&y&&(1!==f.rangeCount||f.anchorNode!==g.node||f.anchorOffset!==g.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var b=h.createRange();b.setStart(g.node,g.offset),f.removeAllRanges(),m>v?(f.addRange(b),f.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),f.addRange(b))}}}}for(h=[],f=s;f=f.parentNode;)1===f.nodeType&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof s.focus&&s.focus(),s=0;s<h.length;s++){var _=h[s];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}Sp=!!gh,yh=gh=null}finally{vu=i,O.p=r,D.T=n}}e.current=t,Hu=2}}function _c(){if(2===Hu){Hu=0;var e=Vu,t=ju,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=D.T,D.T=null;var r=O.p;O.p=2;var i=vu;vu|=4;try{Ol(e,t.alternate,t)}finally{vu=i,O.p=r,D.T=n}}Hu=3}}function wc(){if(4===Hu||3===Hu){Hu=0,ue();var e=Vu,t=ju,n=Uu,r=Wu;10256&t.subtreeFlags||10256&t.flags?Hu=5:(Hu=0,ju=Vu=null,xc(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Bu=null),Be(n),t=t.stateNode,_e&&"function"==typeof _e.onCommitFiberRoot)try{_e.onCommitFiberRoot(be,t,void 0,!(128&~t.current.flags))}catch{}if(null!==r){t=D.T,i=O.p,O.p=2,D.T=null;try{for(var o=e.onRecoverableError,a=0;a<r.length;a++){var s=r[a];o(s.value,{componentStack:s.stack})}}finally{D.T=t,O.p=i}}!!(3&Uu)&&Sc(),Fc(e),i=e.pendingLanes,261930&n&&42&i?e===Xu?Yu++:(Yu=0,Xu=e):Yu=0,Bc(0)}}function xc(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ui(t)))}function Sc(){return bc(),_c(),wc(),Ec()}function Ec(){if(5!==Hu)return!1;var e=Vu,t=$u;$u=0;var n=Be(Uu),i=D.T,o=O.p;try{O.p=32>n?32:n,D.T=null,n=qu,qu=null;var a=Vu,s=Uu;if(Hu=0,ju=Vu=null,Uu=0,6&vu)throw Error(r(331));var l=vu;if(vu|=4,hu(a.current),ru(a,a.current,s,n),vu=l,Bc(0,!1),_e&&"function"==typeof _e.onPostCommitFiberRoot)try{_e.onPostCommitFiberRoot(be,a)}catch{}return!0}finally{O.p=o,D.T=i,xc(e,t)}}function kc(e,t,n){t=Kr(n,t),null!==(e=So(e,t=Ps(e.stateNode,t,2),2))&&(Ie(e,2),Fc(e))}function Tc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Bu||!Bu.has(r))){e=Kr(n,e),null!==(r=So(t,n=zs(2),2))&&(Is(n,r,t,e),Ie(r,2),Fc(r));break}}t=t.return}}function Lc(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new mu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(Eu=!0,i.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,gu===e&&(bu&n)===n&&(4===Tu||3===Tu&&(62914560&bu)===bu&&300>ce()-Nu?!(2&vu)&&ic(e,0):Mu|=n,Ru===bu&&(Ru=0)),Fc(e)}function Mc(e,t){0===t&&(t=Pe()),null!==(e=Dr(e,t))&&(Ie(e,t),Fc(e))}function Ac(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Mc(e,n)}function Rc(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==i&&i.delete(t),Mc(e,n)}var Pc=null,zc=null,Ic=!1,Nc=!1,Dc=!1,Oc=0;function Fc(e){e!==zc&&null===e.next&&(null===zc?Pc=zc=e:zc=zc.next=e),Nc=!0,Ic||(Ic=!0,Lh(function(){6&vu?ae(pe,Hc):Vc()}))}function Bc(e,t){if(!Dc&&Nc){Dc=!0;do{for(var n=!1,r=Pc;null!==r;){if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var a=r.suspendedLanes,s=r.pingedLanes;o=(1<<31-xe(42|e)+1)-1,o=201326741&(o&=i&~(a&~s))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,$c(r,o))}else o=bu,!(3&(o=Me(r,r===gu?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Ae(r,o)||(n=!0,$c(r,o));r=r.next}}while(n);Dc=!1}}function Hc(){Vc()}function Vc(){Nc=Ic=!1;var e=0;0!==Oc&&function(){var e=window.event;return e&&"popstate"===e.type?e!==Sh&&(Sh=e,!0):(Sh=null,!1)}()&&(e=Oc);for(var t=ce(),n=null,r=Pc;null!==r;){var i=r.next,o=jc(r,t);0===o?(r.next=null,null===n?Pc=i:n.next=i,null===i&&(zc=n)):(n=r,(0!==e||!!(3&o))&&(Nc=!0)),r=i}0!==Hu&&5!==Hu||Bc(e),0!==Oc&&(Oc=0)}function jc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var a=31-xe(o),s=1<<a,l=i[a];-1===l?(0===(s&n)||0!==(s&r))&&(i[a]=Re(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}if(n=bu,n=Me(e,e===(t=gu)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===_u||9===_u)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&se(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Ae(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&se(r),Be(n)){case 2:case 8:n=fe;break;case 32:default:n=de;break;case 268435456:n=ve}return r=Uc.bind(null,e),n=ae(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&se(r),e.callbackPriority=2,e.callbackNode=null,2}function Uc(e,t){if(0!==Hu&&5!==Hu)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=bu;return 0===(r=Me(e,e===gu?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Zu(e,r,t),jc(e,ce()),null!=e.callbackNode&&e.callbackNode===n?Uc.bind(null,e):null)}function $c(e,t){if(Sc())return null;Zu(e,t,!0)}function qc(){if(0===Oc){var e=Wi;0===e&&(e=ke,!(261888&(ke<<=1))&&(ke=256)),Oc=e}return Oc}function Wc(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:zt(""+e)}function Yc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Xc=0;Xc<Lr.length;Xc++){var Gc=Lr[Xc];Cr(Gc.toLowerCase(),"on"+(Gc[0].toUpperCase()+Gc.slice(1)))}Cr(br,"onAnimationEnd"),Cr(_r,"onAnimationIteration"),Cr(wr,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(xr,"onTransitionRun"),Cr(Sr,"onTransitionStart"),Cr(Er,"onTransitionCancel"),Cr(kr,"onTransitionEnd"),at("onMouseEnter",["mouseout","mouseover"]),at("onMouseLeave",["mouseout","mouseover"]),at("onPointerEnter",["pointerout","pointerover"]),at("onPointerLeave",["pointerout","pointerover"]),ot("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ot("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ot("onBeforeInput",["compositionend","keypress","textInput","paste"]),ot("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ot("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ot("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qc));function Zc(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=u;try{o(i)}catch(Mp){Mr(Mp)}i.currentTarget=null,o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=u;try{o(i)}catch(Mp){Mr(Mp)}i.currentTarget=null,o=l}}}}function Jc(e,t){var n=t[We];void 0===n&&(n=t[We]=new Set);var r=e+"__bubble";n.has(r)||(rh(t,e,2,!1),n.add(r))}function eh(e,t,n){var r=0;t&&(r|=4),rh(n,e,r,t)}var th="_reactListening"+Math.random().toString(36).slice(2);function nh(e){if(!e[th]){e[th]=!0,rt.forEach(function(t){"selectionchange"!==t&&(Kc.has(t)||eh(t,!1,e),eh(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[th]||(t[th]=!0,eh("selectionchange",!1,t))}}function rh(e,t,n,r){switch(Rp(t)){case 2:var i=Ep;break;case 8:i=kp;break;default:i=Tp}n=i.bind(null,t,n,e),i=void 0,!$t||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ih(e,t,n,r,i){var a=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var l=r.stateNode.containerInfo;if(l===i)break;if(4===s)for(s=r.return;null!==s;){var u=s.tag;if((3===u||4===u)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==l;){if(null===(s=Ze(l)))return;if(5===(u=s.tag)||6===u||26===u||27===u){r=a=s;continue e}l=l.parentNode}}r=r.return}Vt(function(){var r=a,i=Dt(n),s=[];e:{var l=Tr.get(e);if(void 0!==l){var u=on,c=e;switch(e){case"keypress":if(0===Qt(n))break e;case"keydown":case"keyup":u=wn;break;case"focusin":c="focus",u=hn;break;case"focusout":c="blur",u=hn;break;case"beforeblur":case"afterblur":u=hn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=un;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=cn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Sn;break;case br:case _r:case wr:u=pn;break;case kr:u=En;break;case"scroll":case"scrollend":u=sn;break;case"wheel":u=kn;break;case"copy":case"cut":case"paste":u=fn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=xn;break;case"toggle":case"beforetoggle":u=Tn}var h=!!(4&t),p=!h&&("scroll"===e||"scrollend"===e),f=h?null!==l?l+"Capture":null:l;h=[];for(var d,m=r;null!==m;){var v=m;if(d=v.stateNode,5!==(v=v.tag)&&26!==v&&27!==v||null===d||null===f||null!=(v=jt(m,f))&&h.push(oh(m,v,d)),p)break;m=m.return}0<h.length&&(l=new u(l,c,null,n,i),s.push({event:l,listeners:h}))}}if(!(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===Nt||!(c=n.relatedTarget||n.fromElement)||!Ze(c)&&!c[qe])&&(u||l)&&(l=i.window===i?i:(l=i.ownerDocument)?l.defaultView||l.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ze(c):null)&&(p=o(c),h=c.tag,c!==p||5!==h&&27!==h&&6!==h)&&(c=null)):(u=null,c=r),u!==c)){if(h=un,v="onMouseLeave",f="onMouseEnter",m="mouse",("pointerout"===e||"pointerover"===e)&&(h=xn,v="onPointerLeave",f="onPointerEnter",m="pointer"),p=null==u?l:et(u),d=null==c?l:et(c),(l=new h(v,m+"leave",u,n,i)).target=p,l.relatedTarget=d,v=null,Ze(i)===r&&((h=new h(f,m+"enter",c,n,i)).target=d,h.relatedTarget=p,v=h),p=v,u&&c)e:{for(h=sh,m=c,d=0,v=f=u;v;v=h(v))d++;v=0;for(var g=m;g;g=h(g))v++;for(;0<d-v;)f=h(f),d--;for(;0<v-d;)m=h(m),v--;for(;d--;){if(f===m||null!==m&&f===m.alternate){h=f;break e}f=h(f),m=h(m)}h=null}else h=null;null!==u&&lh(s,l,u,h,!1),null!==c&&null!==p&&lh(s,p,c,h,!0)}if("select"===(u=(l=r?et(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===u&&"file"===l.type)var y=$n;else if(Fn(l))if(qn)y=er;else{y=Zn;var b=Kn}else!(u=l.nodeName)||"input"!==u.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?r&&At(r.elementType)&&(y=$n):y=Jn;switch(y&&(y=y(e,r))?Bn(s,y,n,i):(b&&b(e,l,r),"focusout"===e&&r&&"number"===l.type&&null!=r.memoizedProps.value&&xt(l,"number",l.value)),b=r?et(r):window,e){case"focusin":(Fn(b)||"true"===b.contentEditable)&&(ur=b,cr=r,hr=null);break;case"focusout":hr=cr=ur=null;break;case"mousedown":pr=!0;break;case"contextmenu":case"mouseup":case"dragend":pr=!1,fr(s,n,i);break;case"selectionchange":if(lr)break;case"keydown":case"keyup":fr(s,n,i)}var _;if(Cn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Dn?In(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Rn&&"ko"!==n.locale&&(Dn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Dn&&(_=Gt()):(Yt="value"in(Wt=i)?Wt.value:Wt.textContent,Dn=!0)),0<(b=ah(r,w)).length&&(w=new dn(w,e,null,n,i),s.push({event:w,listeners:b}),_?w.data=_:null!==(_=Nn(n))&&(w.data=_))),(_=An?function(e,t){switch(e){case"compositionend":return Nn(t);case"keypress":return 32!==t.which?null:(zn=!0,Pn);case"textInput":return(e=t.data)===Pn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Dn)return"compositionend"===e||!Cn&&In(e,t)?(e=Gt(),Xt=Yt=Wt=null,Dn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=ah(r,"onBeforeInput")).length&&(b=new dn("onBeforeInput","beforeinput",null,n,i),s.push({event:b,listeners:w}),b.data=_)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var o=Wc((i[$e]||null).action),a=r.submitter;a&&null!==(t=(t=a[$e]||null)?Wc(t.formAction):a.getAttribute("formAction"))&&(o=t,a=null);var s=new on("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Oc){var e=a?Yc(i,a):new FormData(i);is(n,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"==typeof o&&(s.preventDefault(),e=a?Yc(i,a):new FormData(i),is(n,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(s,e,r,n,i)}Zc(s,t)})}function oh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ah(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=jt(e,n))&&r.unshift(oh(e,i,o)),null!=(i=jt(e,t))&&r.push(oh(e,i,o))),3===e.tag)return r;e=e.return}return[]}function sh(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function lh(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===u||(l=u,i?null!=(u=jt(n,o))&&a.unshift(oh(n,u,l)):i||null!=(u=jt(n,o))&&a.push(oh(n,u,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var uh=/\r\n?/g,ch=/\u0000|\uFFFD/g;function hh(e){return("string"==typeof e?e:""+e).replace(uh,"\n").replace(ch,"")}function ph(e,t){return t=hh(t),hh(e)===t}function fh(e,t,n,i,o,a){switch(n){case"children":"string"==typeof i?"body"===t||"textarea"===t&&""===i||Tt(e,i):("number"==typeof i||"bigint"==typeof i)&&"body"!==t&&Tt(e,""+i);break;case"className":ht(e,"class",i);break;case"tabIndex":ht(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":ht(e,n,i);break;case"style":Mt(e,i,a);break;case"data":if("object"!==t){ht(e,"data",i);break}case"src":case"href":if(""===i&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==i||"function"==typeof i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=zt(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if("function"==typeof i){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof a&&("formAction"===n?("input"!==t&&fh(e,t,"name",o.name,o,null),fh(e,t,"formEncType",o.formEncType,o,null),fh(e,t,"formMethod",o.formMethod,o,null),fh(e,t,"formTarget",o.formTarget,o,null)):(fh(e,t,"encType",o.encType,o,null),fh(e,t,"method",o.method,o,null),fh(e,t,"target",o.target,o,null))),null==i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=zt(""+i),e.setAttribute(n,i);break;case"onClick":null!=i&&(e.onclick=It);break;case"onScroll":null!=i&&Jc("scroll",e);break;case"onScrollEnd":null!=i&&Jc("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(r(61));if(null!=(n=i.__html)){if(null!=o.children)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"muted":e.muted=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"==typeof i||"boolean"==typeof i||"symbol"==typeof i){e.removeAttribute("xlink:href");break}n=zt(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===i?e.setAttribute(n,""):!1!==i&&null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"==typeof i||"symbol"==typeof i||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Jc("beforetoggle",e),Jc("toggle",e),ct(e,"popover",i);break;case"xlinkActuate":pt(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":pt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":pt(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":pt(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":pt(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":pt(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":pt(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":pt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":pt(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ct(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ct(e,n=Rt.get(n)||n,i)}}function dh(e,t,n,i,o,a){switch(n){case"style":Mt(e,i,a);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(r(61));if(null!=(n=i.__html)){if(null!=o.children)throw Error(r(60));e.innerHTML=n}}break;case"children":"string"==typeof i?Tt(e,i):("number"==typeof i||"bigint"==typeof i)&&Tt(e,""+i);break;case"onScroll":null!=i&&Jc("scroll",e);break;case"onScrollEnd":null!=i&&Jc("scrollend",e);break;case"onClick":null!=i&&(e.onclick=It);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:it.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),"function"==typeof(a=null!=(a=e[$e]||null)?a[n]:null)&&e.removeEventListener(t,a,o),"function"!=typeof i)?n in e?e[n]=i:!0===i?e.setAttribute(n,""):ct(e,n,i):("function"!=typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,o)))}}function mh(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jc("error",e),Jc("load",e);var i,o=!1,a=!1;for(i in n)if(n.hasOwnProperty(i)){var s=n[i];if(null!=s)switch(i){case"src":o=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:fh(e,t,i,s,n,null)}}return a&&fh(e,t,"srcSet",n.srcSet,n,null),void(o&&fh(e,t,"src",n.src,n,null));case"input":Jc("invalid",e);var l=i=s=a=null,u=null,c=null;for(o in n)if(n.hasOwnProperty(o)){var h=n[o];if(null!=h)switch(o){case"name":a=h;break;case"type":s=h;break;case"checked":u=h;break;case"defaultChecked":c=h;break;case"value":i=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(r(137,t));break;default:fh(e,t,o,h,n,null)}}return void wt(e,i,l,u,c,s,a,!1);case"select":for(a in Jc("invalid",e),o=s=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":s=l;break;case"multiple":o=l;default:fh(e,t,a,l,n,null)}return t=i,n=s,e.multiple=!!o,void(null!=t?St(e,!!o,t,!1):null!=n&&St(e,!!o,n,!0));case"textarea":for(s in Jc("invalid",e),i=a=o=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":o=l;break;case"defaultValue":a=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(r(91));break;default:fh(e,t,s,l,n,null)}return void kt(e,o,a,i);case"option":for(u in n)if(n.hasOwnProperty(u)&&null!=(o=n[u]))if("selected"===u)e.selected=o&&"function"!=typeof o&&"symbol"!=typeof o;else fh(e,t,u,o,n,null);return;case"dialog":Jc("beforetoggle",e),Jc("toggle",e),Jc("cancel",e),Jc("close",e);break;case"iframe":case"object":Jc("load",e);break;case"video":case"audio":for(o=0;o<Qc.length;o++)Jc(Qc[o],e);break;case"image":Jc("error",e),Jc("load",e);break;case"details":Jc("toggle",e);break;case"embed":case"source":case"link":Jc("error",e),Jc("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(o=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:fh(e,t,c,o,n,null)}return;default:if(At(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(o=n[h])&&dh(e,t,h,o,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(o=n[l])&&fh(e,t,l,o,n,null))}function vh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var gh=null,yh=null;function bh(e){return 9===e.nodeType?e:e.ownerDocument}function _h(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function xh(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Sh=null;var Eh="function"==typeof setTimeout?setTimeout:void 0,kh="function"==typeof clearTimeout?clearTimeout:void 0,Th="function"==typeof Promise?Promise:void 0,Lh="function"==typeof queueMicrotask?queueMicrotask:typeof Th<"u"?function(e){return Th.resolve(null).then(e).catch(Ch)}:Eh;function Ch(e){setTimeout(function(){throw e})}function Mh(e){return"head"===e}function Ah(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void Kp(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Vh(e.ownerDocument.documentElement);else if("head"===n){Vh(n=e.ownerDocument.head);for(var o=n.firstChild;o;){var a=o.nextSibling,s=o.nodeName;o[Qe]||"SCRIPT"===s||"STYLE"===s||"LINK"===s&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=a}}else"body"===n&&Vh(e.ownerDocument.body);n=i}while(n);Kp(t)}function Rh(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Ph(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ph(n),Ke(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function zh(e,t){for(;8!==e.nodeType;)if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t||null===(e=Dh(e.nextSibling)))return null;return e}function Ih(e){return"$?"===e.data||"$~"===e.data}function Nh(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Dh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Oh=null;function Fh(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Dh(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Bh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Hh(e,t,n){switch(t=bh(n),e){case"html":if(!(e=t.documentElement))throw Error(r(452));return e;case"head":if(!(e=t.head))throw Error(r(453));return e;case"body":if(!(e=t.body))throw Error(r(454));return e;default:throw Error(r(451))}}function Vh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ke(e)}var jh=new Map,Uh=new Set;function $h(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var qh=O.d;O.d={f:function(){var e=qh.f(),t=nc();return e||t},r:function(e){var t=Je(e);null!==t&&5===t.tag&&"form"===t.type?as(t):qh.r(e)},D:function(e){qh.D(e),Yh("dns-prefetch",e,null)},C:function(e,t){qh.C(e,t),Yh("preconnect",e,t)},L:function(e,t,n){qh.L(e,t,n);var r=Wh;if(r&&e&&t){var i='link[rel="preload"][as="'+bt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+bt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(i+='[imagesizes="'+bt(n.imageSizes)+'"]')):i+='[href="'+bt(e)+'"]';var o=i;switch(t){case"style":o=Gh(e);break;case"script":o=Zh(e)}jh.has(o)||(e=c({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),jh.set(o,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Qh(o))||"script"===t&&r.querySelector(Jh(o))||(mh(t=r.createElement("link"),"link",e),nt(t),r.head.appendChild(t)))}},m:function(e,t){qh.m(e,t);var n=Wh;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+bt(r)+'"][href="'+bt(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Zh(e)}if(!jh.has(o)&&(e=c({rel:"modulepreload",href:e},t),jh.set(o,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Jh(o)))return}mh(r=n.createElement("link"),"link",e),nt(r),n.head.appendChild(r)}}},X:function(e,t){qh.X(e,t);var n=Wh;if(n&&e){var r=tt(n).hoistableScripts,i=Zh(e),o=r.get(i);o||((o=n.querySelector(Jh(i)))||(e=c({src:e,async:!0},t),(t=jh.get(i))&&rp(e,t),nt(o=n.createElement("script")),mh(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,t,n){qh.S(e,t,n);var r=Wh;if(r&&e){var i=tt(r).hoistableStyles,o=Gh(e);t=t||"default";var a=i.get(o);if(!a){var s={loading:0,preload:null};if(a=r.querySelector(Qh(o)))s.loading=5;else{e=c({rel:"stylesheet",href:e,"data-precedence":t},n),(n=jh.get(o))&&np(e,n);var l=a=r.createElement("link");nt(l),mh(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,tp(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:s},i.set(o,a)}}},M:function(e,t){qh.M(e,t);var n=Wh;if(n&&e){var r=tt(n).hoistableScripts,i=Zh(e),o=r.get(i);o||((o=n.querySelector(Jh(i)))||(e=c({src:e,async:!0,type:"module"},t),(t=jh.get(i))&&rp(e,t),nt(o=n.createElement("script")),mh(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var Wh=typeof document>"u"?null:document;function Yh(e,t,n){var r=Wh;if(r&&"string"==typeof t&&t){var i=bt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"==typeof n&&(i+='[crossorigin="'+n+'"]'),Uh.has(i)||(Uh.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(mh(t=r.createElement("link"),"link",e),nt(t),r.head.appendChild(t)))}}function Xh(e,t,n,i){var o=(o=X.current)?$h(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Gh(n.href),(i=(n=tt(o).hoistableStyles).get(t))||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Gh(n.href);var a=tt(o).hoistableStyles,s=a.get(e);if(s||(o=o.ownerDocument||o,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(e,s),(a=o.querySelector(Qh(e)))&&!a._p&&(s.instance=a,s.state.loading=5),jh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},jh.set(e,n),a||function(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),mh(t,"link",n),nt(t),e.head.appendChild(t))}(o,e,n,s.state))),t&&null===i)throw Error(r(528,""));return s}if(t&&null!==i)throw Error(r(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Zh(n),(i=(n=tt(o).hoistableScripts).get(t))||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Gh(e){return'href="'+bt(e)+'"'}function Qh(e){return'link[rel="stylesheet"]['+e+"]"}function Kh(e){return c({},e,{"data-precedence":e.precedence,precedence:null})}function Zh(e){return'[src="'+bt(e)+'"]'}function Jh(e){return"script[async]"+e}function ep(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+bt(n.href)+'"]');if(i)return t.instance=i,nt(i),i;var o=c({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return nt(i=(e.ownerDocument||e).createElement("style")),mh(i,"style",o),tp(i,n.precedence,e),t.instance=i;case"stylesheet":o=Gh(n.href);var a=e.querySelector(Qh(o));if(a)return t.state.loading|=4,t.instance=a,nt(a),a;i=Kh(n),(o=jh.get(o))&&np(i,o),nt(a=(e.ownerDocument||e).createElement("link"));var s=a;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),mh(a,"link",i),t.state.loading|=4,tp(a,n.precedence,e),t.instance=a;case"script":return a=Zh(n.src),(o=e.querySelector(Jh(a)))?(t.instance=o,nt(o),o):(i=n,(o=jh.get(a))&&rp(i=c({},n),o),nt(o=(e=e.ownerDocument||e).createElement("script")),mh(o,"link",i),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,tp(i,n.precedence,e));return t.instance}function tp(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,a=0;a<r.length;a++){var s=r[a];if(s.dataset.precedence===t)o=s;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function np(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function rp(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var ip=null;function op(e,t,n){if(null===ip){var r=new Map,i=ip=new Map;i.set(n,r)}else(r=(i=ip).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[Qe]||o[Ue]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var a=o.getAttribute(t)||"";a=e+a;var s=r.get(a);s?s.push(o):r.set(a,[o])}}return r}function ap(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function sp(e){return!("stylesheet"===e.type&&!(3&e.state.loading))}var lp=0;function up(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)hp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var cp=null;function hp(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,cp=new Map,t.forEach(pp,e),cp=null,up.call(e))}function pp(e,t){if(!(4&t.state.loading)){var n=cp.get(e);if(n)var r=n.get(null);else{n=new Map,cp.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var a=i[o];("LINK"===a.nodeName||"not all"!==a.getAttribute("media"))&&(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(o=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=up.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var fp={$$typeof:b,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function dp(e,t,n,r,i,o,a,s,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ze(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ze(0),this.hiddenUpdates=ze(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function mp(e,t,n,r,i,o,a,s,l,u,c,h){return e=new dp(e,t,n,a,l,u,c,h,s),t=1,!0===o&&(t|=24),o=Vr(3,null,null,t),e.current=o,o.stateNode=e,(t=ji()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},_o(o),e}function vp(e){return e?e=Br:Br}function gp(e,t,n,r,i,o){i=vp(i),null===r.context?r.context=i:r.pendingContext=i,(r=xo(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=So(e,r,t))&&(Ku(n,0,t),Eo(n,e,t))}function bp(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function _p(e,t){bp(e,t),(e=e.alternate)&&bp(e,t)}function wp(e){if(13===e.tag||31===e.tag){var t=Dr(e,67108864);null!==t&&Ku(t,0,67108864),_p(e,67108864)}}function xp(e){if(13===e.tag||31===e.tag){var t=Gu(),n=Dr(e,t=Fe(t));null!==n&&Ku(n,0,t),_p(e,t)}}var Sp=!0;function Ep(e,t,n,r){var i=D.T;D.T=null;var o=O.p;try{O.p=2,Tp(e,t,n,r)}finally{O.p=o,D.T=i}}function kp(e,t,n,r){var i=D.T;D.T=null;var o=O.p;try{O.p=8,Tp(e,t,n,r)}finally{O.p=o,D.T=i}}function Tp(e,t,n,r){if(Sp){var i=Lp(r);if(null===i)ih(e,t,r,Cp,n),Vp(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return zp=jp(zp,e,t,n,r,i),!0;case"dragenter":return Ip=jp(Ip,e,t,n,r,i),!0;case"mouseover":return Np=jp(Np,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Dp.set(o,jp(Dp.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Op.set(o,jp(Op.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Vp(e,r),4&t&&-1<Hp.indexOf(e)){for(;null!==i;){var o=Je(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var a=Ce(o.pendingLanes);if(0!==a){var s=o;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-xe(a);s.entanglements[1]|=l,a&=~l}Fc(o),!(6&vu)&&(Ou=ce()+500,Bc(0))}}break;case 31:case 13:null!==(s=Dr(o,2))&&Ku(s,0,2),nc(),_p(o,2)}if(null===(o=Lp(r))&&ih(e,t,r,Cp,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else ih(e,t,r,null,n)}}function Lp(e){return Ap(e=Dt(e))}var Cp=null;function Ap(e){if(Cp=null,null!==(e=Ze(e))){var t=o(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=a(t)))return e;e=null}else if(31===n){if(null!==(e=s(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Cp=e,null}function Rp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(he()){case pe:return 2;case fe:return 8;case de:case me:return 32;case ve:return 268435456;default:return 32}default:return 32}}var Pp=!1,zp=null,Ip=null,Np=null,Dp=new Map,Op=new Map,Fp=[],Hp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vp(e,t){switch(e){case"focusin":case"focusout":zp=null;break;case"dragenter":case"dragleave":Ip=null;break;case"mouseover":case"mouseout":Np=null;break;case"pointerover":case"pointerout":Dp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Op.delete(t.pointerId)}}function jp(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=Je(t))&&wp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Up(e){var t=Ze(e.target);if(null!==t){var n=o(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=a(n)))return e.blockedOn=t,void Ve(e.priority,function(){xp(n)})}else if(31===t){if(null!==(t=s(n)))return e.blockedOn=t,void Ve(e.priority,function(){xp(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function qp(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Lp(e.nativeEvent);if(null!==n)return null!==(t=Je(n))&&wp(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Nt=r,n.target.dispatchEvent(r),Nt=null,t.shift()}return!0}function Wp(e,t,n){qp(e)&&n.delete(t)}function Yp(){Pp=!1,null!==zp&&qp(zp)&&(zp=null),null!==Ip&&qp(Ip)&&(Ip=null),null!==Np&&qp(Np)&&(Np=null),Dp.forEach(Wp),Op.forEach(Wp)}function Xp(t,n){t.blockedOn===n&&(t.blockedOn=null,Pp||(Pp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Yp)))}var Gp=null;function Qp(t){Gp!==t&&(Gp=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Gp===t&&(Gp=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if("function"!=typeof r){if(null===Ap(r||n))continue;break}var o=Je(n);null!==o&&(t.splice(e,3),e-=3,is(o,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Kp(e){function t(t){return Xp(t,e)}null!==zp&&Xp(zp,e),null!==Ip&&Xp(Ip,e),null!==Np&&Xp(Np,e),Dp.forEach(t),Op.forEach(t);for(var n=0;n<Fp.length;n++){var r=Fp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Fp.length&&null===(n=Fp[0]).blockedOn;)Up(n),null===n.blockedOn&&Fp.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],a=i[$e]||null;if("function"==typeof o)a||Qp(n);else if(a){var s=null;if(o&&o.hasAttribute("formAction")){if(i=o,a=o[$e]||null)s=a.formAction;else if(null!==Ap(i))continue}else s=a.action;"function"==typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Qp(n)}}}function Zp(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Jp(e){this._internalRoot=e}function ef(e){this._internalRoot=e}ef.prototype.render=Jp.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));gp(t.current,Gu(),e,t,null,null)},ef.prototype.unmount=Jp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;gp(e.current,2,null,e,null,null),nc(),t[qe]=null}},ef.prototype.unstable_scheduleHydration=function(e){if(e){var t=He();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Fp.length&&0!==t&&t<Fp[n].priority;n++);Fp.splice(n,0,e),0===n&&Up(e)}};var tf=t.version;if("19.2.0"!==tf)throw Error(r(527,tf,"19.2.0"));O.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t)throw"function"==typeof e.render?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=function(e){var t=e.alternate;if(!t){if(null===(t=o(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(i=a.return)){n=i;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return l(a),e;if(s===i)return l(a),t;s=s.sibling}throw Error(r(188))}if(n.return!==i.return)n=a,i=s;else{for(var u=!1,c=a.child;c;){if(c===n){u=!0,n=a,i=s;break}if(c===i){u=!0,i=a,n=s;break}c=c.sibling}if(!u){for(c=s.child;c;){if(c===n){u=!0,n=s,i=a;break}if(c===i){u=!0,i=s,n=a;break}c=c.sibling}if(!u)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?u(e):null)?null:e.stateNode};var nf={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rf.isDisabled&&rf.supportsFiber)try{be=rf.inject(nf),_e=rf}catch{}}return L.createRoot=function(e,t){if(!i(e))throw Error(r(299));var n=!1,o="",a=Ls,s=Cs,l=Ms;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(o=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=mp(e,1,!1,null,0,n,o,null,a,s,l,Zp),e[qe]=t.current,nh(e),new Jp(t)},L.hydrateRoot=function(e,t,n){if(!i(e))throw Error(r(299));var o=!1,a="",s=Ls,l=Cs,u=Ms,c=null;return null!=n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(u=n.onRecoverableError),void 0!==n.formState&&(c=n.formState)),(t=mp(e,1,!0,t,0,o,a,c,s,l,u,Zp)).context=vp(null),n=t.current,(a=xo(o=Fe(o=Gu()))).callback=null,So(n,a,o),n=o,t.current.lanes=n,Ie(t,n),Fc(t),e[qe]=t.current,nh(e),new ef(t)},L.version="19.2.0",L}var P=(k||(k=1,function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||"function"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),T.exports=R()),T.exports);const z=w(P);var I,N,D,O,F,B,H,V,j,U,$,q,W,Y,X,G,Q,K,Z,J,ee,te,ne,re,ie,oe,ae,se,le=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ue(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ce(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if("function"==typeof t){var n=function e(){var n=!1;try{n=this instanceof e}catch{}return n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}),n}function he(){if(N)return I;function e(){}return N=1,e.prototype.addEventListener=function(e,t){var n=this.__events=this.__events||{},r=n[e]=n[e]||[];r.indexOf(t)<0&&r.push(t)},e.prototype.removeEventListener=function(e,t){var n=(this.__events=this.__events||{})[e];if(n){var r=n.indexOf(t);r>=0&&n.splice(r,1)}},e.prototype.emit=function(e,t){var n=(this.__events=this.__events||{})[e],r=Array.prototype.slice.call(arguments,1);if(n)for(var i=0;i<n.length;i++){n[i].apply(this,r)}},I=function(t){for(var n in e.prototype)e.prototype.hasOwnProperty(n)&&(t.prototype[n]=e.prototype[n])},I}function pe(){if(O)return D;return O=1,D=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return Date.now()}}function fe(){if(B)return F;B=1;var e=pe();function t(e,t){this.fn=e,this.cb=t,this.cfn=null}function n(e){this._queue=[],this._delay=e&&e.delay||0,this._paused=e&&!!e.paused||!1,this._currentTask=null,this._lastFinished=null}return n.prototype.length=function(){return this._queue.length},n.prototype.push=function(e,n){var r=new t(e,n),i=this._cancel.bind(this,r);return this._queue.push(r),this._next(),i},n.prototype.pause=function(){this._paused||(this._paused=!0)},n.prototype.resume=function(){this._paused&&(this._paused=!1,this._next())},n.prototype._start=function(e){if(this._currentTask)throw new Error("WorkQueue: called start while running task");this._currentTask=e;var t=this._finish.bind(this,e);if(e.cfn=e.fn(t),"function"!=typeof e.cfn)throw new Error("WorkQueue: function is not cancellable")},n.prototype._finish=function(t){var n=Array.prototype.slice.call(arguments,1);if(this._currentTask!==t)throw new Error("WorkQueue: called finish on wrong task");t.cb.apply(null,n),this._currentTask=null,this._lastFinished=e(),this._next()},n.prototype._cancel=function(e){var t=Array.prototype.slice.call(arguments,1);if(this._currentTask===e)e.cfn.apply(null,t);else{var n=this._queue.indexOf(e);n>=0&&(this._queue.splice(n,1),e.cb.apply(null,t))}},n.prototype._next=function(){if(!this._paused&&this._queue.length&&!this._currentTask){if(null!=this._lastFinished){var t=e()-this._lastFinished,n=this._delay-t;if(n>0)return void setTimeout(this._next.bind(this),n)}var r=this._queue.shift();this._start(r)}},F=n}function de(){if(V)return H;return V=1,H=function(e,t,n,r){var i,o,a,s;return r=r||{},i=null!=n&&null!=n.absoluteWidth?n.absoluteWidth/e:null!=n&&null!=n.relativeWidth?n.relativeWidth:1,o=n&&null!=n.absoluteHeight?n.absoluteHeight/t:null!=n&&null!=n.relativeHeight?n.relativeHeight:1,a=null!=n&&null!=n.absoluteX?n.absoluteX/e:null!=n&&null!=n.relativeX?n.relativeX:0,s=null!=n&&null!=n.absoluteY?n.absoluteY/t:null!=n&&null!=n.relativeY?n.relativeY:0,r.x=a,r.y=s,r.width=i,r.height=o,r},H}function me(){if(U)return j;return U=1,j=function(e){return function(t){var n,r;try{r=e()}catch(Yf){n=Yf}finally{n?t(n):t(null,r)}}},j}function ve(){if(q)return $;return q=1,$=function(e){var t,n=!1;return function(){return n||(n=!0,t=e.apply(null,arguments)),t}},$}function ge(){if(Y)return W;Y=1;var e=ve();return W=function(t){return function(){if(!arguments.length)throw new Error("cancelized: expected at least one argument");var n=Array.prototype.slice.call(arguments,0),r=n[n.length-1]=e(n[n.length-1]);return t.apply(null,n),function(){r.apply(null,arguments)}}},W}function ye(){if(G)return X;return G=1,X=function(e){for(var t in e)e.hasOwnProperty(t)&&(e[t]=void 0)},X}function be(){if(J)return Z;J=1;var e=he(),t=fe(),n=de(),r=me(),i=ge(),o=ye(),a=function(){if(K)return Q;function e(){this._renderers={}}return K=1,e.prototype.set=function(e,t,n){this._renderers[e]||(this._renderers[e]={}),this._renderers[e][t]=n},e.prototype.get=function(e,t){return this._renderers[e]&&this._renderers[e][t]||null},Q=e}();function s(e,t){return e.cmp(t)}function l(e,t){return-e.cmp(t)}function u(e){this._progressive=!(!e||!e.progressive),this._layers=[],this._renderers=[],this._tilesToLoad=[],this._tilesToRender=[],this._tmpVisible=[],this._tmpChildren=[],this._width=0,this._height=0,this._tmpRect={},this._tmpSize={},this._createTextureWorkQueue=new t,this._emitRenderInvalid=this._emitRenderInvalid.bind(this),this._rendererRegistry=new a}return e(u),u.prototype.destroy=function(){this.removeAllLayers(),o(this)},u.prototype.registerRenderer=function(e,t,n){return this._rendererRegistry.set(e,t,n)},u.prototype.domElement=function(){throw new Error("Stage implementation must override domElement")},u.prototype.width=function(){return this._width},u.prototype.height=function(){return this._height},u.prototype.size=function(e){return(e=e||{}).width=this._width,e.height=this._height,e},u.prototype.setSize=function(e){this._width=e.width,this._height=e.height,this.setSizeForType(),this.emit("resize"),this._emitRenderInvalid()},u.prototype.setSizeForType=function(e){throw new Error("Stage implementation must override setSizeForType")},u.prototype.loadImage=function(){throw new Error("Stage implementation must override loadImage")},u.prototype._emitRenderInvalid=function(){this.emit("renderInvalid")},u.prototype.validateLayer=function(e){throw new Error("Stage implementation must override validateLayer")},u.prototype.listLayers=function(){return[].concat(this._layers)},u.prototype.hasLayer=function(e){return this._layers.indexOf(e)>=0},u.prototype.addLayer=function(e,t){if(this._layers.indexOf(e)>=0)throw new Error("Layer already in stage");if(null==t&&(t=this._layers.length),t<0||t>this._layers.length)throw new Error("Invalid layer position");this.validateLayer(e);var n=e.geometry().type,r=e.view().type,i=this._rendererRegistry.get(n,r);if(!i)throw new Error("No "+this.type+" renderer avaiable for "+n+" geometry and "+r+" view");var o=this.createRenderer(i);this._layers.splice(t,0,e),this._renderers.splice(t,0,o),e.addEventListener("viewChange",this._emitRenderInvalid),e.addEventListener("effectsChange",this._emitRenderInvalid),e.addEventListener("fixedLevelChange",this._emitRenderInvalid),e.addEventListener("textureStoreChange",this._emitRenderInvalid),this._emitRenderInvalid()},u.prototype.moveLayer=function(e,t){var n=this._layers.indexOf(e);if(n<0)throw new Error("No such layer in stage");if(t<0||t>=this._layers.length)throw new Error("Invalid layer position");e=this._layers.splice(n,1)[0];var r=this._renderers.splice(n,1)[0];this._layers.splice(t,0,e),this._renderers.splice(t,0,r),this._emitRenderInvalid()},u.prototype.removeLayer=function(e){var t=this._layers.indexOf(e);if(t<0)throw new Error("No such layer in stage");var n=this._layers.splice(t,1)[0],r=this._renderers.splice(t,1)[0];this.destroyRenderer(r),n.removeEventListener("viewChange",this._emitRenderInvalid),n.removeEventListener("effectsChange",this._emitRenderInvalid),n.removeEventListener("fixedLevelChange",this._emitRenderInvalid),n.removeEventListener("textureStoreChange",this._emitRenderInvalid),this._emitRenderInvalid()},u.prototype.removeAllLayers=function(){for(;this._layers.length>0;)this.removeLayer(this._layers[0])},u.prototype.startFrame=function(){throw new Error("Stage implementation must override startFrame")},u.prototype.endFrame=function(){throw new Error("Stage implementation must override endFrame")},u.prototype.render=function(){var e,t,r,i=this._tilesToLoad,o=this._tilesToRender,a=!0,s=this._width,l=this._height,u=this._tmpRect,c=this._tmpSize;if(!(s<=0||l<=0)){for(this.startFrame(),e=0;e<this._layers.length;e++)this._layers[e].textureStore().startFrame();for(e=0;e<this._layers.length;e++){var h,p,f=this._layers[e],d=f.effects(),m=f.view(),v=f.textureStore(),g=this._renderers[e],y=this._layers.length-e;if(n(s,l,d&&d.rect,u),!(u.width<=0||u.height<=0)){for(c.width=u.width*this._width,c.height=u.height*this._height,m.setSize(c),g.startLayer(f,u),r=this._collectTiles(f,v),t=0;t<i.length;t++)h=i[t],v.markTile(h);for(t=0;t<o.length;t++)h=o[t],p=v.texture(h),g.renderTile(h,p,f,y);f.emit("renderComplete",r),r||(a=!1),g.endLayer(f,u)}}for(e=0;e<this._layers.length;e++)this._layers[e].textureStore().endFrame();this.endFrame(),this.emit("renderComplete",a)}},u.prototype._collectTiles=function(e,t){var n=this._tilesToLoad,r=this._tilesToRender,i=this._tmpVisible;n.length=0,r.length=0,i.length=0,e.visibleTiles(i);for(var o=!0,a=0;a<i.length;a++){var u,c=i[a];this._collectTileToLoad(c),t.texture(c)?(u=!1,this._collectTileToRender(c)):(u=this._collectChildren(c,t),o=!1),this._collectParents(c,t,u)}return n.sort(s),r.sort(l),o},u.prototype._collectChildren=function(e,t){var n=this._tmpChildren,r=!0;do{if(n.length=0,!e.children(n))break;r=!1;for(var i=0;i<n.length;i++)e=n[i],t.texture(e)?(this._collectTileToLoad(e),this._collectTileToRender(e)):r=!0}while(r&&1===n.length);return r},u.prototype._collectParents=function(e,t,n){for(var r=this._progressive;(r||n)&&null!=(e=e.parent());){if(n)if(t.texture(e))this._collectTileToRender(e),n=!1;else if(!this._progressive)continue;this._collectTileToLoad(e)||(r=!1)}return n},u.prototype._collectTileToLoad=function(e){return this._collectTileIntoList(e,this._tilesToLoad)},u.prototype._collectTileToRender=function(e){return this._collectTileIntoList(e,this._tilesToRender)},u.prototype._collectTileIntoList=function(e,t){for(var n=!1,r=0;r<t.length;r++)if(e.equals(t[r])){n=!0;break}return n||t.push(e),!n},u.prototype.createTexture=function(e,t,n){var o=this;var a=i(r(function(){return new o.TextureClass(o,e,t)}));return this._createTextureWorkQueue.push(a,function(r,i){n(r,e,t,i)})},Z=u}function _e(){return te?ee:(te=1,ee=function(){return typeof window<"u"?window:typeof self<"u"?self:typeof le<"u"?le:null}())}function we(){if(re)return ne;re=1;var e=_e(),t=he(),n=ye(),r={HTMLImageElement:["naturalWidth","naturalHeight"],HTMLCanvasElement:["width","height"],ImageBitmap:["width","height"]};function i(t){var n=!1;for(var i in r)if(e[i]&&t instanceof e[i]){n=!0,this._widthProp=r[i][0],this._heightProp=r[i][1];break}if(!n)throw new Error("Unsupported pixel source");this._element=t}return t(i),i.prototype.destroy=function(){n(this)},i.prototype.element=function(){return this._element},i.prototype.width=function(){return this._element[this._widthProp]},i.prototype.height=function(){return this._element[this._heightProp]},i.prototype.timestamp=function(){return 0},i.prototype.isDynamic=function(){return!1},ne=i}function xe(){if(oe)return ie;return oe=1,ie=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},ie}function Se(){if(se)return ae;function e(e){this.constructor.super_.apply(this,arguments),this.message=e}return se=1,xe()(e,Error),ae=e}var Ee,ke,Te,Le,Ce,Me,Ae,Re,Pe,ze,Ie,Ne={exports:{}},De=Ne.exports;function Oe(){return Ee||(Ee=1,e=Ne,function(t,n,r){e.exports?e.exports=r():t.bowser=r()}(De,0,function(){var e=!0;function t(t){function n(e){var n=t.match(e);return n&&n.length>1&&n[1]||""}function r(e){var n=t.match(e);return n&&n.length>1&&n[2]||""}var i,a=n(/(ipod|iphone|ipad)/i).toLowerCase(),s=!/like android/i.test(t)&&/android/i.test(t),l=/nexus\s*[0-6]\s*/i.test(t),u=!l&&/nexus\s*[0-9]+/i.test(t),c=/CrOS/.test(t),h=/silk/i.test(t),p=/sailfish/i.test(t),f=/tizen/i.test(t),d=/(web|hpw)(o|0)s/i.test(t),m=/windows phone/i.test(t),v=!m&&/windows/i.test(t),g=!a&&!h&&/macintosh/i.test(t),y=!s&&!p&&!f&&!d&&/linux/i.test(t),b=r(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),_=n(/version\/(\d+(\.\d+)?)/i),w=/tablet/i.test(t)&&!/tablet pc/i.test(t),x=!w&&/[^-]mobi/i.test(t),S=/xbox/i.test(t);/opera/i.test(t)?i={name:"Opera",opera:e,version:_||n(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(t)?i={name:"Opera",opera:e,version:n(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||_}:/SamsungBrowser/i.test(t)?i={name:"Samsung Internet for Android",samsungBrowser:e,version:_||n(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(t)?i={name:"NAVER Whale browser",whale:e,version:n(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(t)?i={name:"MZ Browser",mzbrowser:e,version:n(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(t)?i={name:"Opera Coast",coast:e,version:_||n(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(t)?i={name:"Focus",focus:e,version:n(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(t)?i={name:"Yandex Browser",yandexbrowser:e,version:_||n(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(t)?i={name:"UC Browser",ucbrowser:e,version:n(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(t)?i={name:"Maxthon",maxthon:e,version:n(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(t)?i={name:"Epiphany",epiphany:e,version:n(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(t)?i={name:"Puffin",puffin:e,version:n(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(t)?i={name:"Sleipnir",sleipnir:e,version:n(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(t)?i={name:"K-Meleon",kMeleon:e,version:n(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:m?(i={name:"Windows Phone",osname:"Windows Phone",windowsphone:e},b?(i.msedge=e,i.version=b):(i.msie=e,i.version=n(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?i={name:"Internet Explorer",msie:e,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:c?i={name:"Chrome",osname:"Chrome OS",chromeos:e,chromeBook:e,chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(t)?i={name:"Microsoft Edge",msedge:e,version:b}:/vivaldi/i.test(t)?i={name:"Vivaldi",vivaldi:e,version:n(/vivaldi\/(\d+(\.\d+)?)/i)||_}:p?i={name:"Sailfish",osname:"Sailfish OS",sailfish:e,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?i={name:"SeaMonkey",seamonkey:e,version:n(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(t)?(i={name:"Firefox",firefox:e,version:n(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(i.firefoxos=e,i.osname="Firefox OS")):h?i={name:"Amazon Silk",silk:e,version:n(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(t)?i={name:"PhantomJS",phantom:e,version:n(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(t)?i={name:"SlimerJS",slimer:e,version:n(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?i={name:"BlackBerry",osname:"BlackBerry OS",blackberry:e,version:_||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:d?(i={name:"WebOS",osname:"WebOS",webos:e,version:_||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(i.touchpad=e)):/bada/i.test(t)?i={name:"Bada",osname:"Bada",bada:e,version:n(/dolfin\/(\d+(\.\d+)?)/i)}:f?i={name:"Tizen",osname:"Tizen",tizen:e,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||_}:/qupzilla/i.test(t)?i={name:"QupZilla",qupzilla:e,version:n(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||_}:/chromium/i.test(t)?i={name:"Chromium",chromium:e,version:n(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||_}:/chrome|crios|crmo/i.test(t)?i={name:"Chrome",chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:s?i={name:"Android",version:_}:/safari|applewebkit/i.test(t)?(i={name:"Safari",safari:e},_&&(i.version=_)):a?(i={name:"iphone"==a?"iPhone":"ipad"==a?"iPad":"iPod"},_&&(i.version=_)):i=/googlebot/i.test(t)?{name:"Googlebot",googlebot:e,version:n(/googlebot\/(\d+(\.\d+))/i)||_}:{name:n(/^(.*)\/(.*) /),version:r(/^(.*)\/(.*) /)},!i.msedge&&/(apple)?webkit/i.test(t)?(/(apple)?webkit\/537\.36/i.test(t)?(i.name=i.name||"Blink",i.blink=e):(i.name=i.name||"Webkit",i.webkit=e),!i.version&&_&&(i.version=_)):!i.opera&&/gecko\//i.test(t)&&(i.name=i.name||"Gecko",i.gecko=e,i.version=i.version||n(/gecko\/(\d+(\.\d+)?)/i)),i.windowsphone||!s&&!i.silk?!i.windowsphone&&a?(i[a]=e,i.ios=e,i.osname="iOS"):g?(i.mac=e,i.osname="macOS"):S?(i.xbox=e,i.osname="Xbox"):v?(i.windows=e,i.osname="Windows"):y&&(i.linux=e,i.osname="Linux"):(i.android=e,i.osname="Android");var E="";i.windows?E=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(n(/Windows ((NT|XP)( \d\d?.\d)?)/i)):i.windowsphone?E=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):i.mac?E=(E=n(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):a?E=(E=n(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):s?E=n(/android[ \/-](\d+(\.\d+)*)/i):i.webos?E=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):i.blackberry?E=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i):i.bada?E=n(/bada\/(\d+(\.\d+)*)/i):i.tizen&&(E=n(/tizen[\/\s](\d+(\.\d+)*)/i)),E&&(i.osversion=E);var k=!i.windows&&E.split(".")[0];return w||u||"ipad"==a||s&&(3==k||k>=4&&!x)||i.silk?i.tablet=e:(x||"iphone"==a||"ipod"==a||s||l||i.blackberry||i.webos||i.bada)&&(i.mobile=e),i.msedge||i.msie&&i.version>=10||i.yandexbrowser&&i.version>=15||i.vivaldi&&i.version>=1||i.chrome&&i.version>=20||i.samsungBrowser&&i.version>=4||i.whale&&1===o([i.version,"1.0"])||i.mzbrowser&&1===o([i.version,"6.0"])||i.focus&&1===o([i.version,"1.0"])||i.firefox&&i.version>=20||i.safari&&i.version>=6||i.opera&&i.version>=10||i.ios&&i.osversion&&i.osversion.split(".")[0]>=6||i.blackberry&&i.version>=10.1||i.chromium&&i.version>=20?i.a=e:i.msie&&i.version<10||i.chrome&&i.version<20||i.firefox&&i.version<20||i.safari&&i.version<6||i.opera&&i.version<10||i.ios&&i.osversion&&i.osversion.split(".")[0]<6||i.chromium&&i.version<20?i.c=e:i.x=e,i}var n=t(typeof navigator<"u"&&navigator.userAgent||"");function r(e){return e.split(".").length}function i(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n++)r.push(t(e[n]));return r}function o(e){for(var t=Math.max(r(e[0]),r(e[1])),n=i(e,function(e){var n=t-r(e);return i((e+=new Array(n+1).join(".0")).split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--t>=0;){if(n[0][t]>n[1][t])return 1;if(n[0][t]!==n[1][t])return-1;if(0===t)return 0}}function a(e,r,i){var a=n;"string"==typeof r&&(i=r,r=void 0),void 0===r&&(r=!1),i&&(a=t(i));var s=""+a.version;for(var l in e)if(e.hasOwnProperty(l)&&a[l]){if("string"!=typeof e[l])throw new Error("Browser version in the minVersion map should be a string: "+l+": "+String(e));return o([s,e[l]])<0}return r}return n.test=function(e){for(var t=0;t<e.length;++t){var r=e[t];if("string"==typeof r&&r in n)return!0}return!1},n.isUnsupportedBrowser=a,n.compareVersions=o,n.check=function(e,t,n){return!a(e,t,n)},n._detect=t,n.detect=t,n})),Ne.exports;var e}function Fe(){if(Ce)return Le;Ce=1;return Le=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var e=window.screen;if(e&&e.deviceXDPI&&e.logicalXDPI)return e.deviceXDPI/e.logicalXDPI;if(e&&e.systemXDPI&&e.logicalXDPI)return e.systemXDPI/e.logicalXDPI}return 1},Le}function Be(){if(Pe)return Re;function e(e){for(var t=document.documentElement.style,n=["Moz","Webkit","Khtml","O","ms"],r=0;r<n.length;r++){var i=n[r]+(e[0].toUpperCase()+e.slice(1));if(i in t)return i}return e}function t(t){var n=e(t);return function(e,t){return e.style[n]=t}}Pe=1;var n=t("transform"),r=t("transformOrigin");return Re={prefixProperty:e,getWithVendorPrefix:function(t){var n=e(t);return function(e){return e.style[n]}},setWithVendorPrefix:t,setTransform:n,setTransformOrigin:r,setNullTransform:function(e){n(e,"translateZ(0)")},setNullTransformOrigin:function(e){r(e,"0 0 0")},setAbsolute:function(e){e.style.position="absolute"},setPixelPosition:function(e,t,n){e.style.left=t+"px",e.style.top=n+"px"},setPixelSize:function(e,t,n){e.style.width=t+"px",e.style.height=n+"px"},setNullSize:function(e){e.style.width=e.style.height=0},setFullSize:function(e){e.style.width=e.style.height="100%"},setOverflowHidden:function(e){e.style.overflow="hidden"},setOverflowVisible:function(e){e.style.overflow="visible"},setNoPointerEvents:function(e){e.style.pointerEvents="none"}},Re}function He(){if(Ie)return ze;Ie=1;var e=be(),t=function(){if(Te)return ke;Te=1;var e=we(),t=Se(),n=Oe(),r=_e(),i=ve(),o=!!r.createImageBitmap&&!n.firefox,a={imageOrientation:"flipY",premultiplyAlpha:"premultiply"};function s(e){this._stage=e}return s.prototype.loadImage=function(e,t,n){var r=this,o=new Image;o.crossOrigin="anonymous";var a=t&&t.x||0,s=t&&t.y||0,l=t&&t.width||1,u=t&&t.height||1;return n=i(n),o.onload=function(){r._handleLoad(o,a,s,l,u,n)},o.onerror=function(){r._handleError(e,n)},o.src=e,function(){o.onload=o.onerror=null,o.src="",n.apply(null,arguments)}},s.prototype._handleLoad=function(t,n,i,s,l,u){if(0!==n||0!==i||1!==s||1!==l)if(n*=t.naturalWidth,i*=t.naturalHeight,s*=t.naturalWidth,l*=t.naturalHeight,o)r.createImageBitmap(t,n,i,s,l,a).then(function(t){u(null,new e(t))});else{var c=document.createElement("canvas");c.width=s,c.height=l,c.getContext("2d").drawImage(t,n,i,s,l,0,0,s,l),u(null,new e(c))}else u(null,new e(t))},s.prototype._handleError=function(e,n){n(new t("Network error: "+e))},ke=s}(),n=Oe(),r=xe(),i=Fe(),o=Ae?Me:(Ae=1,Me=function(e){return!(e&e-1)}),a=Be().setAbsolute,s=Be().setFullSize,l=ye(),u=n.chrome;function c(e){e=e||{};var n=this;this.constructor.super_.call(this,e),this._generateMipmaps=null!=e.generateMipmaps&&e.generateMipmaps,this._loader=new t(this),this._domElement=document.createElement("canvas"),a(this._domElement),s(this._domElement),this._gl=function(e,t){var n={alpha:!0,premultipliedAlpha:!0,antialias:!(!t||!t.antialias),preserveDrawingBuffer:!(!t||!t.preserveDrawingBuffer)},r=e.getContext&&(e.getContext("webgl",n)||e.getContext("experimental-webgl",n));if(!r)throw new Error("Could not get WebGL context");return t.wrapContext&&(r=t.wrapContext(r)),r}(this._domElement,e),this._handleContextLoss=function(){n.emit("webglcontextlost"),n._gl=null},this._domElement.addEventListener("webglcontextlost",this._handleContextLoss),this._rendererInstances=[]}function h(e,t,n){this._stage=e,this._gl=e._gl,this._texture=null,this._timestamp=null,this._width=this._height=null,this.refresh(t,n)}return r(c,e),c.prototype.destroy=function(){this._domElement.removeEventListener("webglcontextlost",this._handleContextLoss),this.constructor.super_.prototype.destroy.call(this)},c.prototype.domElement=function(){return this._domElement},c.prototype.webGlContext=function(){return this._gl},c.prototype.setSizeForType=function(){var e=i();this._domElement.width=e*this._width,this._domElement.height=e*this._height},c.prototype.loadImage=function(e,t,n){return this._loader.loadImage(e,t,n)},c.prototype.maxTextureSize=function(){return this._gl.getParameter(this._gl.MAX_TEXTURE_SIZE)},c.prototype.validateLayer=function(e){var t=e.geometry().maxTileSize(),n=this.maxTextureSize();if(t>n)throw new Error("Layer has level with tile size larger than maximum texture size ("+t+" vs. "+n+")")},c.prototype.createRenderer=function(e){for(var t=this._rendererInstances,n=0;n<t.length;n++)if(t[n]instanceof e)return t[n];var r=new e(this._gl);return t.push(r),r},c.prototype.destroyRenderer=function(e){var t=this._rendererInstances;if(this._renderers.indexOf(e)<0){e.destroy();var n=t.indexOf(e);n>=0&&t.splice(n,1)}},c.prototype.startFrame=function(){var e=this._gl;if(!e)throw new Error("Bad WebGL context - maybe context was lost?");e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.enable(e.DEPTH_TEST),e.enable(e.BLEND),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA)},c.prototype.endFrame=function(){},c.prototype.takeSnapshot=function(e){("object"!=typeof e||null==e)&&(e={});var t=e.quality;if(typeof t>"u"&&(t=75),"number"!=typeof t||t<0||t>100)throw new Error("WebGLStage: Snapshot quality needs to be a number between 0 and 100");return this.render(),this._domElement.toDataURL("image/jpeg",t/100)},c.type=c.prototype.type="webgl",h.prototype.refresh=function(e,t){var n,r=this._gl,i=this._stage,a=t.timestamp();if(a!==this._timestamp){var s=t.element(),l=t.width(),c=t.height();if(l!==this._width||c!==this._height){var h=i.maxTextureSize();if(l>h)throw new Error("Texture width larger than max size ("+l+" vs. "+h+")");if(c>h)throw new Error("Texture height larger than max size ("+c+" vs. "+h+")");this._texture&&r.deleteTexture(n),n=this._texture=r.createTexture(),r.bindTexture(r.TEXTURE_2D,n),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!0),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,s)}else n=this._texture,r.bindTexture(r.TEXTURE_2D,n),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!0),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),s instanceof HTMLVideoElement&&u?r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,s):r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,s);i._generateMipmaps&&o(l)&&o(c)?(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR_MIPMAP_LINEAR),r.generateMipmap(r.TEXTURE_2D)):(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR)),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.bindTexture(r.TEXTURE_2D,null),this._timestamp=a,this._width=l,this._height=c}},h.prototype.destroy=function(){this._texture&&this._gl.deleteTexture(this._texture),l(this)},c.TextureClass=c.prototype.TextureClass=h,ze=c}var Ve=1e-6,je=typeof Float32Array<"u"?Float32Array:Array,Ue=Math.random;var $e=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});const qe=Object.freeze(Object.defineProperty({__proto__:null,get ARRAY_TYPE(){return je},EPSILON:Ve,RANDOM:Ue,equals:function(e,t){return Math.abs(e-t)<=Ve*Math.max(1,Math.abs(e),Math.abs(t))},setMatrixArrayType:function(e){je=e},toRadian:function(e){return e*$e}},Symbol.toStringTag,{value:"Module"}));function We(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=n[0],l=n[1],u=n[2],c=n[3];return e[0]=r*s+o*l,e[1]=i*s+a*l,e[2]=r*u+o*c,e[3]=i*u+a*c,e}function Ye(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}var Xe=We,Ge=Ye;const Qe=Object.freeze(Object.defineProperty({__proto__:null,LDU:function(e,t,n,r){return e[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-e[2]*n[1],[e,t,n]},add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e},adjoint:function(e,t){var n=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=n,e},clone:function(e){var t=new je(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},create:function(){var e=new je(4);return je!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e},determinant:function(e){return e[0]*e[3]-e[2]*e[1]},equals:function(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=t[0],s=t[1],l=t[2],u=t[3];return Math.abs(n-a)<=Ve*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-s)<=Ve*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-l)<=Ve*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(o-u)<=Ve*Math.max(1,Math.abs(o),Math.abs(u))},exactEquals:function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},frob:function(e){return Math.hypot(e[0],e[1],e[2],e[3])},fromRotation:function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e},fromScaling:function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e},fromValues:function(e,t,n,r){var i=new je(4);return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},invert:function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*o-i*r;return a?(a=1/a,e[0]=o*a,e[1]=-r*a,e[2]=-i*a,e[3]=n*a,e):null},mul:Xe,multiply:We,multiplyScalar:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e},multiplyScalarAndAdd:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e},rotate:function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=r*l+o*s,e[1]=i*l+a*s,e[2]=r*-s+o*l,e[3]=i*-s+a*l,e},scale:function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=n[0],l=n[1];return e[0]=r*s,e[1]=i*s,e[2]=o*l,e[3]=a*l,e},set:function(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e},str:function(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},sub:Ge,subtract:Ye,transpose:function(e,t){if(e===t){var n=t[1];e[1]=t[2],e[2]=n}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e}},Symbol.toStringTag,{value:"Module"}));function Ke(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=n[0],c=n[1],h=n[2],p=n[3],f=n[4],d=n[5];return e[0]=r*u+o*c,e[1]=i*u+a*c,e[2]=r*h+o*p,e[3]=i*h+a*p,e[4]=r*f+o*d+s,e[5]=i*f+a*d+l,e}function Ze(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e}var Je=Ke,et=Ze;const tt=Object.freeze(Object.defineProperty({__proto__:null,add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e},clone:function(e){var t=new je(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},create:function(){var e=new je(6);return je!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e},determinant:function(e){return e[0]*e[3]-e[1]*e[2]},equals:function(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=t[0],u=t[1],c=t[2],h=t[3],p=t[4],f=t[5];return Math.abs(n-l)<=Ve*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(r-u)<=Ve*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-c)<=Ve*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(o-h)<=Ve*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(a-p)<=Ve*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(s-f)<=Ve*Math.max(1,Math.abs(s),Math.abs(f))},exactEquals:function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]},frob:function(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],1)},fromRotation:function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e[4]=0,e[5]=0,e},fromScaling:function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e},fromTranslation:function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e},fromValues:function(e,t,n,r,i,o){var a=new je(6);return a[0]=e,a[1]=t,a[2]=n,a[3]=r,a[4]=i,a[5]=o,a},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},invert:function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=n*o-r*i;return l?(l=1/l,e[0]=o*l,e[1]=-r*l,e[2]=-i*l,e[3]=n*l,e[4]=(i*s-o*a)*l,e[5]=(r*a-n*s)*l,e):null},mul:Je,multiply:Ke,multiplyScalar:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e},multiplyScalarAndAdd:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e},rotate:function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=Math.sin(n),c=Math.cos(n);return e[0]=r*c+o*u,e[1]=i*c+a*u,e[2]=r*-u+o*c,e[3]=i*-u+a*c,e[4]=s,e[5]=l,e},scale:function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=n[0],c=n[1];return e[0]=r*u,e[1]=i*u,e[2]=o*c,e[3]=a*c,e[4]=s,e[5]=l,e},set:function(e,t,n,r,i,o,a){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=a,e},str:function(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"},sub:et,subtract:Ze,translate:function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=n[0],c=n[1];return e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=r*u+o*c+s,e[5]=i*u+a*c+l,e}},Symbol.toStringTag,{value:"Module"}));function nt(){var e=new je(9);return je!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function rt(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],p=n[0],f=n[1],d=n[2],m=n[3],v=n[4],g=n[5],y=n[6],b=n[7],_=n[8];return e[0]=p*r+f*a+d*u,e[1]=p*i+f*s+d*c,e[2]=p*o+f*l+d*h,e[3]=m*r+v*a+g*u,e[4]=m*i+v*s+g*c,e[5]=m*o+v*l+g*h,e[6]=y*r+b*a+_*u,e[7]=y*i+b*s+_*c,e[8]=y*o+b*l+_*h,e}function it(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}var ot=rt,at=it;const st=Object.freeze(Object.defineProperty({__proto__:null,add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e},adjoint:function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8];return e[0]=a*c-s*u,e[1]=i*u-r*c,e[2]=r*s-i*a,e[3]=s*l-o*c,e[4]=n*c-i*l,e[5]=i*o-n*s,e[6]=o*u-a*l,e[7]=r*l-n*u,e[8]=n*a-r*o,e},clone:function(e){var t=new je(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},create:nt,determinant:function(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],u=e[8];return t*(u*o-a*l)+n*(-u*i+a*s)+r*(l*i-o*s)},equals:function(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=t[0],p=t[1],f=t[2],d=t[3],m=t[4],v=t[5],g=t[6],y=t[7],b=t[8];return Math.abs(n-h)<=Ve*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(r-p)<=Ve*Math.max(1,Math.abs(r),Math.abs(p))&&Math.abs(i-f)<=Ve*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(o-d)<=Ve*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(a-m)<=Ve*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(s-v)<=Ve*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(l-g)<=Ve*Math.max(1,Math.abs(l),Math.abs(g))&&Math.abs(u-y)<=Ve*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-b)<=Ve*Math.max(1,Math.abs(c),Math.abs(b))},exactEquals:function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},frob:function(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},fromMat2d:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e},fromMat4:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},fromQuat:function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,l=i+i,u=n*a,c=r*a,h=r*s,p=i*a,f=i*s,d=i*l,m=o*a,v=o*s,g=o*l;return e[0]=1-h-d,e[3]=c-g,e[6]=p+v,e[1]=c+g,e[4]=1-u-d,e[7]=f-m,e[2]=p-v,e[5]=f+m,e[8]=1-u-h,e},fromRotation:function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},fromScaling:function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},fromTranslation:function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e},fromValues:function(e,t,n,r,i,o,a,s,l){var u=new je(9);return u[0]=e,u[1]=t,u[2]=n,u[3]=r,u[4]=i,u[5]=o,u[6]=a,u[7]=s,u[8]=l,u},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},invert:function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],h=c*a-s*u,p=-c*o+s*l,f=u*o-a*l,d=n*h+r*p+i*f;return d?(d=1/d,e[0]=h*d,e[1]=(-c*r+i*u)*d,e[2]=(s*r-i*a)*d,e[3]=p*d,e[4]=(c*n-i*l)*d,e[5]=(-s*n+i*o)*d,e[6]=f*d,e[7]=(-u*n+r*l)*d,e[8]=(a*n-r*o)*d,e):null},mul:ot,multiply:rt,multiplyScalar:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e},multiplyScalarAndAdd:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e},normalFromMat4:function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],h=t[9],p=t[10],f=t[11],d=t[12],m=t[13],v=t[14],g=t[15],y=n*s-r*a,b=n*l-i*a,_=n*u-o*a,w=r*l-i*s,x=r*u-o*s,S=i*u-o*l,E=c*m-h*d,k=c*v-p*d,T=c*g-f*d,L=h*v-p*m,C=h*g-f*m,M=p*g-f*v,A=y*M-b*C+_*L+w*T-x*k+S*E;return A?(A=1/A,e[0]=(s*M-l*C+u*L)*A,e[1]=(l*T-a*M-u*k)*A,e[2]=(a*C-s*T+u*E)*A,e[3]=(i*C-r*M-o*L)*A,e[4]=(n*M-i*T+o*k)*A,e[5]=(r*T-n*C-o*E)*A,e[6]=(m*S-v*x+g*w)*A,e[7]=(v*_-d*S-g*b)*A,e[8]=(d*x-m*_+g*y)*A,e):null},projection:function(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e},rotate:function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],p=Math.sin(n),f=Math.cos(n);return e[0]=f*r+p*a,e[1]=f*i+p*s,e[2]=f*o+p*l,e[3]=f*a-p*r,e[4]=f*s-p*i,e[5]=f*l-p*o,e[6]=u,e[7]=c,e[8]=h,e},scale:function(e,t,n){var r=n[0],i=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},set:function(e,t,n,r,i,o,a,s,l,u){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=a,e[6]=s,e[7]=l,e[8]=u,e},str:function(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"},sub:at,subtract:it,translate:function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],p=n[0],f=n[1];return e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e[6]=p*r+f*a+u,e[7]=p*i+f*s+c,e[8]=p*o+f*l+h,e},transpose:function(e,t){if(e===t){var n=t[1],r=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}},Symbol.toStringTag,{value:"Module"}));function lt(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ut(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],p=t[9],f=t[10],d=t[11],m=t[12],v=t[13],g=t[14],y=t[15],b=n[0],_=n[1],w=n[2],x=n[3];return e[0]=b*r+_*s+w*h+x*m,e[1]=b*i+_*l+w*p+x*v,e[2]=b*o+_*u+w*f+x*g,e[3]=b*a+_*c+w*d+x*y,b=n[4],_=n[5],w=n[6],x=n[7],e[4]=b*r+_*s+w*h+x*m,e[5]=b*i+_*l+w*p+x*v,e[6]=b*o+_*u+w*f+x*g,e[7]=b*a+_*c+w*d+x*y,b=n[8],_=n[9],w=n[10],x=n[11],e[8]=b*r+_*s+w*h+x*m,e[9]=b*i+_*l+w*p+x*v,e[10]=b*o+_*u+w*f+x*g,e[11]=b*a+_*c+w*d+x*y,b=n[12],_=n[13],w=n[14],x=n[15],e[12]=b*r+_*s+w*h+x*m,e[13]=b*i+_*l+w*p+x*v,e[14]=b*o+_*u+w*f+x*g,e[15]=b*a+_*c+w*d+x*y,e}function ct(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=r+r,l=i+i,u=o+o,c=r*s,h=r*l,p=r*u,f=i*l,d=i*u,m=o*u,v=a*s,g=a*l,y=a*u;return e[0]=1-(f+m),e[1]=h+y,e[2]=p-g,e[3]=0,e[4]=h-y,e[5]=1-(c+m),e[6]=d+v,e[7]=0,e[8]=p+g,e[9]=d-v,e[10]=1-(c+f),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function ht(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function pt(e,t){var n=t[0],r=t[1],i=t[2],o=t[4],a=t[5],s=t[6],l=t[8],u=t[9],c=t[10];return e[0]=Math.hypot(n,r,i),e[1]=Math.hypot(o,a,s),e[2]=Math.hypot(l,u,c),e}function ft(e,t){var n=new je(3);pt(n,t);var r=1/n[0],i=1/n[1],o=1/n[2],a=t[0]*r,s=t[1]*i,l=t[2]*o,u=t[4]*r,c=t[5]*i,h=t[6]*o,p=t[8]*r,f=t[9]*i,d=t[10]*o,m=a+c+d,v=0;return m>0?(v=2*Math.sqrt(m+1),e[3]=.25*v,e[0]=(h-f)/v,e[1]=(p-l)/v,e[2]=(s-u)/v):a>c&&a>d?(v=2*Math.sqrt(1+a-c-d),e[3]=(h-f)/v,e[0]=.25*v,e[1]=(s+u)/v,e[2]=(p+l)/v):c>d?(v=2*Math.sqrt(1+c-a-d),e[3]=(p-l)/v,e[0]=(s+u)/v,e[1]=.25*v,e[2]=(h+f)/v):(v=2*Math.sqrt(1+d-a-c),e[3]=(s-u)/v,e[0]=(p+l)/v,e[1]=(h+f)/v,e[2]=.25*v),e}function dt(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}var mt=ut,vt=dt;const gt=Object.freeze(Object.defineProperty({__proto__:null,add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e},adjoint:function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],h=t[9],p=t[10],f=t[11],d=t[12],m=t[13],v=t[14],g=t[15];return e[0]=s*(p*g-f*v)-h*(l*g-u*v)+m*(l*f-u*p),e[1]=-(r*(p*g-f*v)-h*(i*g-o*v)+m*(i*f-o*p)),e[2]=r*(l*g-u*v)-s*(i*g-o*v)+m*(i*u-o*l),e[3]=-(r*(l*f-u*p)-s*(i*f-o*p)+h*(i*u-o*l)),e[4]=-(a*(p*g-f*v)-c*(l*g-u*v)+d*(l*f-u*p)),e[5]=n*(p*g-f*v)-c*(i*g-o*v)+d*(i*f-o*p),e[6]=-(n*(l*g-u*v)-a*(i*g-o*v)+d*(i*u-o*l)),e[7]=n*(l*f-u*p)-a*(i*f-o*p)+c*(i*u-o*l),e[8]=a*(h*g-f*m)-c*(s*g-u*m)+d*(s*f-u*h),e[9]=-(n*(h*g-f*m)-c*(r*g-o*m)+d*(r*f-o*h)),e[10]=n*(s*g-u*m)-a*(r*g-o*m)+d*(r*u-o*s),e[11]=-(n*(s*f-u*h)-a*(r*f-o*h)+c*(r*u-o*s)),e[12]=-(a*(h*v-p*m)-c*(s*v-l*m)+d*(s*p-l*h)),e[13]=n*(h*v-p*m)-c*(r*v-i*m)+d*(r*p-i*h),e[14]=-(n*(s*v-l*m)-a*(r*v-i*m)+d*(r*l-i*s)),e[15]=n*(s*p-l*h)-a*(r*p-i*h)+c*(r*l-i*s),e},clone:function(e){var t=new je(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},create:function(){var e=new je(16);return je!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},determinant:function(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],h=e[10],p=e[11],f=e[12],d=e[13],m=e[14],v=e[15];return(t*a-n*o)*(h*v-p*m)-(t*s-r*o)*(c*v-p*d)+(t*l-i*o)*(c*m-h*d)+(n*s-r*a)*(u*v-p*f)-(n*l-i*a)*(u*m-h*f)+(r*l-i*s)*(u*d-c*f)},equals:function(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=e[9],p=e[10],f=e[11],d=e[12],m=e[13],v=e[14],g=e[15],y=t[0],b=t[1],_=t[2],w=t[3],x=t[4],S=t[5],E=t[6],k=t[7],T=t[8],L=t[9],C=t[10],M=t[11],A=t[12],R=t[13],P=t[14],z=t[15];return Math.abs(n-y)<=Ve*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(r-b)<=Ve*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(i-_)<=Ve*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(o-w)<=Ve*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(a-x)<=Ve*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(s-S)<=Ve*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(l-E)<=Ve*Math.max(1,Math.abs(l),Math.abs(E))&&Math.abs(u-k)<=Ve*Math.max(1,Math.abs(u),Math.abs(k))&&Math.abs(c-T)<=Ve*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(h-L)<=Ve*Math.max(1,Math.abs(h),Math.abs(L))&&Math.abs(p-C)<=Ve*Math.max(1,Math.abs(p),Math.abs(C))&&Math.abs(f-M)<=Ve*Math.max(1,Math.abs(f),Math.abs(M))&&Math.abs(d-A)<=Ve*Math.max(1,Math.abs(d),Math.abs(A))&&Math.abs(m-R)<=Ve*Math.max(1,Math.abs(m),Math.abs(R))&&Math.abs(v-P)<=Ve*Math.max(1,Math.abs(v),Math.abs(P))&&Math.abs(g-z)<=Ve*Math.max(1,Math.abs(g),Math.abs(z))},exactEquals:function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]},frob:function(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},fromQuat:function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,l=i+i,u=n*a,c=r*a,h=r*s,p=i*a,f=i*s,d=i*l,m=o*a,v=o*s,g=o*l;return e[0]=1-h-d,e[1]=c+g,e[2]=p-v,e[3]=0,e[4]=c-g,e[5]=1-u-d,e[6]=f+m,e[7]=0,e[8]=p+v,e[9]=f-m,e[10]=1-u-h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},fromQuat2:function(e,t){var n=new je(3),r=-t[0],i=-t[1],o=-t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=r*r+i*i+o*o+a*a;return h>0?(n[0]=2*(s*a+c*r+l*o-u*i)/h,n[1]=2*(l*a+c*i+u*r-s*o)/h,n[2]=2*(u*a+c*o+s*i-l*r)/h):(n[0]=2*(s*a+c*r+l*o-u*i),n[1]=2*(l*a+c*i+u*r-s*o),n[2]=2*(u*a+c*o+s*i-l*r)),ct(e,t,n),e},fromRotation:function(e,t,n){var r,i,o,a=n[0],s=n[1],l=n[2],u=Math.hypot(a,s,l);return u<Ve?null:(a*=u=1/u,s*=u,l*=u,r=Math.sin(t),o=1-(i=Math.cos(t)),e[0]=a*a*o+i,e[1]=s*a*o+l*r,e[2]=l*a*o-s*r,e[3]=0,e[4]=a*s*o-l*r,e[5]=s*s*o+i,e[6]=l*s*o+a*r,e[7]=0,e[8]=a*l*o+s*r,e[9]=s*l*o-a*r,e[10]=l*l*o+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)},fromRotationTranslation:ct,fromRotationTranslationScale:function(e,t,n,r){var i=t[0],o=t[1],a=t[2],s=t[3],l=i+i,u=o+o,c=a+a,h=i*l,p=i*u,f=i*c,d=o*u,m=o*c,v=a*c,g=s*l,y=s*u,b=s*c,_=r[0],w=r[1],x=r[2];return e[0]=(1-(d+v))*_,e[1]=(p+b)*_,e[2]=(f-y)*_,e[3]=0,e[4]=(p-b)*w,e[5]=(1-(h+v))*w,e[6]=(m+g)*w,e[7]=0,e[8]=(f+y)*x,e[9]=(m-g)*x,e[10]=(1-(h+d))*x,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e},fromRotationTranslationScaleOrigin:function(e,t,n,r,i){var o=t[0],a=t[1],s=t[2],l=t[3],u=o+o,c=a+a,h=s+s,p=o*u,f=o*c,d=o*h,m=a*c,v=a*h,g=s*h,y=l*u,b=l*c,_=l*h,w=r[0],x=r[1],S=r[2],E=i[0],k=i[1],T=i[2],L=(1-(m+g))*w,C=(f+_)*w,M=(d-b)*w,A=(f-_)*x,R=(1-(p+g))*x,P=(v+y)*x,z=(d+b)*S,I=(v-y)*S,N=(1-(p+m))*S;return e[0]=L,e[1]=C,e[2]=M,e[3]=0,e[4]=A,e[5]=R,e[6]=P,e[7]=0,e[8]=z,e[9]=I,e[10]=N,e[11]=0,e[12]=n[0]+E-(L*E+A*k+z*T),e[13]=n[1]+k-(C*E+R*k+I*T),e[14]=n[2]+T-(M*E+P*k+N*T),e[15]=1,e},fromScaling:function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},fromTranslation:function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e},fromValues:function(e,t,n,r,i,o,a,s,l,u,c,h,p,f,d,m){var v=new je(16);return v[0]=e,v[1]=t,v[2]=n,v[3]=r,v[4]=i,v[5]=o,v[6]=a,v[7]=s,v[8]=l,v[9]=u,v[10]=c,v[11]=h,v[12]=p,v[13]=f,v[14]=d,v[15]=m,v},fromXRotation:function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},fromYRotation:function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},fromZRotation:function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},frustum:function(e,t,n,r,i,o,a){var s=1/(n-t),l=1/(i-r),u=1/(o-a);return e[0]=2*o*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*l,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(i+r)*l,e[10]=(a+o)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*o*2*u,e[15]=0,e},getRotation:ft,getScaling:pt,getTranslation:ht,identity:lt,invert:function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],h=t[9],p=t[10],f=t[11],d=t[12],m=t[13],v=t[14],g=t[15],y=n*s-r*a,b=n*l-i*a,_=n*u-o*a,w=r*l-i*s,x=r*u-o*s,S=i*u-o*l,E=c*m-h*d,k=c*v-p*d,T=c*g-f*d,L=h*v-p*m,C=h*g-f*m,M=p*g-f*v,A=y*M-b*C+_*L+w*T-x*k+S*E;return A?(A=1/A,e[0]=(s*M-l*C+u*L)*A,e[1]=(i*C-r*M-o*L)*A,e[2]=(m*S-v*x+g*w)*A,e[3]=(p*x-h*S-f*w)*A,e[4]=(l*T-a*M-u*k)*A,e[5]=(n*M-i*T+o*k)*A,e[6]=(v*_-d*S-g*b)*A,e[7]=(c*S-p*_+f*b)*A,e[8]=(a*C-s*T+u*E)*A,e[9]=(r*T-n*C-o*E)*A,e[10]=(d*x-m*_+g*y)*A,e[11]=(h*_-c*x-f*y)*A,e[12]=(s*k-a*L-l*E)*A,e[13]=(n*L-r*k+i*E)*A,e[14]=(m*b-d*w-v*y)*A,e[15]=(c*w-h*b+p*y)*A,e):null},lookAt:function(e,t,n,r){var i,o,a,s,l,u,c,h,p,f,d=t[0],m=t[1],v=t[2],g=r[0],y=r[1],b=r[2],_=n[0],w=n[1],x=n[2];return Math.abs(d-_)<Ve&&Math.abs(m-w)<Ve&&Math.abs(v-x)<Ve?lt(e):(c=d-_,h=m-w,p=v-x,i=y*(p*=f=1/Math.hypot(c,h,p))-b*(h*=f),o=b*(c*=f)-g*p,a=g*h-y*c,(f=Math.hypot(i,o,a))?(i*=f=1/f,o*=f,a*=f):(i=0,o=0,a=0),s=h*a-p*o,l=p*i-c*a,u=c*o-h*i,(f=Math.hypot(s,l,u))?(s*=f=1/f,l*=f,u*=f):(s=0,l=0,u=0),e[0]=i,e[1]=s,e[2]=c,e[3]=0,e[4]=o,e[5]=l,e[6]=h,e[7]=0,e[8]=a,e[9]=u,e[10]=p,e[11]=0,e[12]=-(i*d+o*m+a*v),e[13]=-(s*d+l*m+u*v),e[14]=-(c*d+h*m+p*v),e[15]=1,e)},mul:mt,multiply:ut,multiplyScalar:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e},multiplyScalarAndAdd:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e},ortho:function(e,t,n,r,i,o,a){var s=1/(t-n),l=1/(r-i),u=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*l,e[14]=(a+o)*u,e[15]=1,e},perspective:function(e,t,n,r,i){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(o=1/(r-i),e[10]=(i+r)*o,e[14]=2*i*r*o):(e[10]=-1,e[14]=-2*r),e},perspectiveFromFieldOfView:function(e,t,n,r){var i=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),l=2/(a+s),u=2/(i+o);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-(a-s)*l*.5,e[9]=(i-o)*u*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e},rotate:function(e,t,n,r){var i,o,a,s,l,u,c,h,p,f,d,m,v,g,y,b,_,w,x,S,E,k,T,L,C=r[0],M=r[1],A=r[2],R=Math.hypot(C,M,A);return R<Ve?null:(C*=R=1/R,M*=R,A*=R,i=Math.sin(n),a=1-(o=Math.cos(n)),s=t[0],l=t[1],u=t[2],c=t[3],h=t[4],p=t[5],f=t[6],d=t[7],m=t[8],v=t[9],g=t[10],y=t[11],b=C*C*a+o,_=M*C*a+A*i,w=A*C*a-M*i,x=C*M*a-A*i,S=M*M*a+o,E=A*M*a+C*i,k=C*A*a+M*i,T=M*A*a-C*i,L=A*A*a+o,e[0]=s*b+h*_+m*w,e[1]=l*b+p*_+v*w,e[2]=u*b+f*_+g*w,e[3]=c*b+d*_+y*w,e[4]=s*x+h*S+m*E,e[5]=l*x+p*S+v*E,e[6]=u*x+f*S+g*E,e[7]=c*x+d*S+y*E,e[8]=s*k+h*T+m*L,e[9]=l*k+p*T+v*L,e[10]=u*k+f*T+g*L,e[11]=c*k+d*T+y*L,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)},rotateX:function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],h=t[10],p=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+u*r,e[5]=a*i+c*r,e[6]=s*i+h*r,e[7]=l*i+p*r,e[8]=u*i-o*r,e[9]=c*i-a*r,e[10]=h*i-s*r,e[11]=p*i-l*r,e},rotateY:function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],u=t[8],c=t[9],h=t[10],p=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-u*r,e[1]=a*i-c*r,e[2]=s*i-h*r,e[3]=l*i-p*r,e[8]=o*r+u*i,e[9]=a*r+c*i,e[10]=s*r+h*i,e[11]=l*r+p*i,e},rotateZ:function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],u=t[4],c=t[5],h=t[6],p=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+u*r,e[1]=a*i+c*r,e[2]=s*i+h*r,e[3]=l*i+p*r,e[4]=u*i-o*r,e[5]=c*i-a*r,e[6]=h*i-s*r,e[7]=p*i-l*r,e},scale:function(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},set:function(e,t,n,r,i,o,a,s,l,u,c,h,p,f,d,m,v){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=a,e[6]=s,e[7]=l,e[8]=u,e[9]=c,e[10]=h,e[11]=p,e[12]=f,e[13]=d,e[14]=m,e[15]=v,e},str:function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"},sub:vt,subtract:dt,targetTo:function(e,t,n,r){var i=t[0],o=t[1],a=t[2],s=r[0],l=r[1],u=r[2],c=i-n[0],h=o-n[1],p=a-n[2],f=c*c+h*h+p*p;f>0&&(c*=f=1/Math.sqrt(f),h*=f,p*=f);var d=l*p-u*h,m=u*c-s*p,v=s*h-l*c;return(f=d*d+m*m+v*v)>0&&(d*=f=1/Math.sqrt(f),m*=f,v*=f),e[0]=d,e[1]=m,e[2]=v,e[3]=0,e[4]=h*v-p*m,e[5]=p*d-c*v,e[6]=c*m-h*d,e[7]=0,e[8]=c,e[9]=h,e[10]=p,e[11]=0,e[12]=i,e[13]=o,e[14]=a,e[15]=1,e},translate:function(e,t,n){var r,i,o,a,s,l,u,c,h,p,f,d,m=n[0],v=n[1],g=n[2];return t===e?(e[12]=t[0]*m+t[4]*v+t[8]*g+t[12],e[13]=t[1]*m+t[5]*v+t[9]*g+t[13],e[14]=t[2]*m+t[6]*v+t[10]*g+t[14],e[15]=t[3]*m+t[7]*v+t[11]*g+t[15]):(r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],p=t[9],f=t[10],d=t[11],e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e[6]=u,e[7]=c,e[8]=h,e[9]=p,e[10]=f,e[11]=d,e[12]=r*m+s*v+h*g+t[12],e[13]=i*m+l*v+p*g+t[13],e[14]=o*m+u*v+f*g+t[14],e[15]=a*m+c*v+d*g+t[15]),e},transpose:function(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],o=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=i,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}},Symbol.toStringTag,{value:"Module"}));function yt(){var e=new je(3);return je!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function bt(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)}function _t(e,t,n){var r=new je(3);return r[0]=e,r[1]=t,r[2]=n,r}function wt(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function xt(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function St(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function Et(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.hypot(n,r,i)}function kt(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return n*n+r*r+i*i}function Tt(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}function Lt(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function Ct(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Mt(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],l=n[2];return e[0]=i*l-o*s,e[1]=o*a-r*l,e[2]=r*s-i*a,e}var At,Rt=wt,Pt=xt,zt=St,It=Et,Nt=kt,Dt=bt,Ot=Tt,Ft=(At=yt(),function(e,t,n,r,i,o){var a,s;for(t||(t=3),n||(n=0),s=r?Math.min(r*t+n,e.length):e.length,a=n;a<s;a+=t)At[0]=e[a],At[1]=e[a+1],At[2]=e[a+2],i(At,At,o),e[a]=At[0],e[a+1]=At[1],e[a+2]=At[2];return e});const Bt=Object.freeze(Object.defineProperty({__proto__:null,add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e},angle:function(e,t){var n=e[0],r=e[1],i=e[2],o=t[0],a=t[1],s=t[2],l=Math.sqrt(n*n+r*r+i*i)*Math.sqrt(o*o+a*a+s*s),u=l&&Ct(e,t)/l;return Math.acos(Math.min(Math.max(u,-1),1))},bezier:function(e,t,n,r,i,o){var a=1-o,s=a*a,l=o*o,u=s*a,c=3*o*s,h=3*l*a,p=l*o;return e[0]=t[0]*u+n[0]*c+r[0]*h+i[0]*p,e[1]=t[1]*u+n[1]*c+r[1]*h+i[1]*p,e[2]=t[2]*u+n[2]*c+r[2]*h+i[2]*p,e},ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e},clone:function(e){var t=new je(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},create:yt,cross:Mt,dist:It,distance:Et,div:zt,divide:St,dot:Ct,equals:function(e,t){var n=e[0],r=e[1],i=e[2],o=t[0],a=t[1],s=t[2];return Math.abs(n-o)<=Ve*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-a)<=Ve*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-s)<=Ve*Math.max(1,Math.abs(i),Math.abs(s))},exactEquals:function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e},forEach:Ft,fromValues:_t,hermite:function(e,t,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,l=a*(o-2)+o,u=a*(o-1),c=a*(3-2*o);return e[0]=t[0]*s+n[0]*l+r[0]*u+i[0]*c,e[1]=t[1]*s+n[1]*l+r[1]*u+i[1]*c,e[2]=t[2]*s+n[2]*l+r[2]*u+i[2]*c,e},inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},len:Dt,length:bt,lerp:function(e,t,n,r){var i=t[0],o=t[1],a=t[2];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=a+r*(n[2]-a),e},max:function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e},min:function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e},mul:Pt,multiply:xt,negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e},normalize:Lt,random:function(e,t){t=t||1;var n=2*Ue()*Math.PI,r=2*Ue()-1,i=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*i,e[1]=Math.sin(n)*i,e[2]=r*t,e},rotateX:function(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e},rotateY:function(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e},rotateZ:function(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e},round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e},scale:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e},scaleAndAdd:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e},set:function(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e},sqrDist:Nt,sqrLen:Ot,squaredDistance:kt,squaredLength:Tt,str:function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"},sub:Rt,subtract:wt,transformMat3:function(e,t,n){var r=t[0],i=t[1],o=t[2];return e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8],e},transformMat4:function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,e[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,e[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,e},transformQuat:function(e,t,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=t[0],l=t[1],u=t[2],c=i*u-o*l,h=o*s-r*u,p=r*l-i*s,f=i*p-o*h,d=o*c-r*p,m=r*h-i*c,v=2*a;return c*=v,h*=v,p*=v,f*=2,d*=2,m*=2,e[0]=s+c+f,e[1]=l+h+d,e[2]=u+p+m,e},zero:function(e){return e[0]=0,e[1]=0,e[2]=0,e}},Symbol.toStringTag,{value:"Module"}));function Ht(){var e=new je(4);return je!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function Vt(e){var t=new je(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function jt(e,t,n,r){var i=new je(4);return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function Ut(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function $t(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function qt(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function Wt(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function Yt(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}function Xt(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e}function Gt(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function Qt(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return Math.hypot(n,r,i,o)}function Kt(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return n*n+r*r+i*i+o*o}function Zt(e){var t=e[0],n=e[1],r=e[2],i=e[3];return Math.hypot(t,n,r,i)}function Jt(e){var t=e[0],n=e[1],r=e[2],i=e[3];return t*t+n*n+r*r+i*i}function en(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),e[0]=n*a,e[1]=r*a,e[2]=i*a,e[3]=o*a,e}function tn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function nn(e,t,n,r){var i=t[0],o=t[1],a=t[2],s=t[3];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=a+r*(n[2]-a),e[3]=s+r*(n[3]-s),e}function rn(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function on(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=t[0],s=t[1],l=t[2],u=t[3];return Math.abs(n-a)<=Ve*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-s)<=Ve*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-l)<=Ve*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(o-u)<=Ve*Math.max(1,Math.abs(o),Math.abs(u))}var an=Wt,sn=Yt,ln=Xt,un=Qt,cn=Kt,hn=Zt,pn=Jt,fn=function(){var e=Ht();return function(t,n,r,i,o,a){var s,l;for(n||(n=4),r||(r=0),l=i?Math.min(i*n+r,t.length):t.length,s=r;s<l;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],o(e,e,a),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}}();const dn=Object.freeze(Object.defineProperty({__proto__:null,add:qt,ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e},clone:Vt,copy:Ut,create:Ht,cross:function(e,t,n,r){var i=n[0]*r[1]-n[1]*r[0],o=n[0]*r[2]-n[2]*r[0],a=n[0]*r[3]-n[3]*r[0],s=n[1]*r[2]-n[2]*r[1],l=n[1]*r[3]-n[3]*r[1],u=n[2]*r[3]-n[3]*r[2],c=t[0],h=t[1],p=t[2],f=t[3];return e[0]=h*u-p*l+f*s,e[1]=-c*u+p*a-f*o,e[2]=c*l-h*a+f*i,e[3]=-c*s+h*o-p*i,e},dist:un,distance:Qt,div:ln,divide:Xt,dot:tn,equals:on,exactEquals:rn,floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e},forEach:fn,fromValues:jt,inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},len:hn,length:Zt,lerp:nn,max:function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e},min:function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e},mul:sn,multiply:Yt,negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},normalize:en,random:function(e,t){var n,r,i,o,a,s;t=t||1;do{a=(n=2*Ue()-1)*n+(r=2*Ue()-1)*r}while(a>=1);do{s=(i=2*Ue()-1)*i+(o=2*Ue()-1)*o}while(s>=1);var l=Math.sqrt((1-a)/s);return e[0]=t*n,e[1]=t*r,e[2]=t*i*l,e[3]=t*o*l,e},round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e},scale:Gt,scaleAndAdd:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e},set:$t,sqrDist:cn,sqrLen:pn,squaredDistance:Kt,squaredLength:Jt,str:function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},sub:an,subtract:Wt,transformMat4:function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e},transformQuat:function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],l=n[2],u=n[3],c=u*r+s*o-l*i,h=u*i+l*r-a*o,p=u*o+a*i-s*r,f=-a*r-s*i-l*o;return e[0]=c*u+f*-a+h*-l-p*-s,e[1]=h*u+f*-s+p*-a-c*-l,e[2]=p*u+f*-l+c*-s-h*-a,e[3]=t[3],e},zero:function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}},Symbol.toStringTag,{value:"Module"}));function mn(){var e=new je(4);return je!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function vn(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function gn(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=n[0],l=n[1],u=n[2],c=n[3];return e[0]=r*c+a*s+i*u-o*l,e[1]=i*c+a*l+o*s-r*u,e[2]=o*c+a*u+r*l-i*s,e[3]=a*c-r*s-i*l-o*u,e}function yn(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=r*l+a*s,e[1]=i*l+o*s,e[2]=o*l-i*s,e[3]=a*l-r*s,e}function bn(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=r*l-o*s,e[1]=i*l+a*s,e[2]=o*l+r*s,e[3]=a*l-i*s,e}function _n(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=r*l+i*s,e[1]=i*l-r*s,e[2]=o*l+a*s,e[3]=a*l-o*s,e}function wn(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=Math.sqrt(n*n+r*r+i*i),s=Math.exp(o),l=a>0?s*Math.sin(a)/a:0;return e[0]=n*l,e[1]=r*l,e[2]=i*l,e[3]=s*Math.cos(a),e}function xn(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=Math.sqrt(n*n+r*r+i*i),s=a>0?Math.atan2(a,o)/a:0;return e[0]=n*s,e[1]=r*s,e[2]=i*s,e[3]=.5*Math.log(n*n+r*r+i*i+o*o),e}function Sn(e,t,n,r){var i,o,a,s,l,u=t[0],c=t[1],h=t[2],p=t[3],f=n[0],d=n[1],m=n[2],v=n[3];return(o=u*f+c*d+h*m+p*v)<0&&(o=-o,f=-f,d=-d,m=-m,v=-v),1-o>Ve?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-r)*i)/a,l=Math.sin(r*i)/a):(s=1-r,l=r),e[0]=s*u+l*f,e[1]=s*c+l*d,e[2]=s*h+l*m,e[3]=s*p+l*v,e}function En(e,t){var n,r=t[0]+t[4]+t[8];if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(t[3*i+i]-t[3*o+o]-t[3*a+a]+1),e[i]=.5*n,n=.5/n,e[3]=(t[3*o+a]-t[3*a+o])*n,e[o]=(t[3*o+i]+t[3*i+o])*n,e[a]=(t[3*a+i]+t[3*i+a])*n}return e}var kn=Vt,Tn=jt,Ln=Ut,Cn=$t,Mn=qt,An=gn,Rn=Gt,Pn=tn,zn=nn,In=Zt,Nn=In,Dn=Jt,On=Dn,Fn=en,Bn=rn,Hn=on,Vn=function(){var e=yt(),t=_t(1,0,0),n=_t(0,1,0);return function(r,i,o){var a=Ct(i,o);return a<-.999999?(Mt(e,t,i),Dt(e)<1e-6&&Mt(e,n,i),Lt(e,e),vn(r,e,Math.PI),r):a>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(Mt(e,i,o),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+a,Fn(r,r))}}(),jn=function(){var e=mn(),t=mn();return function(n,r,i,o,a,s){return Sn(e,r,a,s),Sn(t,i,o,s),Sn(n,e,t,2*s*(1-s)),n}}(),Un=function(){var e=nt();return function(t,n,r,i){return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=i[0],e[4]=i[1],e[7]=i[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],Fn(t,En(t,e))}}();const $n=Object.freeze(Object.defineProperty({__proto__:null,add:Mn,calculateW:function(e,t){var n=t[0],r=t[1],i=t[2];return e[0]=n,e[1]=r,e[2]=i,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),e},clone:kn,conjugate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},copy:Ln,create:mn,dot:Pn,equals:Hn,exactEquals:Bn,exp:wn,fromEuler:function(e,t,n,r){var i=.5*Math.PI/180;t*=i,n*=i,r*=i;var o=Math.sin(t),a=Math.cos(t),s=Math.sin(n),l=Math.cos(n),u=Math.sin(r),c=Math.cos(r);return e[0]=o*l*c-a*s*u,e[1]=a*s*c+o*l*u,e[2]=a*l*u-o*s*c,e[3]=a*l*c+o*s*u,e},fromMat3:En,fromValues:Tn,getAngle:function(e,t){var n=Pn(e,t);return Math.acos(2*n*n-1)},getAxisAngle:function(e,t){var n=2*Math.acos(t[3]),r=Math.sin(n/2);return r>Ve?(e[0]=t[0]/r,e[1]=t[1]/r,e[2]=t[2]/r):(e[0]=1,e[1]=0,e[2]=0),n},identity:function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},invert:function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return e[0]=-n*s,e[1]=-r*s,e[2]=-i*s,e[3]=o*s,e},len:Nn,length:In,lerp:zn,ln:xn,mul:An,multiply:gn,normalize:Fn,pow:function(e,t,n){return xn(e,t),Rn(e,e,n),wn(e,e),e},random:function(e){var t=Ue(),n=Ue(),r=Ue(),i=Math.sqrt(1-t),o=Math.sqrt(t);return e[0]=i*Math.sin(2*Math.PI*n),e[1]=i*Math.cos(2*Math.PI*n),e[2]=o*Math.sin(2*Math.PI*r),e[3]=o*Math.cos(2*Math.PI*r),e},rotateX:yn,rotateY:bn,rotateZ:_n,rotationTo:Vn,scale:Rn,set:Cn,setAxes:Un,setAxisAngle:vn,slerp:Sn,sqlerp:jn,sqrLen:On,squaredLength:Dn,str:function(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}},Symbol.toStringTag,{value:"Module"}));function qn(e,t,n){var r=.5*n[0],i=.5*n[1],o=.5*n[2],a=t[0],s=t[1],l=t[2],u=t[3];return e[0]=a,e[1]=s,e[2]=l,e[3]=u,e[4]=r*u+i*l-o*s,e[5]=i*u+o*a-r*l,e[6]=o*u+r*s-i*a,e[7]=-r*a-i*s-o*l,e}function Wn(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}var Yn=Ln;var Xn=Ln;function Gn(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=n[4],l=n[5],u=n[6],c=n[7],h=t[4],p=t[5],f=t[6],d=t[7],m=n[0],v=n[1],g=n[2],y=n[3];return e[0]=r*y+a*m+i*g-o*v,e[1]=i*y+a*v+o*m-r*g,e[2]=o*y+a*g+r*v-i*m,e[3]=a*y-r*m-i*v-o*g,e[4]=r*c+a*s+i*u-o*l+h*y+d*m+p*g-f*v,e[5]=i*c+a*l+o*s-r*u+p*y+d*v+f*m-h*g,e[6]=o*c+a*u+r*l-i*s+f*y+d*g+h*v-p*m,e[7]=a*c-r*s-i*l-o*u+d*y-h*m-p*v-f*g,e}var Qn=Gn;var Kn=Pn;var Zn=In,Jn=Zn,er=Dn,tr=er;const nr=Object.freeze(Object.defineProperty({__proto__:null,add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e},clone:function(e){var t=new je(8);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t},conjugate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=t[7],e},copy:Wn,create:function(){var e=new je(8);return je!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0),e[3]=1,e},dot:Kn,equals:function(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=t[0],h=t[1],p=t[2],f=t[3],d=t[4],m=t[5],v=t[6],g=t[7];return Math.abs(n-c)<=Ve*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(r-h)<=Ve*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(i-p)<=Ve*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(o-f)<=Ve*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(a-d)<=Ve*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(s-m)<=Ve*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(l-v)<=Ve*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(u-g)<=Ve*Math.max(1,Math.abs(u),Math.abs(g))},exactEquals:function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]},fromMat4:function(e,t){var n=mn();ft(n,t);var r=new je(3);return ht(r,t),qn(e,n,r),e},fromRotation:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=0,e[5]=0,e[6]=0,e[7]=0,e},fromRotationTranslation:qn,fromRotationTranslationValues:function(e,t,n,r,i,o,a){var s=new je(8);s[0]=e,s[1]=t,s[2]=n,s[3]=r;var l=.5*i,u=.5*o,c=.5*a;return s[4]=l*r+u*n-c*t,s[5]=u*r+c*e-l*n,s[6]=c*r+l*t-u*e,s[7]=-l*e-u*t-c*n,s},fromTranslation:function(e,t){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=.5*t[0],e[5]=.5*t[1],e[6]=.5*t[2],e[7]=0,e},fromValues:function(e,t,n,r,i,o,a,s){var l=new je(8);return l[0]=e,l[1]=t,l[2]=n,l[3]=r,l[4]=i,l[5]=o,l[6]=a,l[7]=s,l},getDual:function(e,t){return e[0]=t[4],e[1]=t[5],e[2]=t[6],e[3]=t[7],e},getReal:Yn,getTranslation:function(e,t){var n=t[4],r=t[5],i=t[6],o=t[7],a=-t[0],s=-t[1],l=-t[2],u=t[3];return e[0]=2*(n*u+o*a+r*l-i*s),e[1]=2*(r*u+o*s+i*a-n*l),e[2]=2*(i*u+o*l+n*s-r*a),e},identity:function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e},invert:function(e,t){var n=er(t);return e[0]=-t[0]/n,e[1]=-t[1]/n,e[2]=-t[2]/n,e[3]=t[3]/n,e[4]=-t[4]/n,e[5]=-t[5]/n,e[6]=-t[6]/n,e[7]=t[7]/n,e},len:Jn,length:Zn,lerp:function(e,t,n,r){var i=1-r;return Kn(t,n)<0&&(r=-r),e[0]=t[0]*i+n[0]*r,e[1]=t[1]*i+n[1]*r,e[2]=t[2]*i+n[2]*r,e[3]=t[3]*i+n[3]*r,e[4]=t[4]*i+n[4]*r,e[5]=t[5]*i+n[5]*r,e[6]=t[6]*i+n[6]*r,e[7]=t[7]*i+n[7]*r,e},mul:Qn,multiply:Gn,normalize:function(e,t){var n=er(t);if(n>0){n=Math.sqrt(n);var r=t[0]/n,i=t[1]/n,o=t[2]/n,a=t[3]/n,s=t[4],l=t[5],u=t[6],c=t[7],h=r*s+i*l+o*u+a*c;e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=(s-r*h)/n,e[5]=(l-i*h)/n,e[6]=(u-o*h)/n,e[7]=(c-a*h)/n}return e},rotateAroundAxis:function(e,t,n,r){if(Math.abs(r)<Ve)return Wn(e,t);var i=Math.hypot(n[0],n[1],n[2]);r*=.5;var o=Math.sin(r),a=o*n[0]/i,s=o*n[1]/i,l=o*n[2]/i,u=Math.cos(r),c=t[0],h=t[1],p=t[2],f=t[3];e[0]=c*u+f*a+h*l-p*s,e[1]=h*u+f*s+p*a-c*l,e[2]=p*u+f*l+c*s-h*a,e[3]=f*u-c*a-h*s-p*l;var d=t[4],m=t[5],v=t[6],g=t[7];return e[4]=d*u+g*a+m*l-v*s,e[5]=m*u+g*s+v*a-d*l,e[6]=v*u+g*l+d*s-m*a,e[7]=g*u-d*a-m*s-v*l,e},rotateByQuatAppend:function(e,t,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=t[0],l=t[1],u=t[2],c=t[3];return e[0]=s*a+c*r+l*o-u*i,e[1]=l*a+c*i+u*r-s*o,e[2]=u*a+c*o+s*i-l*r,e[3]=c*a-s*r-l*i-u*o,s=t[4],l=t[5],u=t[6],c=t[7],e[4]=s*a+c*r+l*o-u*i,e[5]=l*a+c*i+u*r-s*o,e[6]=u*a+c*o+s*i-l*r,e[7]=c*a-s*r-l*i-u*o,e},rotateByQuatPrepend:function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=n[0],l=n[1],u=n[2],c=n[3];return e[0]=r*c+a*s+i*u-o*l,e[1]=i*c+a*l+o*s-r*u,e[2]=o*c+a*u+r*l-i*s,e[3]=a*c-r*s-i*l-o*u,s=n[4],l=n[5],u=n[6],c=n[7],e[4]=r*c+a*s+i*u-o*l,e[5]=i*c+a*l+o*s-r*u,e[6]=o*c+a*u+r*l-i*s,e[7]=a*c-r*s-i*l-o*u,e},rotateX:function(e,t,n){var r=-t[0],i=-t[1],o=-t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=s*a+c*r+l*o-u*i,p=l*a+c*i+u*r-s*o,f=u*a+c*o+s*i-l*r,d=c*a-s*r-l*i-u*o;return yn(e,t,n),r=e[0],i=e[1],o=e[2],a=e[3],e[4]=h*a+d*r+p*o-f*i,e[5]=p*a+d*i+f*r-h*o,e[6]=f*a+d*o+h*i-p*r,e[7]=d*a-h*r-p*i-f*o,e},rotateY:function(e,t,n){var r=-t[0],i=-t[1],o=-t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=s*a+c*r+l*o-u*i,p=l*a+c*i+u*r-s*o,f=u*a+c*o+s*i-l*r,d=c*a-s*r-l*i-u*o;return bn(e,t,n),r=e[0],i=e[1],o=e[2],a=e[3],e[4]=h*a+d*r+p*o-f*i,e[5]=p*a+d*i+f*r-h*o,e[6]=f*a+d*o+h*i-p*r,e[7]=d*a-h*r-p*i-f*o,e},rotateZ:function(e,t,n){var r=-t[0],i=-t[1],o=-t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=s*a+c*r+l*o-u*i,p=l*a+c*i+u*r-s*o,f=u*a+c*o+s*i-l*r,d=c*a-s*r-l*i-u*o;return _n(e,t,n),r=e[0],i=e[1],o=e[2],a=e[3],e[4]=h*a+d*r+p*o-f*i,e[5]=p*a+d*i+f*r-h*o,e[6]=f*a+d*o+h*i-p*r,e[7]=d*a-h*r-p*i-f*o,e},scale:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e},set:function(e,t,n,r,i,o,a,s,l){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=a,e[6]=s,e[7]=l,e},setDual:function(e,t){return e[4]=t[0],e[5]=t[1],e[6]=t[2],e[7]=t[3],e},setReal:Xn,sqrLen:tr,squaredLength:er,str:function(e){return"quat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+")"},translate:function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=.5*n[0],l=.5*n[1],u=.5*n[2],c=t[4],h=t[5],p=t[6],f=t[7];return e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=a*s+i*u-o*l+c,e[5]=a*l+o*s-r*u+h,e[6]=a*u+r*l-i*s+p,e[7]=-r*s-i*l-o*u+f,e}},Symbol.toStringTag,{value:"Module"}));function rr(){var e=new je(2);return je!=Float32Array&&(e[0]=0,e[1]=0),e}function ir(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function or(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function ar(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function sr(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.hypot(n,r)}function lr(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function ur(e){var t=e[0],n=e[1];return Math.hypot(t,n)}function cr(e){var t=e[0],n=e[1];return t*t+n*n}var hr=ur,pr=ir,fr=or,dr=ar,mr=sr,vr=lr,gr=cr,yr=function(){var e=rr();return function(t,n,r,i,o,a){var s,l;for(n||(n=2),r||(r=0),l=i?Math.min(i*n+r,t.length):t.length,s=r;s<l;s+=n)e[0]=t[s],e[1]=t[s+1],o(e,e,a),t[s]=e[0],t[s+1]=e[1];return t}}();const br=Object.freeze(Object.defineProperty({__proto__:null,add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e},angle:function(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+o*o),s=a&&(n*i+r*o)/a;return Math.acos(Math.min(Math.max(s,-1),1))},ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e},clone:function(e){var t=new je(2);return t[0]=e[0],t[1]=e[1],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e},create:rr,cross:function(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e},dist:mr,distance:sr,div:dr,divide:ar,dot:function(e,t){return e[0]*t[0]+e[1]*t[1]},equals:function(e,t){var n=e[0],r=e[1],i=t[0],o=t[1];return Math.abs(n-i)<=Ve*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=Ve*Math.max(1,Math.abs(r),Math.abs(o))},exactEquals:function(e,t){return e[0]===t[0]&&e[1]===t[1]},floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e},forEach:yr,fromValues:function(e,t){var n=new je(2);return n[0]=e,n[1]=t,n},inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},len:hr,length:ur,lerp:function(e,t,n,r){var i=t[0],o=t[1];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e},max:function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e},min:function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e},mul:fr,multiply:or,negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e},normalize:function(e,t){var n=t[0],r=t[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e},random:function(e,t){t=t||1;var n=2*Ue()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e},rotate:function(e,t,n,r){var i=t[0]-n[0],o=t[1]-n[1],a=Math.sin(r),s=Math.cos(r);return e[0]=i*s-o*a+n[0],e[1]=i*a+o*s+n[1],e},round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e},scale:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e},scaleAndAdd:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e},set:function(e,t,n){return e[0]=t,e[1]=n,e},sqrDist:vr,sqrLen:gr,squaredDistance:lr,squaredLength:cr,str:function(e){return"vec2("+e[0]+", "+e[1]+")"},sub:pr,subtract:ir,transformMat2:function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e},transformMat2d:function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e},transformMat3:function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7],e},transformMat4:function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e},zero:function(e){return e[0]=0,e[1]=0,e}},Symbol.toStringTag,{value:"Module"})),_r=ce(Object.freeze(Object.defineProperty({__proto__:null,glMatrix:qe,mat2:Qe,mat2d:tt,mat3:st,mat4:gt,quat:$n,quat2:nr,vec2:br,vec3:Bt,vec4:dn},Symbol.toStringTag,{value:"Module"})));var wr,xr,Sr,Er,kr,Tr,Lr,Cr,Mr,Ar,Rr,Pr,zr,Ir,Nr,Dr,Or,Fr,Br,Hr,Vr,jr,Ur,$r,qr,Wr,Yr,Xr,Gr,Qr,Kr,Zr,Jr,ei,ti,ni,ri,ii,oi,ai,si,li,ui,ci,hi,pi,fi,di,mi,vi,gi,yi,bi,_i,wi,xi,Si,Ei,ki,Ti,Li,Ci,Mi,Ai,Ri,Pi,zi,Ii,Ni,Di,Oi,Fi,Bi,Hi,Vi,ji,Ui,$i,qi,Wi,Yi,Xi,Gi,Qi,Ki,Zi,Ji,eo,to,no,ro,io;function oo(){if(xr)return wr;return xr=1,wr=function(e,t,n){return Math.min(Math.max(e,t),n)},wr}function ao(){if(Er)return Sr;Er=1;var e=oo(),t=_r.vec4,n=_r.vec3,r=_r.mat4;function i(e,t,n){var r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw e.getShaderInfoLog(r);return r}function o(e,t,n,r){var i=e.createBuffer();return e.bindBuffer(t,i),e.bufferData(t,r,n),i}var a=t.create(),s=r.create();r.identity(s);var l=n.create(),u=n.create();return Sr={createShaderProgram:function(e,t,n,r,o){var a=i(e,e.VERTEX_SHADER,t),s=i(e,e.FRAGMENT_SHADER,n),l=e.createProgram();if(e.attachShader(l,a),e.attachShader(l,s),e.linkProgram(l),!e.getProgramParameter(l,e.LINK_STATUS))throw e.getProgramInfoLog(l);for(var u=0;u<r.length;u++){var c=r[u];if(l[c]=e.getAttribLocation(l,c),-1===l[c])throw new Error("Shader program has no "+c+" attribute")}for(var h=0;h<o.length;h++){var p=o[h];if(l[p]=e.getUniformLocation(l,p),-1===l[p])throw new Error("Shader program has no "+p+" uniform")}return l},destroyShaderProgram:function(e,t){for(var n=e.getAttachedShaders(t),r=0;r<n.length;r++){var i=n[r];e.detachShader(t,i),e.deleteShader(i)}e.deleteProgram(t)},createConstantBuffers:function(e,t,n,r){return{vertexIndices:o(e,e.ELEMENT_ARRAY_BUFFER,e.STATIC_DRAW,new Uint16Array(t)),vertexPositions:o(e,e.ARRAY_BUFFER,e.STATIC_DRAW,new Float32Array(n)),textureCoords:o(e,e.ARRAY_BUFFER,e.STATIC_DRAW,new Float32Array(r))}},destroyConstantBuffers:function(e,t){e.deleteBuffer(t.vertexIndices),e.deleteBuffer(t.vertexPositions),e.deleteBuffer(t.textureCoords)},enableAttributes:function(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),r=0;r<n;r++)e.enableVertexAttribArray(r)},disableAttributes:function(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),r=0;r<n;r++)e.disableVertexAttribArray(r)},setTexture:function(e,t,n){e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,n._texture),e.uniform1i(t.uSampler,0)},setDepth:function(e,t,n,r){var i=(256*(n+1)-r)/65536;e.uniform1f(t.uDepth,i)},setViewport:function(t,i,o,a){if(0===o.x&&1===o.width&&0===o.y&&1===o.height)return t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight),void r.identity(a);var s=o.x,c=e(s,0,1),h=c-s,p=1-c,f=e(o.width-h,0,p),d=o.width-f,m=1-o.height-o.y,v=e(m,0,1),g=v-m,y=1-v,b=e(o.height-g,0,y),_=o.height-b;n.set(u,o.width/f,o.height/b,1),n.set(l,(d-h)/f,(_-g)/b,0),r.identity(a),r.translate(a,a,l),r.scale(a,a,u),t.viewport(t.drawingBufferWidth*c,t.drawingBufferHeight*v,t.drawingBufferWidth*f,t.drawingBufferHeight*b)},setupPixelEffectUniforms:function(e,t,n){var r=1;t&&null!=t.opacity&&(r=t.opacity),e.uniform1f(n.opacity,r);var i=a;t&&t.colorOffset&&(i=t.colorOffset),e.uniform4fv(n.colorOffset,i);var o=s;t&&t.colorMatrix&&(o=t.colorMatrix),e.uniformMatrix4fv(n.colorMatrix,!1,o)}},Sr}function so(){if(Ar)return Mr;Ar=1;var e=_r.mat4,t=_r.vec3,n=ye(),r=ao(),i=r.createConstantBuffers,o=r.destroyConstantBuffers,a=r.createShaderProgram,s=r.destroyShaderProgram,l=r.enableAttributes,u=r.disableAttributes,c=r.setViewport,h=r.setupPixelEffectUniforms,p=r.setDepth,f=r.setTexture,d=(Tr||(Tr=1,kr=["attribute vec3 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float uDepth;","uniform mat4 uViewportMatrix;","uniform mat4 uProjMatrix;","varying vec2 vTextureCoord;","void main(void) {","  gl_Position = uViewportMatrix * uProjMatrix * vec4(aVertexPosition.xy, 0.0, 1.0);","  gl_Position.z = uDepth * gl_Position.w;","  vTextureCoord = aTextureCoord;","}"].join("\n")),kr),m=(Cr||(Cr=1,Lr=["#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uSampler;","uniform float uOpacity;","uniform vec4 uColorOffset;","uniform mat4 uColorMatrix;","varying vec2 vTextureCoord;","void main(void) {","  vec4 color = texture2D(uSampler, vTextureCoord) * uColorMatrix + uColorOffset;","  gl_FragColor = vec4(color.rgba * uOpacity);","}"].join("\n")),Lr),v=[0,1,2,0,2,3],g=[-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0],y=[0,0,1,0,1,1,0,1],b=["aVertexPosition","aTextureCoord"],_=["uDepth","uOpacity","uSampler","uProjMatrix","uViewportMatrix","uColorOffset","uColorMatrix"];function w(n){this.gl=n,this.projMatrix=e.create(),this.viewportMatrix=e.create(),this.translateVector=t.create(),this.scaleVector=t.create(),this.constantBuffers=i(n,v,g,y),this.shaderProgram=a(n,d,m,b,_)}return w.prototype.destroy=function(){o(this.gl,this.constantBuffers),s(this.gl,this.shaderProgram),n(this)},w.prototype.startLayer=function(e,t){var n=this.gl,r=this.shaderProgram,i=this.constantBuffers,o=this.viewportMatrix;n.useProgram(r),l(n,r),c(n,e,t,o),n.uniformMatrix4fv(r.uViewportMatrix,!1,o),n.bindBuffer(n.ARRAY_BUFFER,i.vertexPositions),n.vertexAttribPointer(r.aVertexPosition,3,n.FLOAT,n.FALSE,0,0),n.bindBuffer(n.ARRAY_BUFFER,i.textureCoords),n.vertexAttribPointer(r.aTextureCoord,2,n.FLOAT,n.FALSE,0,0),h(n,e.effects(),{opacity:r.uOpacity,colorOffset:r.uColorOffset,colorMatrix:r.uColorMatrix})},w.prototype.endLayer=function(e,t){var n=this.gl,r=this.shaderProgram;u(n,r)},w.prototype.renderTile=function(t,n,r,i){var o=this.gl,a=this.shaderProgram,s=this.constantBuffers,l=this.projMatrix,u=this.translateVector,c=this.scaleVector;u[0]=t.centerX(),u[1]=t.centerY(),u[2]=-.5,c[0]=t.scaleX(),c[1]=t.scaleY(),c[2]=1,e.copy(l,r.view().projection()),e.rotateX(l,l,t.rotX()),e.rotateY(l,l,t.rotY()),e.translate(l,l,u),e.scale(l,l,c),o.uniformMatrix4fv(a.uProjMatrix,!1,l),p(o,a,i,t.z),f(o,a,n),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,s.vertexIndices),o.drawElements(o.TRIANGLES,v.length,o.UNSIGNED_SHORT,0)},Mr=w}function lo(){if(Pr)return Rr;Pr=1;var e=so();function t(){this.constructor.super_.apply(this,arguments)}return xe()(t,e),Rr=t}function uo(){if(Ir)return zr;Ir=1;var e=so();function t(){this.constructor.super_.apply(this,arguments)}return xe()(t,e),zr=t}function co(){if(Hr)return Br;Hr=1;var e=_r.mat4,t=ye(),n=ao(),r=n.createConstantBuffers,i=n.destroyConstantBuffers,o=n.createShaderProgram,a=n.destroyShaderProgram,s=n.enableAttributes,l=n.disableAttributes,u=n.setViewport,c=n.setupPixelEffectUniforms,h=n.setDepth,p=n.setTexture,f=(Dr||(Dr=1,Nr=["attribute vec3 aVertexPosition;","uniform float uDepth;","uniform mat4 uViewportMatrix;","uniform mat4 uInvProjMatrix;","varying vec4 vRay;","void main(void) {","  vRay = uInvProjMatrix * vec4(aVertexPosition.xy, 1.0, 1.0);","  gl_Position = uViewportMatrix * vec4(aVertexPosition.xy, uDepth, 1.0);","}"].join("\n")),Nr),d=(Fr||(Fr=1,Or=["#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float","#endif","uniform sampler2D uSampler;","uniform float uOpacity;","uniform float uTextureX;","uniform float uTextureY;","uniform float uTextureWidth;","uniform float uTextureHeight;","uniform vec4 uColorOffset;","uniform mat4 uColorMatrix;","varying vec4 vRay;","const float PI = 3.14159265358979323846264;","void main(void) {","  float r = inversesqrt(vRay.x * vRay.x + vRay.y * vRay.y + vRay.z * vRay.z);","  float phi  = acos(vRay.y * r);","  float theta = atan(vRay.x, -1.0*vRay.z);","  float s = 0.5 + 0.5 * theta / PI;","  float t = 1.0 - phi / PI;","  s = s * uTextureWidth + uTextureX;","  t = t * uTextureHeight + uTextureY;","  vec4 color = texture2D(uSampler, vec2(s, t)) * uColorMatrix + uColorOffset;","  gl_FragColor = vec4(color.rgba * uOpacity);","}"].join("\n")),Or),m=[0,1,2,0,2,3],v=[-1,-1,0,1,-1,0,1,1,0,-1,1,0],g=[0,0,1,0,1,1,0,1],y=["aVertexPosition"],b=["uDepth","uOpacity","uSampler","uInvProjMatrix","uViewportMatrix","uColorOffset","uColorMatrix","uTextureX","uTextureY","uTextureWidth","uTextureHeight"];function _(t){this.gl=t,this.invProjMatrix=e.create(),this.viewportMatrix=e.create(),this.constantBuffers=r(t,m,v,g),this.shaderProgram=o(t,f,d,y,b)}return _.prototype.destroy=function(){i(this.gl,this.constantBuffers),a(this.gl,this.shaderProgram),t(this)},_.prototype.startLayer=function(t,n){var r=this.gl,i=this.shaderProgram,o=this.constantBuffers,a=this.invProjMatrix,l=this.viewportMatrix;r.useProgram(i),s(r,i),u(r,t,n,l),r.uniformMatrix4fv(i.uViewportMatrix,!1,l),r.bindBuffer(r.ARRAY_BUFFER,o.vertexPositions),r.vertexAttribPointer(i.aVertexPosition,3,r.FLOAT,r.FALSE,0,0),r.bindBuffer(r.ARRAY_BUFFER,o.textureCoords),e.copy(a,t.view().projection()),e.invert(a,a),r.uniformMatrix4fv(i.uInvProjMatrix,!1,a);var h=t.effects().textureCrop||{},p=null!=h.x?h.x:0,f=null!=h.y?h.y:0,d=null!=h.width?h.width:1,m=null!=h.height?h.height:1;r.uniform1f(i.uTextureX,p),r.uniform1f(i.uTextureY,f),r.uniform1f(i.uTextureWidth,d),r.uniform1f(i.uTextureHeight,m),c(r,t.effects(),{opacity:i.uOpacity,colorOffset:i.uColorOffset,colorMatrix:i.uColorMatrix})},_.prototype.endLayer=function(e,t){var n=this.gl,r=this.shaderProgram;l(n,r)},_.prototype.renderTile=function(e,t,n,r){var i=this.gl,o=this.shaderProgram,a=this.constantBuffers;h(i,o,r,e.z),p(i,o,t),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,a.vertexIndices),i.drawElements(i.TRIANGLES,m.length,i.UNSIGNED_SHORT,0)},Br=_}function ho(){if(jr)return Vr;jr=1;var e=lo(),t=uo(),n=co();return Vr=function(r){if("webgl"!==r.type)throw new Error("Unknown stage type: "+r.type);r.registerRenderer("flat","flat",t),r.registerRenderer("cube","rectilinear",e),r.registerRenderer("equirect","rectilinear",n)},Vr}function po(){if($r)return Ur;return $r=1,Ur=function(){for(var e=0,t=0;t<arguments.length;t++){var n=arguments[t];e+=n,e+=n<<10,e^=n>>6}return e+=e<<3,e^=e>>11,(e+=e<<15)>=0?e:-e},Ur}function fo(){if(Wr)return qr;return Wr=1,qr=function(e,t){return(+e%(t=+t)+t)%t},qr}function mo(){if(Xr)return Yr;Xr=1;var e=fo();function t(e){if(null!=e&&(!isFinite(e)||Math.floor(e)!==e||e<1))throw new Error("Set: invalid capacity");this._capacity=this._capacity||64,this._buckets=[];for(var t=0;t<this._capacity;t++)this._buckets.push([]);this._size=0}return t.prototype.add=function(t){for(var n=e(t.hash(),this._capacity),r=this._buckets[n],i=0;i<r.length;i++){var o=r[i];if(t.equals(o))return r[i]=t,o}return r.push(t),this._size++,null},t.prototype.remove=function(t){for(var n=e(t.hash(),this._capacity),r=this._buckets[n],i=0;i<r.length;i++){var o=r[i];if(t.equals(o)){for(var a=i;a<r.length-1;a++)r[a]=r[a+1];return r.length=r.length-1,this._size--,o}}return null},t.prototype.has=function(t){for(var n=e(t.hash(),this._capacity),r=this._buckets[n],i=0;i<r.length;i++){var o=r[i];if(t.equals(o))return!0}return!1},t.prototype.size=function(){return this._size},t.prototype.clear=function(){for(var e=0;e<this._capacity;e++)this._buckets[e].length=0;this._size=0},t.prototype.forEach=function(e){for(var t=0,n=0;n<this._capacity;n++)for(var r=this._buckets[n],i=0;i<r.length;i++)e(r[i]),t+=1;return t},Yr=t}function vo(){if(Qr)return Gr;Qr=1;var e=mo();function t(){this._stack=[],this._visited=new e,this._vertices=null}return t.prototype.search=function(e,t,n){var r=this._stack,i=this._visited,o=this._vertices,a=0;for(this._clear(),r.push(t);r.length>0;){var s=r.pop();if(!i.has(s)&&e.intersects(s.vertices(o))){i.add(s);for(var l=s.neighbors(),u=0;u<l.length;u++)r.push(l[u]);n.push(s),a++}}return this._vertices=o,this._clear(),a},t.prototype._clear=function(){this._stack.length=0,this._visited.clear()},Gr=t}function go(){if(Zr)return Kr;Zr=1;var e=fo();function t(e){if(!isFinite(e)||Math.floor(e)!==e||e<0)throw new Error("LruMap: invalid capacity");this._capacity=e,this._keys=new Array(this._capacity),this._values=new Array(this._capacity),this._start=0,this._size=0}return t.prototype._index=function(t){return e(this._start+t,this._capacity)},t.prototype.get=function(e){for(var t=0;t<this._size;t++){var n=this._keys[this._index(t)];if(e.equals(n))return this._values[this._index(t)]}return null},t.prototype.set=function(e,t){if(0===this._capacity)return e;this.del(e);var n=this._size===this._capacity?this._keys[this._index(0)]:null;return this._keys[this._index(this._size)]=e,this._values[this._index(this._size)]=t,this._size<this._capacity?this._size++:this._start=this._index(1),n},t.prototype.del=function(e){for(var t=0;t<this._size;t++)if(e.equals(this._keys[this._index(t)])){for(var n=this._values[this._index(t)],r=t;r<this._size-1;r++)this._keys[this._index(r)]=this._keys[this._index(r+1)],this._values[this._index(r)]=this._values[this._index(r+1)];return this._size--,n}return null},t.prototype.has=function(e){for(var t=0;t<this._size;t++)if(e.equals(this._keys[this._index(t)]))return!0;return!1},t.prototype.size=function(){return this._size},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._start=0,this._size=0},t.prototype.forEach=function(e){for(var t=0,n=0;n<this._size;n++)e(this._keys[this._index(n)],this._values[this._index(n)]),t+=1;return t},Kr=t}function yo(){if(ei)return Jr;function e(e){this._fallbackOnly=!!e.fallbackOnly}return ei=1,e.prototype.numHorizontalTiles=function(){return Math.ceil(this.width()/this.tileWidth())},e.prototype.numVerticalTiles=function(){return Math.ceil(this.height()/this.tileHeight())},e.prototype.fallbackOnly=function(){return this._fallbackOnly},Jr=e}function bo(){if(ni)return ti;return ni=1,ti=function(e,t){return e<t?-1:e>t?1:0},ti}function _o(){if(ii)return ri;ii=1;var e=bo();return ri={makeLevelList:function(t,n){for(var r=[],i=0;i<t.length;i++)r.push(new n(t[i]));return r.sort(function(t,n){return e(t.width(),n.width())}),r},makeSelectableLevelList:function(e){for(var t=[],n=0;n<e.length;n++)e[n]._fallbackOnly||t.push(e[n]);if(!t.length)throw new Error("No selectable levels in list");return t}},ri}function wo(){if(ai)return oi;return ai=1,oi=function(e){var t=typeof e;if("object"===t){if(null===e)return"null";if("[object Array]"===Object.prototype.toString.call(e))return"array";if("[object RegExp]"===Object.prototype.toString.call(e))return"regexp"}return t},oi}function xo(){if(li)return si;li=1;var e=xe(),t=po(),n=vo(),r=go(),i=yo(),o=_o().makeLevelList,a=_o().makeSelectableLevelList,s=oo(),l=bo(),u=wo(),c=_r.vec3,h=_r.vec4,p="fudlrb",f={f:{x:0,y:0},b:{x:0,y:Math.PI},l:{x:0,y:Math.PI/2},r:{x:0,y:-Math.PI/2},u:{x:Math.PI/2,y:0},d:{x:-Math.PI/2,y:0}},d=c.create();function m(e,t,n,r){n&&c.rotateX(e,e,d,n),r&&c.rotateY(e,e,d,r)}for(var v={},g=0;g<6;g++){var y=p[g],b=f[y],_=c.fromValues(0,0,-1);m(_,0,b.x,b.y),v[y]=_}var w={f:["l","r","u","d"],b:["r","l","u","d"],l:["b","f","u","d"],r:["f","b","u","d"],u:["l","r","b","f"],d:["l","r","f","b"]},x=[[0,1],[1,0],[0,-1],[-1,0]];function S(e,t,n,r,i){this.face=e,this.x=t,this.y=n,this.z=r,this._geometry=i,this._level=i.levelList[r]}function E(e){if(this.constructor.super_.call(this,e),this._size=e.size,this._tileSize=e.tileSize,this._size%this._tileSize!==0)throw new Error("Level size is not multiple of tile size: "+this._size+" "+this._tileSize)}function k(e){if("array"!==u(e))throw new Error("Level list must be an array");this.levelList=o(e,E),this.selectableLevelList=a(this.levelList);for(var t=1;t<this.levelList.length;t++)this.levelList[t]._validateWithParentLevel(this.levelList[t-1]);this._tileSearcher=new n(this),this._neighborsCache=new r(64),this._vec=h.create(),this._viewSize={}}return S.prototype.rotX=function(){return f[this.face].x},S.prototype.rotY=function(){return f[this.face].y},S.prototype.centerX=function(){return(this.x+.5)/this._level.numHorizontalTiles()-.5},S.prototype.centerY=function(){return.5-(this.y+.5)/this._level.numVerticalTiles()},S.prototype.scaleX=function(){return 1/this._level.numHorizontalTiles()},S.prototype.scaleY=function(){return 1/this._level.numVerticalTiles()},S.prototype.vertices=function(e){e||(e=[c.create(),c.create(),c.create(),c.create()]);var t=f[this.face];function n(e,n,r){c.set(e,n,r,-.5),m(e,0,t.x,t.y)}var r=this.centerX()-this.scaleX()/2,i=this.centerX()+this.scaleX()/2,o=this.centerY()-this.scaleY()/2,a=this.centerY()+this.scaleY()/2;return n(e[0],r,a),n(e[1],i,a),n(e[2],i,o),n(e[3],r,o),e},S.prototype.parent=function(){if(0===this.z)return null;var e=this.face,t=this.z,n=this.x,r=this.y,i=this._geometry,o=i.levelList[t],a=i.levelList[t-1];return new S(e,Math.floor(n/o.numHorizontalTiles()*a.numHorizontalTiles()),Math.floor(r/o.numVerticalTiles()*a.numVerticalTiles()),t-1,i)},S.prototype.children=function(e){if(this.z===this._geometry.levelList.length-1)return null;var t=this.face,n=this.z,r=this.x,i=this.y,o=this._geometry,a=o.levelList[n],s=o.levelList[n+1],l=s.numHorizontalTiles()/a.numHorizontalTiles(),u=s.numVerticalTiles()/a.numVerticalTiles();e=e||[];for(var c=0;c<l;c++)for(var h=0;h<u;h++){var p=l*r+c,f=u*i+h,d=n+1;e.push(new S(t,p,f,d,o))}return e},S.prototype.neighbors=function(){var e=this._geometry,t=e._neighborsCache,n=t.get(this);if(n)return n;for(var r=e._vec,i=this.face,o=this.x,a=this.y,l=this.z,u=this._level,h=u.numHorizontalTiles(),p=u.numVerticalTiles(),d=[],v=0;v<x.length;v++){var g=o+x[v][0],y=a+x[v][1],b=l,_=i;if(g<0||g>=h||y<0||y>=p){var E,k=this.centerX(),T=this.centerY();g<0?(c.set(r,-.5,T,-.5),_=w[i][0]):g>=h?(c.set(r,.5,T,-.5),_=w[i][1]):y<0?(c.set(r,k,.5,-.5),_=w[i][2]):y>=p&&(c.set(r,k,-.5,-.5),_=w[i][3]),m(r,0,(E=f[i]).x,E.y),m(r,0,-(E=f[_]).x,-E.y),g=s(Math.floor((.5+r[0])*h),0,h-1),y=s(Math.floor((.5-r[1])*p),0,p-1)}d.push(new S(_,g,y,b,e))}return t.set(this,d),d},S.prototype.hash=function(){return t(p.indexOf(this.face),this.z,this.y,this.x)},S.prototype.equals=function(e){return this._geometry===e._geometry&&this.face===e.face&&this.z===e.z&&this.y===e.y&&this.x===e.x},S.prototype.cmp=function(e){return l(this.z,e.z)||l(p.indexOf(this.face),p.indexOf(e.face))||l(this.y,e.y)||l(this.x,e.x)},S.prototype.str=function(){return"CubeTile("+tile.face+", "+tile.x+", "+tile.y+", "+tile.z+")"},e(E,i),E.prototype.width=function(){return this._size},E.prototype.height=function(){return this._size},E.prototype.tileWidth=function(){return this._tileSize},E.prototype.tileHeight=function(){return this._tileSize},E.prototype._validateWithParentLevel=function(e){var t=this.width(),n=this.height(),r=this.tileWidth(),i=this.tileHeight(),o=this.numHorizontalTiles(),a=this.numVerticalTiles(),s=e.width(),l=e.height(),u=e.tileWidth(),c=e.tileHeight(),h=e.numHorizontalTiles(),p=e.numVerticalTiles();if(t%s!==0)throw new Error("Level width must be multiple of parent level: "+t+" vs. "+s);if(n%l!==0)throw new Error("Level height must be multiple of parent level: "+n+" vs. "+l);if(o%h!==0)throw new Error("Number of horizontal tiles must be multiple of parent level: "+o+" ("+t+"/"+r+") vs. "+h+" ("+s+"/"+u+")");if(a%p!==0)throw new Error("Number of vertical tiles must be multiple of parent level: "+a+" ("+n+"/"+i+") vs. "+p+" ("+l+"/"+c+")")},k.prototype.maxTileSize=function(){for(var e=0,t=0;t<this.levelList.length;t++){var n=this.levelList[t];e=Math.max(e,n.tileWidth,n.tileHeight)}return e},k.prototype.levelTiles=function(e,t){var n=this.levelList.indexOf(e),r=e.numHorizontalTiles()-1,i=e.numVerticalTiles()-1;t=t||[];for(var o=0;o<6;o++)for(var a=p[o],s=0;s<=r;s++)for(var l=0;l<=i;l++)t.push(new S(a,s,l,n,this));return t},k.prototype._closestTile=function(e,t){var n=this._vec;h.set(n,0,0,1,1),h.transformMat4(n,n,e.inverseProjection());var r=1/0,i=null;for(var o in v){var a=v[o],l=1-c.dot(a,n);l<r&&(r=l,i=o)}for(var u=Math.max(Math.abs(n[0]),Math.abs(n[1]),Math.abs(n[2]))/.5,p=0;p<3;p++)n[p]=n[p]/u;var d=f[i];m(n,0,-d.x,-d.y);var g=this.levelList.indexOf(t),y=t.numHorizontalTiles(),b=t.numVerticalTiles();return new S(i,s(Math.floor((.5+n[0])*y),0,y-1),s(Math.floor((.5-n[1])*b),0,b-1),g,this)},k.prototype.visibleTiles=function(e,t,n){var r=this._viewSize,i=this._tileSearcher;if(n=n||[],e.size(r),0===r.width||0===r.height)return n;var o=this._closestTile(e,t);if(!i.search(e,o,n))throw new Error("Starting tile is not visible");return n},k.Tile=k.prototype.Tile=S,k.type=k.prototype.type="cube",S.type=S.prototype.type="cube",si=k}function So(){if(ci)return ui;ci=1;var e=xe(),t=po(),n=vo(),r=go(),i=yo(),o=_o().makeLevelList,a=_o().makeSelectableLevelList,s=oo(),l=fo(),u=bo(),c=wo(),h=_r.vec2,p=_r.vec4,f=[[0,1],[1,0],[0,-1],[-1,0]];function d(e,t,n,r){this.x=e,this.y=t,this.z=n,this._geometry=r,this._level=r.levelList[n]}function m(e){this.constructor.super_.call(this,e),this._width=e.width,this._height=e.height,this._tileWidth=e.tileWidth,this._tileHeight=e.tileHeight}function v(e){if("array"!==c(e))throw new Error("Level list must be an array");this.levelList=o(e,m),this.selectableLevelList=a(this.levelList);for(var t=1;t<this.levelList.length;t++)this.levelList[t]._validateWithParentLevel(this.levelList[t-1]);this._tileSearcher=new n(this),this._neighborsCache=new r(64),this._vec=p.create(),this._viewSize={}}return d.prototype.rotX=function(){return 0},d.prototype.rotY=function(){return 0},d.prototype.centerX=function(){var e=this._level.width(),t=this._level.tileWidth();return(this.x*t+.5*this.width())/e-.5},d.prototype.centerY=function(){var e=this._level.height(),t=this._level.tileHeight();return.5-(this.y*t+.5*this.height())/e},d.prototype.scaleX=function(){var e=this._level.width();return this.width()/e},d.prototype.scaleY=function(){var e=this._level.height();return this.height()/e},d.prototype.width=function(){var e=this._level.width(),t=this._level.tileWidth();return this.x===this._level.numHorizontalTiles()-1&&l(e,t)||t},d.prototype.height=function(){var e=this._level.height(),t=this._level.tileHeight();return this.y===this._level.numVerticalTiles()-1&&l(e,t)||t},d.prototype.levelWidth=function(){return this._level.width()},d.prototype.levelHeight=function(){return this._level.height()},d.prototype.vertices=function(e){e||(e=[h.create(),h.create(),h.create(),h.create()]);var t=this.centerX()-this.scaleX()/2,n=this.centerX()+this.scaleX()/2,r=this.centerY()-this.scaleY()/2,i=this.centerY()+this.scaleY()/2;return h.set(e[0],t,i),h.set(e[1],n,i),h.set(e[2],n,r),h.set(e[3],t,r),e},d.prototype.parent=function(){if(0===this.z)return null;var e=this._geometry,t=this.z-1;return new d(Math.floor(this.x/2),Math.floor(this.y/2),t,e)},d.prototype.children=function(e){if(this.z===this._geometry.levelList.length-1)return null;var t=this._geometry,n=this.z+1;return(e=e||[]).push(new d(2*this.x,2*this.y,n,t)),e.push(new d(2*this.x,2*this.y+1,n,t)),e.push(new d(2*this.x+1,2*this.y,n,t)),e.push(new d(2*this.x+1,2*this.y+1,n,t)),e},d.prototype.neighbors=function(){var e=this._geometry,t=e._neighborsCache,n=t.get(this);if(n)return n;for(var r=this.x,i=this.y,o=this.z,a=this._level,s=a.numHorizontalTiles()-1,l=a.numVerticalTiles()-1,u=[],c=0;c<f.length;c++){var h=r+f[c][0],p=i+f[c][1],m=o;0<=h&&h<=s&&0<=p&&p<=l&&u.push(new d(h,p,m,e))}return t.set(this,u),u},d.prototype.hash=function(){return t(this.z,this.y,this.x)},d.prototype.equals=function(e){return this._geometry===e._geometry&&this.z===e.z&&this.y===e.y&&this.x===e.x},d.prototype.cmp=function(e){return u(this.z,e.z)||u(this.y,e.y)||u(this.x,e.x)},d.prototype.str=function(){return"FlatTile("+tile.x+", "+tile.y+", "+tile.z+")"},e(m,i),m.prototype.width=function(){return this._width},m.prototype.height=function(){return this._height},m.prototype.tileWidth=function(){return this._tileWidth},m.prototype.tileHeight=function(){return this._tileHeight},m.prototype._validateWithParentLevel=function(e){var t=this.width(),n=this.height(),r=this.tileWidth(),i=this.tileHeight(),o=e.width(),a=e.height(),s=e.tileWidth(),l=e.tileHeight();return t%o!==0?new Error("Level width must be multiple of parent level: "+t+" vs. "+o):n%a!==0?new Error("Level height must be multiple of parent level: "+n+" vs. "+a):r%s!==0?new Error("Level tile width must be multiple of parent level: "+r+" vs. "+s):i%l!==0?new Error("Level tile height must be multiple of parent level: "+i+" vs. "+l):void 0},v.prototype.maxTileSize=function(){for(var e=0,t=0;t<this.levelList.length;t++){var n=this.levelList[t];e=Math.max(e,n.tileWidth,n.tileHeight)}return e},v.prototype.levelTiles=function(e,t){var n=this.levelList.indexOf(e),r=e.numHorizontalTiles()-1,i=e.numVerticalTiles()-1;t||(t=[]);for(var o=0;o<=r;o++)for(var a=0;a<=i;a++)t.push(new d(o,a,n,this));return t},v.prototype._closestTile=function(e,t){var n=this._vec;p.set(n,0,0,1,1),p.transformMat4(n,n,e.inverseProjection());var r=.5+n[0],i=.5-n[1],o=this.levelList.indexOf(t),a=t.width(),l=t.height(),u=t.tileWidth(),c=t.tileHeight(),h=t.numHorizontalTiles(),f=t.numVerticalTiles();return new d(s(Math.floor(r*a/u),0,h-1),s(Math.floor(i*l/c),0,f-1),o,this)},v.prototype.visibleTiles=function(e,t,n){var r=this._viewSize,i=this._tileSearcher;if(n=n||[],e.size(r),0===r.width||0===r.height)return n;var o=this._closestTile(e,t);if(!i.search(e,o,n))throw new Error("Starting tile is not visible");return n},v.Tile=v.prototype.Tile=d,v.type=v.prototype.type="flat",d.type=d.prototype.type="flat",ui=v}function Eo(){if(pi)return hi;pi=1;var e=xe(),t=po(),n=bo(),r=_o(),i=yo(),o=wo();function a(e,t){this.z=e,this._geometry=t,this._level=t.levelList[e]}function s(e){this.constructor.super_.call(this,e),this._width=e.width}function l(e){if("array"!==o(e))throw new Error("Level list must be an array");this.levelList=r.makeLevelList(e,s),this.selectableLevelList=r.makeSelectableLevelList(this.levelList)}return a.prototype.rotX=function(){return 0},a.prototype.rotY=function(){return 0},a.prototype.centerX=function(){return.5},a.prototype.centerY=function(){return.5},a.prototype.scaleX=function(){return 1},a.prototype.scaleY=function(){return 1},a.prototype.parent=function(){return 0===this.z?null:new a(this.z-1,this._geometry)},a.prototype.children=function(e){return this.z===this._geometry.levelList.length-1?null:((e=e||[]).push(new a(this.z+1,this._geometry)),e)},a.prototype.neighbors=function(){return[]},a.prototype.hash=function(){return t(this.z)},a.prototype.equals=function(e){return this._geometry===e._geometry&&this.z===e.z},a.prototype.cmp=function(e){return n(this.z,e.z)},a.prototype.str=function(){return"EquirectTile("+tile.z+")"},e(s,i),s.prototype.width=function(){return this._width},s.prototype.height=function(){return this._width/2},s.prototype.tileWidth=function(){return this._width},s.prototype.tileHeight=function(){return this._width/2},l.prototype.maxTileSize=function(){for(var e=0,t=0;t<this.levelList.length;t++){var n=this.levelList[t];e=Math.max(e,n.tileWidth,n.tileHeight)}return e},l.prototype.levelTiles=function(e,t){var n=this.levelList.indexOf(e);return(t=t||[]).push(new a(n,this)),t},l.prototype.visibleTiles=function(e,t,n){var r=new a(this.levelList.indexOf(t),this);(n=n||[]).length=0,n.push(r)},l.Tile=l.prototype.Tile=a,l.type=l.prototype.type="equirect",a.type=a.prototype.type="equirect",hi=l}function ko(){if(di)return fi;function e(e,t,n){return 2*Math.atan(n*Math.tan(e/2)/t)}return di=1,fi={convert:e,htov:function(t,n,r){return e(t,n,r)},htod:function(t,n,r){return e(t,n,Math.sqrt(n*n+r*r))},vtoh:function(t,n,r){return e(t,r,n)},vtod:function(t,n,r){return e(t,r,Math.sqrt(n*n+r*r))},dtoh:function(t,n,r){return e(t,Math.sqrt(n*n+r*r),n)},dtov:function(t,n,r){return e(t,Math.sqrt(n*n+r*r),r)}},fi}function To(){if(vi)return mi;return vi=1,mi=function(e){return"number"==typeof e&&isFinite(e)}}function Lo(){if(yi)return gi;return yi=1,gi=function(e){return e.toPrecision(15)}}function Co(){if(_i)return bi;return _i=1,bi=function(){var e=arguments;return function(t){for(var n=t,r=0;r<e.length;r++){n=e[r].call(null,n)}return n}},bi}function Mo(){if(xi)return wi;xi=1;var e=he(),t=_r.mat4,n=_r.vec4,r=Fe(),i=ko(),o=fo(),a=To(),s=oo(),l=Lo(),u=Co(),c=ye(),h=Math.PI/4,p=1e-6;function f(e,r){this._yaw=e&&null!=e.yaw?e.yaw:0,this._pitch=e&&null!=e.pitch?e.pitch:0,this._roll=e&&null!=e.roll?e.roll:0,this._fov=e&&null!=e.fov?e.fov:h,this._width=e&&null!=e.width?e.width:0,this._height=e&&null!=e.height?e.height:0,this._projectionCenterX=e&&null!=e.projectionCenterX?e.projectionCenterX:0,this._projectionCenterY=e&&null!=e.projectionCenterY?e.projectionCenterY:0,this._limiter=r||null,this._projMatrix=t.create(),this._invProjMatrix=t.create(),this._frustum=[n.create(),n.create(),n.create(),n.create(),n.create()],this._projectionChanged=!0,this._params={},this._fovs={},this._tmpVec=n.create(),this._update()}return e(f),f.prototype.destroy=function(){c(this)},f.prototype.yaw=function(){return this._yaw},f.prototype.pitch=function(){return this._pitch},f.prototype.roll=function(){return this._roll},f.prototype.projectionCenterX=function(){return this._projectionCenterX},f.prototype.projectionCenterY=function(){return this._projectionCenterY},f.prototype.fov=function(){return this._fov},f.prototype.width=function(){return this._width},f.prototype.height=function(){return this._height},f.prototype.size=function(e){return(e=e||{}).width=this._width,e.height=this._height,e},f.prototype.parameters=function(e){return(e=e||{}).yaw=this._yaw,e.pitch=this._pitch,e.roll=this._roll,e.fov=this._fov,e},f.prototype.limiter=function(){return this._limiter},f.prototype.setYaw=function(e){this._resetParams(),this._params.yaw=e,this._update(this._params)},f.prototype.setPitch=function(e){this._resetParams(),this._params.pitch=e,this._update(this._params)},f.prototype.setRoll=function(e){this._resetParams(),this._params.roll=e,this._update(this._params)},f.prototype.setFov=function(e){this._resetParams(),this._params.fov=e,this._update(this._params)},f.prototype.setProjectionCenterX=function(e){this._resetParams(),this._params.projectionCenterX=e,this._update(this._params)},f.prototype.setProjectionCenterY=function(e){this._resetParams(),this._params.projectionCenterY=e,this._update(this._params)},f.prototype.offsetYaw=function(e){this.setYaw(this._yaw+e)},f.prototype.offsetPitch=function(e){this.setPitch(this._pitch+e)},f.prototype.offsetRoll=function(e){this.setRoll(this._roll+e)},f.prototype.offsetFov=function(e){this.setFov(this._fov+e)},f.prototype.setSize=function(e){this._resetParams(),this._params.width=e.width,this._params.height=e.height,this._update(this._params)},f.prototype.setParameters=function(e){this._resetParams(),this._params.yaw=e.yaw,this._params.pitch=e.pitch,this._params.roll=e.roll,this._params.fov=e.fov,this._params.projectionCenterX=e.projectionCenterX,this._params.projectionCenterY=e.projectionCenterY,this._update(this._params)},f.prototype.setLimiter=function(e){this._limiter=e||null,this._update()},f.prototype._resetParams=function(){var e=this._params;e.yaw=null,e.pitch=null,e.roll=null,e.fov=null,e.width=null,e.height=null},f.prototype._update=function(e){null==e&&(this._resetParams(),e=this._params);var t=this._yaw,n=this._pitch,r=this._roll,i=this._fov,o=this._projectionCenterX,s=this._projectionCenterY,l=this._width,u=this._height;if(e.yaw=null!=e.yaw?e.yaw:t,e.pitch=null!=e.pitch?e.pitch:n,e.roll=null!=e.roll?e.roll:r,e.fov=null!=e.fov?e.fov:i,e.width=null!=e.width?e.width:l,e.height=null!=e.height?e.height:u,e.projectionCenterX=null!=e.projectionCenterX?e.projectionCenterX:o,e.projectionCenterY=null!=e.projectionCenterY?e.projectionCenterY:s,this._limiter&&!(e=this._limiter(e)))throw new Error("Bad view limiter");var c=(e=this._normalize(e)).yaw,h=e.pitch,p=e.roll,f=e.fov,d=e.width,m=e.height,v=e.projectionCenterX,g=e.projectionCenterY;if(!(a(c)&&a(h)&&a(p)&&a(f)&&a(d)&&a(m)&&a(v)&&a(g)))throw new Error("Bad view - suspect a broken limiter");this._yaw=c,this._pitch=h,this._roll=p,this._fov=f,this._width=d,this._height=m,this._projectionCenterX=v,this._projectionCenterY=g,(c!==t||h!==n||p!==r||f!==i||d!==l||m!==u||v!==o||g!==s)&&(this._projectionChanged=!0,this.emit("change")),(d!==l||m!==u)&&this.emit("resize")},f.prototype._normalize=function(e){this._normalizeCoordinates(e);var t=i.htov(Math.PI,e.width,e.height),n=isNaN(t)?Math.PI:Math.min(Math.PI,t);return e.fov=s(e.fov,p,n-p),e},f.prototype._normalizeCoordinates=function(e){return"yaw"in e&&(e.yaw=o(e.yaw-Math.PI,-2*Math.PI)+Math.PI),"pitch"in e&&(e.pitch=o(e.pitch-Math.PI,-2*Math.PI)+Math.PI),"roll"in e&&(e.roll=o(e.roll-Math.PI,-2*Math.PI)+Math.PI),e},f.prototype.normalizeToClosest=function(e,t){var n=this._yaw,r=this._pitch,i=e.yaw,o=e.pitch,a=i-2*Math.PI,s=i+2*Math.PI;Math.abs(a-n)<Math.abs(i-n)?i=a:Math.abs(s-n)<Math.abs(i-n)&&(i=s);var l=o-2*Math.PI,u=o+2*Math.PI;return Math.abs(l-r)<Math.abs(o-r)?o=l:Math.abs(l-r)<Math.abs(o-r)&&(o=u),(t=t||{}).yaw=i,t.pitch=o,t},f.prototype.updateWithControlParameters=function(e){var t=this._fov,n=i.vtoh(t,this._width,this._height);isNaN(n)&&(n=t),this.offsetYaw(e.axisScaledX*n+2*e.x*n+e.yaw),this.offsetPitch(e.axisScaledY*t+2*e.y*n+e.pitch),this.offsetRoll(-e.roll),this.offsetFov(e.zoom*t)},f.prototype._updateProjection=function(){var e=this._projMatrix,n=this._invProjMatrix,r=this._frustum;if(this._projectionChanged){var o=this._width,a=this._height,s=this._fov,l=i.vtoh(s,o,a),u=o/a,c=this._projectionCenterX,h=this._projectionCenterY;if(0!==c||0!==h){var p=Math.atan(2*c*Math.tan(l/2)),f=Math.atan(2*h*Math.tan(s/2)),d=this._fovs;d.leftDegrees=180*(l/2+p)/Math.PI,d.rightDegrees=180*(l/2-p)/Math.PI,d.upDegrees=180*(s/2+f)/Math.PI,d.downDegrees=180*(s/2-f)/Math.PI,t.perspectiveFromFieldOfView(e,d,-1,1)}else t.perspective(e,s,u,-1,1);t.rotateZ(e,e,this._roll),t.rotateX(e,e,this._pitch),t.rotateY(e,e,this._yaw),t.invert(n,e),this._matrixToFrustum(e,r),this._projectionChanged=!1}},f.prototype._matrixToFrustum=function(e,t){n.set(t[0],e[3]+e[0],e[7]+e[4],e[11]+e[8],0),n.set(t[1],e[3]-e[0],e[7]-e[4],e[11]-e[8],0),n.set(t[2],e[3]+e[1],e[7]+e[5],e[11]+e[9],0),n.set(t[3],e[3]-e[1],e[7]-e[5],e[11]-e[9],0),n.set(t[4],e[3]+e[2],e[7]+e[6],e[11]+e[10],0)},f.prototype.projection=function(){return this._updateProjection(),this._projMatrix},f.prototype.inverseProjection=function(){return this._updateProjection(),this._invProjMatrix},f.prototype.intersects=function(e){this._updateProjection();for(var t=this._frustum,r=this._tmpVec,i=0;i<t.length;i++){for(var o=t[i],a=!1,s=0;s<e.length;s++){var l=e[s];n.set(r,l[0],l[1],l[2],0),n.dot(o,r)>=0&&(a=!0)}if(!a)return!1}return!0},f.prototype.selectLevel=function(e){for(var t=r()*this._height,n=Math.tan(.5*this._fov),i=0;i<e.length;i++){var o=e[i];if(n*o.height()>=t)return o}return e[e.length-1]},f.prototype.coordinatesToScreen=function(e,t){var r=this._tmpVec;t||(t={});var i=this._width,o=this._height;if(i<=0||o<=0)return t.x=null,t.y=null,null;var a=e.yaw,s=e.pitch,l=Math.sin(a)*Math.cos(s),u=-Math.sin(s),c=-Math.cos(a)*Math.cos(s);return n.set(r,l,u,c,1),n.transformMat4(r,r,this.projection()),r[3]>=0?(t.x=i*(r[0]/r[3]+1)/2,t.y=o*(1-r[1]/r[3])/2,t):(t.x=null,t.y=null,null)},f.prototype.screenToCoordinates=function(e,t){var r=this._tmpVec;t||(t={});var i=this._width,o=this._height,a=2*e.x/i-1,s=1-2*e.y/o;n.set(r,a,s,1,1),n.transformMat4(r,r,this.inverseProjection());var l=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);return t.yaw=Math.atan2(r[0],-r[2]),t.pitch=Math.acos(r[1]/l)-Math.PI/2,this._normalizeCoordinates(t),t},f.prototype.coordinatesToPerspectiveTransform=function(e,t,n){n=n||"";var r=this._height,i=this._width,o=this._fov,a=.5*r/Math.tan(o/2),s="";return s+="translateX("+l(i/2)+"px) ",s+="translateY("+l(r/2)+"px) ",s+="translateX(-50%) translateY(-50%) ",s+="perspective("+l(a)+"px) ",s+="translateZ("+l(a)+"px) ",s+="rotateZ("+l(-this._roll)+"rad) ",s+="rotateX("+l(-this._pitch)+"rad) ",s+="rotateY("+l(this._yaw)+"rad) ",s+="rotateY("+l(-e.yaw)+"rad) ",s+="rotateX("+l(e.pitch)+"rad) ",s+="translateZ("+l(-t)+"px) ",s+=n+" "},f.limit={yaw:function(e,t){return function(n){return n.yaw=s(n.yaw,e,t),n}},pitch:function(e,t){return function(n){return n.pitch=s(n.pitch,e,t),n}},roll:function(e,t){return function(n){return n.roll=s(n.roll,e,t),n}},hfov:function(e,t){return function(n){var r=n.width,o=n.height;if(r>0&&o>0){var a=i.htov(e,r,o),l=i.htov(t,r,o);n.fov=s(n.fov,a,l)}return n}},vfov:function(e,t){return function(n){return n.fov=s(n.fov,e,t),n}},resolution:function(e){return function(t){var n=t.height;if(n){var i=r()*n,o=2*Math.atan(i/e);t.fov=s(t.fov,o,1/0)}return t}},traditional:function(e,t,n){return n=n??t,u(f.limit.resolution(e),f.limit.vfov(0,t),f.limit.hfov(0,n),f.limit.pitch(-Math.PI/2,Math.PI/2))}},f.type=f.prototype.type="rectilinear",wi=f}function Ao(){if(Ei)return Si;Ei=1;var e=he(),t=_r.mat4,n=_r.vec4,r=Fe(),i=To(),o=oo(),a=ye(),s=[1,0,1,0],l=[-1,-1,1,1];function u(e,r){if(!e||null==e.mediaAspectRatio)throw new Error("mediaAspectRatio must be defined");this._x=e&&null!=e.x?e.x:.5,this._y=e&&null!=e.y?e.y:.5,this._zoom=e&&null!=e.zoom?e.zoom:1,this._mediaAspectRatio=e.mediaAspectRatio,this._width=e&&null!=e.width?e.width:0,this._height=e&&null!=e.height?e.height:0,this._limiter=r||null,this._projMatrix=t.create(),this._invProjMatrix=t.create(),this._frustum=[0,0,0,0],this._projectionChanged=!0,this._params={},this._vec=n.create(),this._update()}return e(u),u.prototype.destroy=function(){a(this)},u.prototype.x=function(){return this._x},u.prototype.y=function(){return this._y},u.prototype.zoom=function(){return this._zoom},u.prototype.mediaAspectRatio=function(){return this._mediaAspectRatio},u.prototype.width=function(){return this._width},u.prototype.height=function(){return this._height},u.prototype.size=function(e){return(e=e||{}).width=this._width,e.height=this._height,e},u.prototype.parameters=function(e){return(e=e||{}).x=this._x,e.y=this._y,e.zoom=this._zoom,e.mediaAspectRatio=this._mediaAspectRatio,e},u.prototype.limiter=function(){return this._limiter},u.prototype.setX=function(e){this._resetParams(),this._params.x=e,this._update(this._params)},u.prototype.setY=function(e){this._resetParams(),this._params.y=e,this._update(this._params)},u.prototype.setZoom=function(e){this._resetParams(),this._params.zoom=e,this._update(this._params)},u.prototype.offsetX=function(e){this.setX(this._x+e)},u.prototype.offsetY=function(e){this.setY(this._y+e)},u.prototype.offsetZoom=function(e){this.setZoom(this._zoom+e)},u.prototype.setMediaAspectRatio=function(e){this._resetParams(),this._params.mediaAspectRatio=e,this._update(this._params)},u.prototype.setSize=function(e){this._resetParams(),this._params.width=e.width,this._params.height=e.height,this._update(this._params)},u.prototype.setParameters=function(e){this._resetParams(),this._params.x=e.x,this._params.y=e.y,this._params.zoom=e.zoom,this._params.mediaAspectRatio=e.mediaAspectRatio,this._update(this._params)},u.prototype.setLimiter=function(e){this._limiter=e||null,this._update()},u.prototype._resetParams=function(){var e=this._params;e.x=null,e.y=null,e.zoom=null,e.mediaAspectRatio=null,e.width=null,e.height=null},u.prototype._update=function(e){null==e&&(this._resetParams(),e=this._params);var t=this._x,n=this._y,r=this._zoom,a=this._mediaAspectRatio,s=this._width,l=this._height;if(e.x=null!=e.x?e.x:t,e.y=null!=e.y?e.y:n,e.zoom=null!=e.zoom?e.zoom:r,e.mediaAspectRatio=null!=e.mediaAspectRatio?e.mediaAspectRatio:a,e.width=null!=e.width?e.width:s,e.height=null!=e.height?e.height:l,this._limiter&&!(e=this._limiter(e)))throw new Error("Bad view limiter");var u=e.x,c=e.y,h=e.zoom,p=e.mediaAspectRatio,f=e.width,d=e.height;if(!(i(u)&&i(c)&&i(h)&&i(p)&&i(f)&&i(d)))throw new Error("Bad view - suspect a broken limiter");h=o(h,1e-6,1/0),this._x=u,this._y=c,this._zoom=h,this._mediaAspectRatio=p,this._width=f,this._height=d,(u!==t||c!==n||h!==r||p!==a||f!==s||d!==l)&&(this._projectionChanged=!0,this.emit("change")),(f!==s||d!==l)&&this.emit("resize")},u.prototype._zoomX=function(){return this._zoom},u.prototype._zoomY=function(){var e=this._mediaAspectRatio,t=this._width/this._height,n=this._zoom,r=n*e/t;return isNaN(r)&&(r=n),r},u.prototype.updateWithControlParameters=function(e){var t=this.zoom(),n=this._zoomX(),r=this._zoomY();this.offsetX(e.axisScaledX*n+e.x*t),this.offsetY(e.axisScaledY*r+e.y*t),this.offsetZoom(e.zoom*t)},u.prototype._updateProjection=function(){var e=this._projMatrix,n=this._invProjMatrix,r=this._frustum;if(this._projectionChanged){var i=this._x,o=this._y,a=this._zoomX(),s=this._zoomY(),l=r[0]=.5-o+.5*s,u=r[1]=i-.5+.5*a,c=r[2]=.5-o-.5*s,h=r[3]=i-.5-.5*a;t.ortho(e,h,u,c,l,-1,1),t.invert(n,e),this._projectionChanged=!1}},u.prototype.projection=function(){return this._updateProjection(),this._projMatrix},u.prototype.inverseProjection=function(){return this._updateProjection(),this._invProjMatrix},u.prototype.intersects=function(e){this._updateProjection();for(var t=this._frustum,n=0;n<t.length;n++){for(var r=t[n],i=s[n],o=l[n],a=!1,u=0;u<e.length;u++){var c=e[u];if(o<0&&c[i]<r||o>0&&c[i]>r){a=!0;break}}if(!a)return!1}return!0},u.prototype.selectLevel=function(e){for(var t=r()*this.width(),n=this._zoom,i=0;i<e.length;i++){var o=e[i];if(n*o.width()>=t)return o}return e[e.length-1]},u.prototype.coordinatesToScreen=function(e,t){var r=this._vec;t||(t={});var i=this._width,o=this._height;if(i<=0||o<=0)return t.x=null,t.y=null,null;var a=e&&null!=e.x?e.x:.5,s=e&&null!=e.y?e.y:.5;n.set(r,a-.5,.5-s,-1,1),n.transformMat4(r,r,this.projection());for(var l=0;l<3;l++)r[l]/=r[3];return t.x=i*(r[0]+1)/2,t.y=o*(1-r[1])/2,t},u.prototype.screenToCoordinates=function(e,t){var r=this._vec;t||(t={});var i=this._width,o=this._height,a=2*e.x/i-1,s=1-2*e.y/o;return n.set(r,a,s,1,1),n.transformMat4(r,r,this.inverseProjection()),t.x=.5+r[0],t.y=.5-r[1],t},u.limit={x:function(e,t){return function(n){return n.x=o(n.x,e,t),n}},y:function(e,t){return function(n){return n.y=o(n.y,e,t),n}},zoom:function(e,t){return function(n){return n.zoom=o(n.zoom,e,t),n}},resolution:function(e){return function(t){if(t.width<=0||t.height<=0)return t;var n=t.width,i=r()*n/e;return t.zoom=o(t.zoom,i,1/0),t}},visibleX:function(e,t){return function(n){var r=t-e;n.zoom>r&&(n.zoom=r);var i=e+.5*n.zoom,a=t-.5*n.zoom;return n.x=o(n.x,i,a),n}},visibleY:function(e,t){return function(n){if(n.width<=0||n.height<=0)return n;var r=n.width/n.height/n.mediaAspectRatio,i=(t-e)*r;n.zoom>i&&(n.zoom=i);var a=e+.5*n.zoom/r,s=t-.5*n.zoom/r;return n.y=o(n.y,a,s),n}},letterbox:function(){return function(e){if(e.width<=0||e.height<=0)return e;var t,n,r,i,a=e.width/e.height,s=a/e.mediaAspectRatio;return e.mediaAspectRatio>=a&&(e.zoom=Math.min(e.zoom,1)),e.mediaAspectRatio<=a&&(e.zoom=Math.min(e.zoom,s)),e.zoom>1?t=n=.5:(t=0+.5*e.zoom/1,n=1-.5*e.zoom/1),e.zoom>s?r=i=.5:(r=0+.5*e.zoom/s,i=1-.5*e.zoom/s),e.x=o(e.x,t,n),e.y=o(e.y,r,i),e}}},u.type=u.prototype.type="flat",Si=u}function Ro(){if(Ci)return Li;return Ci=1,Li=function(){}}function Po(){if(Ai)return Mi;Ai=1;var e=Ro();return Mi=function(){var t=Array.prototype.slice.call(arguments,0);return function(){var n=t.slice(0),r=null,i=null,o=arguments.length?Array.prototype.slice.call(arguments,0,arguments.length-1):[],a=arguments.length?arguments[arguments.length-1]:e;return o.unshift(null),function e(){if(arguments[0])return r=i=null,void a.apply(null,arguments);if(!n.length)return r=i=null,void a.apply(null,arguments);var t=r=n.shift(),o=Array.prototype.slice.call(arguments,1);o.push(e);var s=r.apply(null,o);if(t===r){if("function"!=typeof s)throw new Error("chain: chaining on non-cancellable function");i=s}}.apply(null,o),function(){i&&i.apply(null,arguments)}}},Mi}function zo(){if(Pi)return Ri;return Pi=1,Ri=function(e,t){var n=null;return n=setTimeout(function(){null!=n&&(n=null,t(null))},e),function(){null!=n&&(clearTimeout(n),n=null,t.apply(null,arguments))}},Ri}function Io(){if(Ii)return zi;Ii=1;var e=he(),t=Se(),n=function(){if(Ti)return ki;Ti=1;var e=fe(),t=fo();function n(t){this._concurrency=t&&t.concurrency||1,this._paused=t&&!!t.paused||!1,this._pool=[];for(var n=0;n<this._concurrency;n++)this._pool.push(new e(t));this._next=0}return n.prototype.length=function(){for(var e=0,t=0;t<this._pool.length;t++)e+=this._pool[t].length();return e},n.prototype.push=function(e,n){var r=this._next,i=this._pool[r].push(e,n);return this._next=t(this._next+1,this._concurrency),i},n.prototype.pause=function(){if(!this._paused){this._paused=!0;for(var e=0;e<this._concurrency;e++)this._pool[e].pause()}},n.prototype.resume=function(){if(this._paused){this._paused=!1;for(var e=0;e<this._concurrency;e++)this._pool[e].resume()}},ki=n}(),r=Po(),i=zo(),o=pe(),a={x:"x",y:"y",z:"z",f:"face"};function s(e,t){t=t||{},this._loadPool=new n({concurrency:t.concurrency||4}),this._retryDelay=t.retryDelay||1e4,this._retryMap={},this._sourceFromTile=e}function l(e){return new RegExp("\\{("+e+")\\}","g")}return e(s),s.prototype.loadAsset=function(e,n,a){var s,l=this,u=this._retryDelay,c=this._retryMap,h=this._sourceFromTile(n),p=h.url,f=h.rect,d=e.loadImage.bind(e,p,f),m=c[p];if(null!=m){var v=o()-m;v<u?s=u-v:(s=0,delete c[p])}var g=i.bind(null,s);return r(g,function(e){return l._loadPool.push(d,function(r,i){r?(r instanceof t&&(c[p]=o(),l.emit("networkError",r,n)),e(r,n)):(delete c[p],e(null,n,i))})})(a)},s.fromString=function(e,t){var n=(t=t||{})&&t.cubeMapPreviewFaceOrder||"bdflru",r=t.cubeMapPreviewUrl?function(e){return 0===e.z?function(e){var r=n.indexOf(e.face)/6;return{url:t.cubeMapPreviewUrl,rect:{x:0,y:r,width:1,height:1/6}}}(e):i(e)}:i;return new s(r,t);function i(t){var n=e;for(var r in a){var i=a[r],o=l(r),s=t.hasOwnProperty(i)?t[i]:"";n=n.replace(o,s)}return{url:n}}},zi=s}function No(){if(Di)return Ni;function e(e){this._asset=e}return Di=1,e.prototype.asset=function(){return this._asset},e.prototype.loadAsset=function(e,t,n){var r=this,i=setTimeout(function(){n(null,t,r._asset)},0);return function(){clearTimeout(i),n.apply(null,arguments)}},Ni=e}function Do(){if(Fi)return Oi;Fi=1;var e=we(),t=xe(),n=he(),r=ye();function i(e){this.constructor.super_.call(this,e),this._timestamp=0}return t(i,e),n(i),i.prototype.destroy=function(){r(this)},i.prototype.timestamp=function(){return this._timestamp},i.prototype.isDynamic=function(){return!0},i.prototype.markDirty=function(){this._timestamp++,this.emit("change")},Oi=i}function Oo(){if($i)return Ui;return $i=1,Ui=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},Ui}function Fo(){if(Wi)return qi;Wi=1;var e=Ro();return qi=function(t){return function(){var n=arguments.length?Array.prototype.slice.call(arguments,0,arguments.length-1):[],r=arguments.length?arguments[arguments.length-1]:e,i=null,o=!1;function a(){!arguments[0]||o?r.apply(null,arguments):i=t.apply(null,n)}return n.push(a),a(!0),function(){o=!0,i.apply(null,arguments)}}},qi}function Bo(){if(Xi)return Yi;Xi=1;var e=function(){if(Hi)return Bi;Hi=1;var e=fo();function t(e){if(null!=e&&(!isFinite(e)||Math.floor(e)!==e||e<1))throw new Error("Map: invalid capacity");this._capacity=e||64,this._keyBuckets=[],this._valBuckets=[];for(var t=0;t<this._capacity;t++)this._keyBuckets.push([]),this._valBuckets.push([]);this._size=0}return t.prototype.get=function(t){for(var n=e(t.hash(),this._capacity),r=this._keyBuckets[n],i=0;i<r.length;i++){var o=r[i];if(t.equals(o))return this._valBuckets[n][i]}return null},t.prototype.set=function(t,n){for(var r=e(t.hash(),this._capacity),i=this._keyBuckets[r],o=this._valBuckets[r],a=0;a<i.length;a++){var s=i[a];if(t.equals(s)){var l=o[a];return i[a]=t,o[a]=n,l}}return i.push(t),o.push(n),this._size++,null},t.prototype.del=function(t){for(var n=e(t.hash(),this._capacity),r=this._keyBuckets[n],i=this._valBuckets[n],o=0;o<r.length;o++){var a=r[o];if(t.equals(a)){for(var s=i[o],l=o;l<r.length-1;l++)r[l]=r[l+1],i[l]=i[l+1];return r.length=r.length-1,i.length=i.length-1,this._size--,s}}return null},t.prototype.has=function(t){for(var n=e(t.hash(),this._capacity),r=this._keyBuckets[n],i=0;i<r.length;i++){var o=r[i];if(t.equals(o))return!0}return!1},t.prototype.size=function(){return this._size},t.prototype.clear=function(){for(var e=0;e<this._capacity;e++)this._keyBuckets[e].length=0,this._valBuckets[e].length=0;this._size=0},t.prototype.forEach=function(e){for(var t=0,n=0;n<this._capacity;n++)for(var r=this._keyBuckets[n],i=this._valBuckets[n],o=0;o<r.length;o++)e(r[o],i[o]),t+=1;return t},Bi=t}(),t=mo(),n=function(){if(ji)return Vi;ji=1;var e=fo();function t(e){if(!isFinite(e)||Math.floor(e)!==e||e<0)throw new Error("LruSet: invalid capacity");this._capacity=e,this._elements=new Array(this._capacity),this._start=0,this._size=0}return t.prototype._index=function(t){return e(this._start+t,this._capacity)},t.prototype.add=function(e){if(0===this._capacity)return e;this.remove(e);var t=this._size===this._capacity?this._elements[this._index(0)]:null;return this._elements[this._index(this._size)]=e,this._size<this._capacity?this._size++:this._start=this._index(1),t},t.prototype.remove=function(e){for(var t=0;t<this._size;t++){var n=this._elements[this._index(t)];if(e.equals(n)){for(var r=t;r<this._size-1;r++)this._elements[this._index(r)]=this._elements[this._index(r+1)];return this._size--,n}}return null},t.prototype.has=function(e){for(var t=0;t<this._size;t++)if(e.equals(this._elements[this._index(t)]))return!0;return!1},t.prototype.size=function(){return this._size},t.prototype.clear=function(){this._elements.length=0,this._start=0,this._size=0},t.prototype.forEach=function(e){for(var t=0,n=0;n<this._size;n++)e(this._elements[this._index(n)]),t+=1;return t},Vi=t}(),r=he(),i=Oo(),o=Fo(),a=Po(),s=xe(),l=ye(),u=typeof MARZIPANODEBUG<"u"&&MARZIPANODEBUG.textureStore,c=0,h=1,p=2,f=3,d={previouslyVisibleCacheSize:512},m=0;function v(){}function g(e,t){var n=this,r=m++;n._id=r,n._store=e,n._tile=t,n._asset=null,n._texture=null,n._changeHandler=function(){e.emit("textureInvalid",t)};var i=e.source(),s=e.stage(),l=i.loadAsset.bind(i),c=s.createTexture.bind(s),h=a(o(l),c);e.emit("textureStartLoad",t),u&&console.log("loading",r,t),n._cancel=h(s,t,function(i,o,a,s){if(n._cancel=null,i)return a&&a.destroy(),s&&s.destroy(),void(i instanceof v?(e.emit("textureCancel",t),u&&console.log("cancel",r,t)):(e.emit("textureError",t,i),u&&console.log("error",r,t)));n._texture=s,a.isDynamic()?(n._asset=a,a.addEventListener("change",n._changeHandler)):a.destroy(),e.emit("textureLoad",t),u&&console.log("load",r,t)})}function y(r,o,a){a=i(a||{},d),this._source=r,this._stage=o,this._state=c,this._delimCount=0,this._itemMap=new e,this._visible=new t,this._previouslyVisible=new n(a.previouslyVisibleCacheSize),this._pinMap=new e,this._newVisible=new t,this._noLongerVisible=[],this._visibleAgain=[],this._evicted=[]}return s(v,Error),g.prototype.asset=function(){return this._asset},g.prototype.texture=function(){return this._texture},g.prototype.destroy=function(){var e=this._id,t=this._store,n=this._tile,r=this._asset,i=this._texture,o=this._cancel;o?o(new v):(r&&(r.removeEventListener("change",this._changeHandler),r.destroy()),i&&i.destroy(),t.emit("textureUnload",n),u&&console.log("unload",e,n),l(this))},r(g),r(y),y.prototype.destroy=function(){this.clear(),l(this)},y.prototype.stage=function(){return this._stage},y.prototype.source=function(){return this._source},y.prototype.clear=function(){var e=this;e._evicted.length=0,e._itemMap.forEach(function(t){e._evicted.push(t)}),e._evicted.forEach(function(t){e._unloadTile(t)}),e._itemMap.clear(),e._visible.clear(),e._previouslyVisible.clear(),e._pinMap.clear(),e._newVisible.clear(),e._noLongerVisible.length=0,e._visibleAgain.length=0,e._evicted.length=0},y.prototype.clearNotPinned=function(){var e=this;e._evicted.length=0,e._itemMap.forEach(function(t){e._pinMap.has(t)||e._evicted.push(t)}),e._evicted.forEach(function(t){e._unloadTile(t)}),e._visible.clear(),e._previouslyVisible.clear(),e._evicted.length=0},y.prototype.startFrame=function(){if(this._state!==c&&this._state!==h)throw new Error("TextureStore: startFrame called out of sequence");this._state=h,this._delimCount++},y.prototype.markTile=function(e){if(this._state!==h&&this._state!==p)throw new Error("TextureStore: markTile called out of sequence");this._state=p;var t=this._itemMap.get(e),n=t&&t.texture(),r=t&&t.asset();n&&r&&n.refresh(e,r),this._newVisible.add(e)},y.prototype.endFrame=function(){if(this._state!==h&&this._state!==p&&this._state!==f)throw new Error("TextureStore: endFrame called out of sequence");this._state=f,this._delimCount--,this._delimCount||(this._update(),this._state=c)},y.prototype._update=function(){var e=this;e._noLongerVisible.length=0,e._visible.forEach(function(t){e._newVisible.has(t)||e._noLongerVisible.push(t)}),e._visibleAgain.length=0,e._newVisible.forEach(function(t){e._previouslyVisible.has(t)&&e._visibleAgain.push(t)}),e._visibleAgain.forEach(function(t){e._previouslyVisible.remove(t)}),e._evicted.length=0,e._noLongerVisible.forEach(function(t){var n=e._itemMap.get(t);if(n&&n.texture()){var r=e._previouslyVisible.add(t);null!=r&&e._evicted.push(r)}else n&&e._unloadTile(t)}),e._evicted.forEach(function(t){e._pinMap.has(t)||e._unloadTile(t)}),e._newVisible.forEach(function(t){e._itemMap.get(t)||e._loadTile(t)});var t=e._visible;e._visible=e._newVisible,e._newVisible=t,e._newVisible.clear(),e._noLongerVisible.length=0,e._visibleAgain.length=0,e._evicted.length=0},y.prototype._loadTile=function(e){if(this._itemMap.has(e))throw new Error("TextureStore: loading texture already in cache");var t=new g(this,e);this._itemMap.set(e,t)},y.prototype._unloadTile=function(e){var t=this._itemMap.del(e);if(!t)throw new Error("TextureStore: unloading texture not in cache");t.destroy()},y.prototype.asset=function(e){var t=this._itemMap.get(e);return t?t.asset():null},y.prototype.texture=function(e){var t=this._itemMap.get(e);return t?t.texture():null},y.prototype.pin=function(e){var t=(this._pinMap.get(e)||0)+1;return this._pinMap.set(e,t),this._itemMap.has(e)||this._loadTile(e),t},y.prototype.unpin=function(e){var t=this._pinMap.get(e);if(!t)throw new Error("TextureStore: unpin when not pinned");return--t>0?this._pinMap.set(e,t):(this._pinMap.del(e),!this._visible.has(e)&&!this._previouslyVisible.has(e)&&this._unloadTile(e)),t},y.prototype.query=function(e){var t=this._itemMap.get(e),n=this._pinMap.get(e)||0;return{visible:this._visible.has(e),previouslyVisible:this._previouslyVisible.has(e),hasAsset:null!=t&&null!=t.asset(),hasTexture:null!=t&&null!=t.texture(),pinned:0!==n,pinCount:n}},Yi=y}function Ho(){if(Qi)return Gi;return Qi=1,Gi=function(e,t){for(var n in t)e[n]=t[n];return e},Gi}function Vo(){if(Zi)return Ki;Zi=1;var e=he(),t=Ho(),n=ye();function r(e,t,n,r,i){i=i||{};var o=this;this._source=e,this._geometry=t,this._view=n,this._textureStore=r,this._effects=i.effects||{},this._fixedLevelIndex=null,this._viewChangeHandler=function(){o.emit("viewChange",o.view())},this._view.addEventListener("change",this._viewChangeHandler),this._textureStoreChangeHandler=function(){o.emit("textureStoreChange",o.textureStore())},this._textureStore.addEventListener("textureLoad",this._textureStoreChangeHandler),this._textureStore.addEventListener("textureError",this._textureStoreChangeHandler),this._textureStore.addEventListener("textureInvalid",this._textureStoreChangeHandler)}return e(r),r.prototype.destroy=function(){this._view.removeEventListener("change",this._viewChangeHandler),this._textureStore.removeEventListener("textureLoad",this._textureStoreChangeHandler),this._textureStore.removeEventListener("textureError",this._textureStoreChangeHandler),this._textureStore.removeEventListener("textureInvalid",this._textureStoreChangeHandler),n(this)},r.prototype.source=function(){return this._source},r.prototype.geometry=function(){return this._geometry},r.prototype.view=function(){return this._view},r.prototype.textureStore=function(){return this._textureStore},r.prototype.effects=function(){return this._effects},r.prototype.setEffects=function(e){this._effects=e,this.emit("effectsChange",this._effects)},r.prototype.mergeEffects=function(e){t(this._effects,e),this.emit("effectsChange",this._effects)},r.prototype.fixedLevel=function(){return this._fixedLevelIndex},r.prototype.setFixedLevel=function(e){if(e!==this._fixedLevelIndex){if(null!=e&&(e>=this._geometry.levelList.length||e<0))throw new Error("Level index out of range: "+e);this._fixedLevelIndex=e,this.emit("fixedLevelChange",this._fixedLevelIndex)}},r.prototype._selectLevel=function(){return null!=this._fixedLevelIndex?this._geometry.levelList[this._fixedLevelIndex]:this._view.selectLevel(this._geometry.selectableLevelList)},r.prototype.visibleTiles=function(e){var t=this._selectLevel();return this._geometry.visibleTiles(this._view,t,e)},r.prototype.pinLevel=function(e){for(var t=this._geometry.levelList[e],n=this._geometry.levelTiles(t),r=0;r<n.length;r++)this._textureStore.pin(n[r])},r.prototype.unpinLevel=function(e){for(var t=this._geometry.levelList[e],n=this._geometry.levelTiles(t),r=0;r<n.length;r++)this._textureStore.unpin(n[r])},r.prototype.pinFirstLevel=function(){return this.pinLevel(0)},r.prototype.unpinFirstLevel=function(){return this.unpinLevel(0)},Ki=r}function jo(){if(eo)return Ji;eo=1;var e=he(),t=ye();function n(e){var t=this;this._stage=e,this._running=!1,this._rendering=!1,this._requestHandle=null,this._boundLoop=this._loop.bind(this),this._renderInvalidHandler=function(){t._rendering||t.renderOnNextFrame()},this._stage.addEventListener("renderInvalid",this._renderInvalidHandler)}return e(n),n.prototype.destroy=function(){this.stop(),this._stage.removeEventListener("renderInvalid",this._renderInvalidHandler),t(this)},n.prototype.stage=function(){return this._stage},n.prototype.start=function(){this._running=!0,this.renderOnNextFrame()},n.prototype.stop=function(){this._requestHandle&&(window.cancelAnimationFrame(this._requestHandle),this._requestHandle=null),this._running=!1},n.prototype.renderOnNextFrame=function(){this._running&&!this._requestHandle&&(this._requestHandle=window.requestAnimationFrame(this._boundLoop))},n.prototype._loop=function(){if(!this._running)throw new Error("Render loop running while in stopped state");this._requestHandle=null,this._rendering=!0,this.emit("beforeRender"),this._rendering=!1,this._stage.render(),this.emit("afterRender")},Ji=n}function Uo(){if(no)return to;function e(){this.velocity=null,this.friction=null,this.offset=null}return no=1,e.equals=function(e,t){return e.velocity===t.velocity&&e.friction===t.friction&&e.offset===t.offset},e.prototype.equals=function(t){return e.equals(this,t)},e.prototype.update=function(e,t){e.offset&&(this.offset=this.offset||0,this.offset+=e.offset);var n=this.offsetFromVelocity(t);n&&(this.offset=this.offset||0,this.offset+=n),this.velocity=e.velocity,this.friction=e.friction},e.prototype.reset=function(){this.velocity=null,this.friction=null,this.offset=null},e.prototype.velocityAfter=function(e){return this.velocity?this.friction?function(e,t){return e<0?Math.min(0,e+t):e>0?Math.max(0,e-t):0}(this.velocity,this.friction*e):this.velocity:null},e.prototype.offsetFromVelocity=function(e){e=Math.min(e,this.nullVelocityTime());var t=this.velocityAfter(e);return(this.velocity+t)/2*e},e.prototype.nullVelocityTime=function(){return null==this.velocity?0:this.velocity&&!this.friction?1/0:Math.abs(this.velocity/this.friction)},to=e}function $o(){if(io)return ro;io=1;var e=he(),t=Uo(),n=ye();function r(e,n,r,i,o){if(!e)throw new Error("KeyControlMethod: keyCode must be defined");if(!n)throw new Error("KeyControlMethod: parameter must be defined");if(!r)throw new Error("KeyControlMethod: velocity must be defined");if(!i)throw new Error("KeyControlMethod: friction must be defined");o=o||document,this._keyCode=e,this._parameter=n,this._velocity=r,this._friction=i,this._element=o,this._keydownHandler=this._handlePress.bind(this),this._keyupHandler=this._handleRelease.bind(this),this._blurHandler=this._handleBlur.bind(this),this._element.addEventListener("keydown",this._keydownHandler),this._element.addEventListener("keyup",this._keyupHandler),window.addEventListener("blur",this._blurHandler),this._dynamics=new t,this._pressing=!1}return e(r),r.prototype.destroy=function(){this._element.removeEventListener("keydown",this._keydownHandler),this._element.removeEventListener("keyup",this._keyupHandler),window.removeEventListener("blur",this._blurHandler),n(this)},r.prototype._handlePress=function(e){e.keyCode===this._keyCode&&(this._pressing=!0,this._dynamics.velocity=this._velocity,this._dynamics.friction=0,this.emit("parameterDynamics",this._parameter,this._dynamics),this.emit("active"))},r.prototype._handleRelease=function(e){e.keyCode===this._keyCode&&(this._pressing&&(this._dynamics.friction=this._friction,this.emit("parameterDynamics",this._parameter,this._dynamics),this.emit("inactive")),this._pressing=!1)},r.prototype._handleBlur=function(){this._dynamics.velocity=0,this.emit("parameterDynamics",this._parameter,this._dynamics),this.emit("inactive"),this._pressing=!1},ro=r}var qo,Wo,Yo,Xo,Go,Qo,Ko,Zo,Jo,ea,ta,na,ra,ia,oa,aa,sa,la,ua,ca,ha,pa,fa,da,ma,va,ga,ya,ba,_a,wa,xa,Sa,Ea,ka,Ta,La,Ca,Ma,Aa,Ra,Pa,za,Ia,Na,Da,Oa,Fa,Ba,Ha,Va,ja={exports:{}};function Ua(){return qo||(qo=1,function(e){!function(t,n,r,i){var o=["","webkit","moz","MS","ms","o"],a=n.createElement("div"),s=Math.round,l=Math.abs,u=Date.now;function c(e,t,n){return setTimeout(v(e,n),t)}function h(e,t,n){return!!Array.isArray(e)&&(p(e,n[t],n),!0)}function p(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==i)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function f(e,t,n){for(var r=Object.keys(t),o=0;o<r.length;)(!n||n&&e[r[o]]===i)&&(e[r[o]]=t[r[o]]),o++;return e}function d(e,t){return f(e,t,!0)}function m(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&f(r,n)}function v(e,t){return function(){return e.apply(t,arguments)}}function g(e,t){return"function"==typeof e?e.apply(t&&t[0]||i,t):e}function y(e,t){return e===i?t:e}function b(e,t,n){p(S(t),function(t){e.addEventListener(t,n,!1)})}function _(e,t,n){p(S(t),function(t){e.removeEventListener(t,n,!1)})}function w(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function x(e,t){return e.indexOf(t)>-1}function S(e){return e.trim().split(/\s+/g)}function E(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function k(e){return Array.prototype.slice.call(e,0)}function T(e,t,n){for(var r=[],i=[],o=0;o<e.length;){var a=e[o][t];E(i,a)<0&&r.push(e[o]),i[o]=a,o++}return r=r.sort(function(e,n){return e[t]>n[t]})}function L(e,t){for(var n,r,a=t[0].toUpperCase()+t.slice(1),s=0;s<o.length;){if((r=(n=o[s])?n+a:t)in e)return r;s++}return i}var C=1;function M(e){var t=e.ownerDocument;return t.defaultView||t.parentWindow}var A="ontouchstart"in t,R=L(t,"PointerEvent")!==i,P=A&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),z="touch",I="mouse",N=24,D=["x","y"],O=["clientX","clientY"];function F(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){g(e.options.enable,[e])&&n.handler(t)},this.init()}function B(e,t,n){var r=n.pointers.length,o=n.changedPointers.length,a=1&t&&r-o===0,s=12&t&&r-o===0;n.isFirst=!!a,n.isFinal=!!s,a&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,o=r.length;n.firstInput||(n.firstInput=H(t)),o>1&&!n.firstMultiple?n.firstMultiple=H(t):1===o&&(n.firstMultiple=!1);var a=n.firstInput,s=n.firstMultiple,c=s?s.center:a.center,h=t.center=V(r);t.timeStamp=u(),t.deltaTime=t.timeStamp-a.timeStamp,t.angle=$(c,h),t.distance=U(c,h),function(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},o=e.prevInput||{};(1===t.eventType||4===o.eventType)&&(i=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}(n,t),t.offsetDirection=j(t.deltaX,t.deltaY),t.scale=s?function(e,t){return U(t[0],t[1],O)/U(e[0],e[1],O)}(s.pointers,r):1,t.rotation=s?function(e,t){return $(t[1],t[0],O)-$(e[1],e[0],O)}(s.pointers,r):0,function(e,t){var n,r,o,a,s=e.lastInterval||t,u=t.timeStamp-s.timeStamp;if(8!=t.eventType&&(u>25||s.velocity===i)){var c=s.deltaX-t.deltaX,h=s.deltaY-t.deltaY,p=function(e,t,n){return{x:t/e||0,y:n/e||0}}(u,c,h);r=p.x,o=p.y,n=l(p.x)>l(p.y)?p.x:p.y,a=j(c,h),e.lastInterval=t}else n=s.velocity,r=s.velocityX,o=s.velocityY,a=s.direction;t.velocity=n,t.velocityX=r,t.velocityY=o,t.direction=a}(n,t);var p=e.element;w(t.srcEvent.target,p)&&(p=t.srcEvent.target),t.target=p}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function H(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:s(e.pointers[n].clientX),clientY:s(e.pointers[n].clientY)},n++;return{timeStamp:u(),pointers:t,center:V(t),deltaX:e.deltaX,deltaY:e.deltaY}}function V(e){var t=e.length;if(1===t)return{x:s(e[0].clientX),y:s(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:s(n/t),y:s(r/t)}}function j(e,t){return e===t?1:l(e)>=l(t)?e>0?2:4:t>0?8:16}function U(e,t,n){n||(n=D);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function $(e,t,n){n||(n=D);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}F.prototype={handler:function(){},init:function(){this.evEl&&b(this.element,this.evEl,this.domHandler),this.evTarget&&b(this.target,this.evTarget,this.domHandler),this.evWin&&b(M(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&_(this.element,this.evEl,this.domHandler),this.evTarget&&_(this.target,this.evTarget,this.domHandler),this.evWin&&_(M(this.element),this.evWin,this.domHandler)}};var q={mousedown:1,mousemove:2,mouseup:4},W="mousedown",Y="mousemove mouseup";function X(){this.evEl=W,this.evWin=Y,this.allow=!0,this.pressed=!1,F.apply(this,arguments)}m(X,F,{handler:function(e){var t=q[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&this.allow&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:I,srcEvent:e}))}});var G={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Q={2:z,3:"pen",4:I,5:"kinect"},K="pointerdown",Z="pointermove pointerup pointercancel";function J(){this.evEl=K,this.evWin=Z,F.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}t.MSPointerEvent&&(K="MSPointerDown",Z="MSPointerMove MSPointerUp MSPointerCancel"),m(J,F,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=G[r],o=Q[e.pointerType]||e.pointerType,a=o==z,s=E(t,e.pointerId,"pointerId");1&i&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):12&i&&(n=!0),!(s<0)&&(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var ee={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function te(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,F.apply(this,arguments)}function ne(e,t){var n=k(e.touches),r=k(e.changedTouches);return 12&t&&(n=T(n.concat(r),"identifier")),[n,r]}m(te,F,{handler:function(e){var t=ee[e.type];if(1===t&&(this.started=!0),this.started){var n=ne.call(this,e,t);12&t&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:z,srcEvent:e})}}});var re={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ie="touchstart touchmove touchend touchcancel";function oe(){this.evTarget=ie,this.targetIds={},F.apply(this,arguments)}function ae(e,t){var n=k(e.touches),r=this.targetIds;if(3&t&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=k(e.changedTouches),s=[],l=this.target;if(o=n.filter(function(e){return w(e.target,l)}),1===t)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),12&t&&delete r[a[i].identifier],i++;return s.length?[T(o.concat(s),"identifier"),s]:void 0}function se(){F.apply(this,arguments);var e=v(this.handler,this);this.touch=new oe(this.manager,e),this.mouse=new X(this.manager,e)}m(oe,F,{handler:function(e){var t=re[e.type],n=ae.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:z,srcEvent:e})}}),m(se,F,{handler:function(e,t,n){var r=n.pointerType==z,i=n.pointerType==I;if(r)this.mouse.allow=!1;else if(i&&!this.mouse.allow)return;12&t&&(this.mouse.allow=!0),this.callback(e,t,n)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var le=L(a.style,"touchAction"),ue=le!==i,ce="compute",he="auto",pe="manipulation",fe="none",de="pan-x",me="pan-y";function ve(e,t){this.manager=e,this.set(t)}ve.prototype={set:function(e){e==ce&&(e=this.compute()),ue&&(this.manager.element.style[le]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return p(this.manager.recognizers,function(t){g(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(e){if(x(e,fe))return fe;var t=x(e,de),n=x(e,me);return t&&n?de+" "+me:t||n?t?de:me:x(e,pe)?pe:he}(e.join(" "))},preventDefaults:function(e){if(!ue){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)return void t.preventDefault();var r=this.actions,i=x(r,fe),o=x(r,me),a=x(r,de);if(i||o&&6&n||a&&n&N)return this.preventSrc(t)}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var ge=16,ye=32;function be(e){this.id=C++,this.manager=null,this.options=d(e||{},this.defaults),this.options.enable=y(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function _e(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function we(e,t){var n=t.manager;return n?n.get(e):e}function xe(){be.apply(this,arguments)}function Se(){xe.apply(this,arguments),this.pX=null,this.pY=null}function Ee(){xe.apply(this,arguments)}function ke(){be.apply(this,arguments),this._timer=null,this._input=null}function Te(){xe.apply(this,arguments)}function Le(){xe.apply(this,arguments)}function Ce(){be.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Me(e,t){return(t=t||{}).recognizers=y(t.recognizers,Me.defaults.preset),new Ae(e,t)}be.prototype={defaults:{},set:function(e){return f(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(h(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=we(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return h(e,"dropRecognizeWith",this)||(e=we(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(h(e,"requireFailure",this))return this;var t=this.requireFail;return-1===E(t,e=we(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(h(e,"dropRequireFailure",this))return this;e=we(e,this);var t=E(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(r){t.manager.emit(t.options.event+(r?function(e){return e&ge?"cancel":8&e?"end":4&e?"move":2&e?"start":""}(n):""),e)}n<8&&r(!0),r(),n>=8&&r(!0)},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=ye},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=f({},e);if(!g(this.options.enable,[this,t]))return this.reset(),void(this.state=ye);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},m(xe,be,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=6&t,i=this.attrTest(e);return r&&(8&n||!i)?t|ge:r||i?4&n?8|t:2&t?4|t:2:ye}}),m(Se,xe,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push(me),e&N&&t.push(de),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,o=e.deltaX,a=e.deltaY;return i&t.direction||(6&t.direction?(i=0===o?1:o<0?2:4,n=o!=this.pX,r=Math.abs(e.deltaX)):(i=0===a?1:a<0?8:16,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return xe.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=_e(e.direction);t&&this.manager.emit(this.options.event+t,e),this._super.emit.call(this,e)}}),m(Ee,xe,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[fe]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(this._super.emit.call(this,e),1!==e.scale){var t=e.scale<1?"in":"out";this.manager.emit(this.options.event+t,e)}}}),m(ke,be,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[he]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||12&e.eventType&&!i)this.reset();else if(1&e.eventType)this.reset(),this._timer=c(function(){this.state=8,this.tryEmit()},t.time,this);else if(4&e.eventType)return 8;return ye},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=u(),this.manager.emit(this.options.event,this._input)))}}),m(Te,xe,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[fe]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),m(Le,xe,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:30,pointers:1},getTouchAction:function(){return Se.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.velocity:6&n?t=e.velocityX:n&N&&(t=e.velocityY),this._super.attrTest.call(this,e)&&n&e.direction&&e.distance>this.options.threshold&&l(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=_e(e.direction);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),m(Ce,be,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[pe]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=e.eventType)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||U(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=c(function(){this.state=8,this.tryEmit()},t.interval,this),2):8}return ye},failTimeout:function(){return this._timer=c(function(){this.state=ye},this.options.interval,this),ye},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Me.VERSION="2.0.4",Me.defaults={domEvents:!1,touchAction:ce,enable:!0,inputTarget:null,inputClass:null,preset:[[Te,{enable:!1}],[Ee,{enable:!1},["rotate"]],[Le,{direction:6}],[Se,{direction:6},["swipe"]],[Ce],[Ce,{event:"doubletap",taps:2},["tap"]],[ke]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Ae(e,t){t=t||{},this.options=d(t,Me.defaults),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.element=e,this.input=function(e){var t=e.options.inputClass;return new(t||(R?J:P?oe:A?se:X))(e,B)}(this),this.touchAction=new ve(this,this.options.touchAction),Re(this,!0),p(t.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function Re(e,t){var n=e.element;p(e.options.cssProps,function(e,r){n.style[L(n.style,r)]=t?e:""})}Ae.prototype={set:function(e){return f(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,r=this.recognizers,i=t.curRecognizer;(!i||i&&8&i.state)&&(i=t.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&14&n.state&&(i=t.curRecognizer=n),o++}},get:function(e){if(e instanceof be)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(h(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(h(e,"remove",this))return this;var t=this.recognizers;return e=this.get(e),t.splice(E(t,e),1),this.touchAction.update(),this},on:function(e,t){var n=this.handlers;return p(S(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this},off:function(e,t){var n=this.handlers;return p(S(e),function(e){t?n[e].splice(E(n[e],t),1):delete n[e]}),this},emit:function(e,t){this.options.domEvents&&function(e,t){var r=n.createEvent("Event");r.initEvent(e,!0,!0),r.gesture=t,t.target.dispatchEvent(r)}(e,t);var r=this.handlers[e]&&this.handlers[e].slice();if(r&&r.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<r.length;)r[i](t),i++}},destroy:function(){this.element&&Re(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},f(Me,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:ge,STATE_FAILED:ye,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:N,DIRECTION_ALL:30,Manager:Ae,Input:F,TouchAction:ve,TouchInput:oe,MouseInput:X,PointerEventInput:J,TouchMouseInput:se,SingleTouchInput:te,Recognizer:be,AttrRecognizer:xe,Tap:Ce,Pan:Se,Swipe:Le,Pinch:Ee,Rotate:Te,Press:ke,on:b,off:_,each:p,merge:d,extend:f,inherit:m,bindFn:v,prefixed:L}),e.exports?e.exports=Me:t.Hammer=Me}(window,document)}(ja)),ja.exports}function $a(){if(Yo)return Wo;Yo=1;var e=Ua(),t=1,n="MarzipanoHammerElementId";function r(e,r){return e[n]||(e[n]=t++),r+e[n]}function i(){this._managers={},this._refCount={}}function o(e,t,n,r){this._manager=t,this._element=n,this._type=r,this._hammerGestures=e,this._eventHandlers=[]}return i.prototype.get=function(e,t){var n=r(e,t);return this._managers[n]||(this._managers[n]=this._createManager(e,t),this._refCount[n]=0),this._refCount[n]++,new o(this,this._managers[n],e,t)},i.prototype._createManager=function(t,n){var r=new e.Manager(t);return"mouse"===n?r.add(new e.Pan({direction:e.DIRECTION_ALL,threshold:0})):("touch"===n||"pen"===n||"kinect"===n)&&(r.add(new e.Pan({direction:e.DIRECTION_ALL,threshold:20,pointers:1})),r.add(new e.Pinch)),r},i.prototype._releaseHandle=function(e,t){var n=r(e,t);this._refCount[n]&&(this._refCount[n]--,this._refCount[n]||(this._managers[n].destroy(),delete this._managers[n],delete this._refCount[n]))},o.prototype.on=function(e,t){var n=this._type,r=function(e){n===e.pointerType&&t(e)};this._eventHandlers.push({events:e,handler:r}),this._manager.on(e,r)},o.prototype.release=function(){for(var e=0;e<this._eventHandlers.length;e++){var t=this._eventHandlers[e];this._manager.off(t.events,t.handler)}this._hammerGestures._releaseHandle(this._element,this._type),this._manager=null,this._element=null,this._type=null,this._hammerGestures=null},o.prototype.manager=function(){return this._manager},Wo=new i}function qa(){if(Go)return Xo;function e(e,t,n,r){var i=Math.atan(t/e);r[0]=n*Math.cos(i),r[1]=n*Math.sin(i)}return Go=1,Xo={maxFriction:function(t,n,r,i,o){var a=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));e(n,r,t=Math.max(t,a/i),o),o[0]=Math.abs(o[0]),o[1]=Math.abs(o[1])},changeVectorNorm:e},Xo}function Wa(){if(Ko)return Qo;Ko=1;var e=he(),t=Uo(),n=$a(),r=Oo(),i=qa().maxFriction,o=ye(),a={friction:6,maxFrictionTime:.3,hammerEvent:"pan"},s=typeof MARZIPANODEBUG<"u"&&MARZIPANODEBUG.controls;function l(e,i,o){if(this._element=e,this._opts=r(o||{},a),this._startEvent=null,this._lastEvent=null,this._active=!1,this._dynamics={x:new t,y:new t},this._hammer=n.get(e,i),this._hammer.on("hammer.input",this._handleHammerEvent.bind(this)),"pan"!=this._opts.hammerEvent&&"pinch"!=this._opts.hammerEvent)throw new Error(this._opts.hammerEvent+" is not a hammerEvent managed in DragControlMethod");this._hammer.on(this._opts.hammerEvent+"start",this._handleStart.bind(this)),this._hammer.on(this._opts.hammerEvent+"move",this._handleMove.bind(this)),this._hammer.on(this._opts.hammerEvent+"end",this._handleEnd.bind(this)),this._hammer.on(this._opts.hammerEvent+"cancel",this._handleEnd.bind(this))}e(l),l.prototype.destroy=function(){this._hammer.release(),o(this)},l.prototype._handleHammerEvent=function(e){if(e.isFirst){if(s&&this._active)throw new Error("DragControlMethod active detected when already active");this._active=!0,this.emit("active")}if(e.isFinal){if(s&&!this._active)throw new Error("DragControlMethod inactive detected when already inactive");this._active=!1,this.emit("inactive")}},l.prototype._handleStart=function(e){e.preventDefault(),this._startEvent=e},l.prototype._handleMove=function(e){e.preventDefault(),this._startEvent&&(this._updateDynamicsMove(e),this.emit("parameterDynamics","axisScaledX",this._dynamics.x),this.emit("parameterDynamics","axisScaledY",this._dynamics.y))},l.prototype._handleEnd=function(e){e.preventDefault(),this._startEvent&&(this._updateDynamicsRelease(e),this.emit("parameterDynamics","axisScaledX",this._dynamics.x),this.emit("parameterDynamics","axisScaledY",this._dynamics.y)),this._startEvent=!1,this._lastEvent=!1},l.prototype._updateDynamicsMove=function(e){var t=e.deltaX,n=e.deltaY,r=this._lastEvent||this._startEvent;r&&(t-=r.deltaX,n-=r.deltaY);var i=this._element.getBoundingClientRect();t/=i.right-i.left,n/=i.bottom-i.top,this._dynamics.x.reset(),this._dynamics.y.reset(),this._dynamics.x.offset=-t,this._dynamics.y.offset=-n,this._lastEvent=e};var u=[null,null];return l.prototype._updateDynamicsRelease=function(e){var t=this._element.getBoundingClientRect(),n=t.right-t.left,r=t.bottom-t.top,o=1e3*e.velocityX/n,a=1e3*e.velocityY/r;this._dynamics.x.reset(),this._dynamics.y.reset(),this._dynamics.x.velocity=o,this._dynamics.y.velocity=a,i(this._opts.friction,this._dynamics.x.velocity,this._dynamics.y.velocity,this._opts.maxFrictionTime,u),this._dynamics.x.friction=u[0],this._dynamics.y.friction=u[1]},Qo=l}function Ya(){if(Jo)return Zo;Jo=1;var e=he(),t=Uo(),n=$a(),r=Oo(),i=qa().maxFriction,o=ye(),a={speed:8,friction:6,maxFrictionTime:.3};function s(e,i,o){this._element=e,this._opts=r(o||{},a),this._active=!1,this._hammer=n.get(e,i),this._dynamics={x:new t,y:new t},this._hammer.on("panstart",this._handleStart.bind(this)),this._hammer.on("panmove",this._handleMove.bind(this)),this._hammer.on("panend",this._handleRelease.bind(this)),this._hammer.on("pancancel",this._handleRelease.bind(this))}e(s),s.prototype.destroy=function(){this._hammer.release(),o(this)},s.prototype._handleStart=function(e){e.preventDefault(),this._active||(this._active=!0,this.emit("active"))},s.prototype._handleMove=function(e){e.preventDefault(),this._updateDynamics(e,!1)},s.prototype._handleRelease=function(e){e.preventDefault(),this._updateDynamics(e,!0),this._active&&(this._active=!1,this.emit("inactive"))};var l=[null,null];return s.prototype._updateDynamics=function(e,t){var n=this._element.getBoundingClientRect(),r=n.right-n.left,o=n.bottom-n.top,a=Math.max(r,o),s=e.deltaX/a*this._opts.speed,u=e.deltaY/a*this._opts.speed;this._dynamics.x.reset(),this._dynamics.y.reset(),this._dynamics.x.velocity=s,this._dynamics.y.velocity=u,t&&(i(this._opts.friction,this._dynamics.x.velocity,this._dynamics.y.velocity,this._opts.maxFrictionTime,l),this._dynamics.x.friction=l[0],this._dynamics.y.friction=l[1]),this.emit("parameterDynamics","x",this._dynamics.x),this.emit("parameterDynamics","y",this._dynamics.y)},Zo=s}function Xa(){if(ta)return ea;ta=1;var e=he(),t=Uo(),n=Oo(),r=ye(),i={frictionTime:.2,zoomDelta:.001};function o(e,r){this._element=e,this._opts=n(r||{},i),this._dynamics=new t,this._eventList=[];var o=this._opts.frictionTime?this.withSmoothing:this.withoutSmoothing;this._wheelListener=o.bind(this),e.addEventListener("wheel",this._wheelListener)}function a(e){var t=1==e.deltaMode?20:1;return e.deltaY*t}return e(o),o.prototype.destroy=function(){this._element.removeEventListener("wheel",this._wheelListener),r(this)},o.prototype.withoutSmoothing=function(e){this._dynamics.offset=a(e)*this._opts.zoomDelta,this.emit("parameterDynamics","zoom",this._dynamics),e.preventDefault(),this.emit("active"),this.emit("inactive")},o.prototype.withSmoothing=function(e){var t=e.timeStamp;for(this._eventList.push(e);this._eventList[0].timeStamp<t-1e3*this._opts.frictionTime;)this._eventList.shift(0);for(var n=0,r=0;r<this._eventList.length;r++){n+=a(this._eventList[r])*this._opts.zoomDelta/this._opts.frictionTime}this._dynamics.velocity=n,this._dynamics.friction=Math.abs(n)/this._opts.frictionTime,this.emit("parameterDynamics","zoom",this._dynamics),e.preventDefault(),this.emit("active"),this.emit("inactive")},ea=o}function Ga(){if(ra)return na;ra=1;var e=he(),t=Uo(),n=$a(),r=ye();function i(e,r,i){this._hammer=n.get(e,r),this._lastEvent=null,this._active=!1,this._dynamics=new t,this._hammer.on("pinchstart",this._handleStart.bind(this)),this._hammer.on("pinch",this._handleEvent.bind(this)),this._hammer.on("pinchend",this._handleEnd.bind(this)),this._hammer.on("pinchcancel",this._handleEnd.bind(this))}return e(i),i.prototype.destroy=function(){this._hammer.release(),r(this)},i.prototype._handleStart=function(){this._active||(this._active=!0,this.emit("active"))},i.prototype._handleEnd=function(){this._lastEvent=null,this._active&&(this._active=!1,this.emit("inactive"))},i.prototype._handleEvent=function(e){var t=e.scale;this._lastEvent&&(t/=this._lastEvent.scale),this._dynamics.offset=-1*(t-1),this.emit("parameterDynamics","zoom",this._dynamics),this._lastEvent=e},na=i}function Qa(){if(oa)return ia;oa=1;var e=he(),t=Uo(),n=ye();function r(e){if(!e)throw new Error("VelocityControlMethod: parameter must be defined");this._parameter=e,this._dynamics=new t}return e(r),r.prototype.destroy=function(){n(this)},r.prototype.setVelocity=function(e){this._dynamics.velocity=e,this.emit("parameterDynamics",this._parameter,this._dynamics)},r.prototype.setFriction=function(e){this._dynamics.friction=e,this.emit("parameterDynamics",this._parameter,this._dynamics)},ia=r}function Ka(){if(sa)return aa;sa=1;var e=he(),t=Uo(),n=ye();function r(e,n,r,i){if(!e)throw new Error("ElementPressControlMethod: element must be defined");if(!n)throw new Error("ElementPressControlMethod: parameter must be defined");if(!r)throw new Error("ElementPressControlMethod: velocity must be defined");if(!i)throw new Error("ElementPressControlMethod: friction must be defined");this._element=e,this._pressHandler=this._handlePress.bind(this),this._releaseHandler=this._handleRelease.bind(this),e.addEventListener("mousedown",this._pressHandler),e.addEventListener("mouseup",this._releaseHandler),e.addEventListener("mouseleave",this._releaseHandler),e.addEventListener("touchstart",this._pressHandler),e.addEventListener("touchmove",this._releaseHandler),e.addEventListener("touchend",this._releaseHandler),this._parameter=n,this._velocity=r,this._friction=i,this._dynamics=new t,this._pressing=!1}return e(r),r.prototype.destroy=function(){this._element.removeEventListener("mousedown",this._pressHandler),this._element.removeEventListener("mouseup",this._releaseHandler),this._element.removeEventListener("mouseleave",this._releaseHandler),this._element.removeEventListener("touchstart",this._pressHandler),this._element.removeEventListener("touchmove",this._releaseHandler),this._element.removeEventListener("touchend",this._releaseHandler),n(this)},r.prototype._handlePress=function(){this._pressing=!0,this._dynamics.velocity=this._velocity,this._dynamics.friction=0,this.emit("parameterDynamics",this._parameter,this._dynamics),this.emit("active")},r.prototype._handleRelease=function(){this._pressing&&(this._dynamics.friction=this._friction,this.emit("parameterDynamics",this._parameter,this._dynamics),this.emit("inactive")),this._pressing=!1},aa=r}function Za(){if(ha)return ca;ha=1;var e=he(),t=function(){if(ua)return la;ua=1;var e=he(),t=Uo(),n=pe(),r=ye();function i(e){e=e||{},this._methods=[],this._parameters=["x","y","axisScaledX","axisScaledY","zoom","yaw","pitch","roll"],this._now=e.nowForTesting||n,this._composedOffsets={},this._composeReturn={offsets:this._composedOffsets,changing:null}}return e(i),i.prototype.add=function(e){if(!this.has(e)){var n={};this._parameters.forEach(function(e){n[e]={dynamics:new t,time:null}});var r=this._updateDynamics.bind(this,n),i={instance:e,dynamics:n,parameterDynamicsHandler:r};e.addEventListener("parameterDynamics",r),this._methods.push(i)}},i.prototype.remove=function(e){var t=this._indexOfInstance(e);if(t>=0){var n=this._methods.splice(t,1)[0];n.instance.removeEventListener("parameterDynamics",n.parameterDynamicsHandler)}},i.prototype.has=function(e){return this._indexOfInstance(e)>=0},i.prototype._indexOfInstance=function(e){for(var t=0;t<this._methods.length;t++)if(this._methods[t].instance===e)return t;return-1},i.prototype.list=function(){for(var e=[],t=0;t<this._methods.length;t++)e.push(this._methods[t].instance);return e},i.prototype._updateDynamics=function(e,t,n){var r=e[t];if(!r)throw new Error("Unknown control parameter "+t);var i=this._now();r.dynamics.update(n,(i-r.time)/1e3),r.time=i,this.emit("change")},i.prototype._resetComposedOffsets=function(){for(var e=0;e<this._parameters.length;e++)this._composedOffsets[this._parameters[e]]=0},i.prototype.offsets=function(){var e,t=!1,n=this._now();this._resetComposedOffsets();for(var r=0;r<this._methods.length;r++)for(var i=this._methods[r].dynamics,o=0;o<this._parameters.length;o++){var a=i[e=this._parameters[o]],s=a.dynamics;null!=s.offset&&(this._composedOffsets[e]+=s.offset,s.offset=null);var l=(n-a.time)/1e3,u=s.offsetFromVelocity(l);u&&(this._composedOffsets[e]+=u);var c=s.velocityAfter(l);s.velocity=c,c&&(t=!0),a.time=n}return this._composeReturn.changing=t,this._composeReturn},i.prototype.destroy=function(){for(var e=this.list(),t=0;t<e.length;t++)this.remove(e[t]);r(this)},la=i}(),n=ye(),r=typeof MARZIPANODEBUG<"u"&&MARZIPANODEBUG.controls;function i(e){e=e||{},this._methods={},this._methodGroups={},this._composer=new t,this._enabled=!e||!e.enabled||!!e.enabled,this._activeCount=0,this.updatedViews_=[],this._attachedRenderLoop=null}return e(i),i.prototype.destroy=function(){this.detach(),this._composer.destroy(),n(this)},i.prototype.methods=function(){var e={};for(var t in this._methods)e[t]=this._methods[t];return e},i.prototype.method=function(e){return this._methods[e]},i.prototype.registerMethod=function(e,t,n){if(this._methods[e])throw new Error("Control method already registered with id "+e);this._methods[e]={instance:t,enabled:!1,active:!1,activeHandler:this._handleActive.bind(this,e),inactiveHandler:this._handleInactive.bind(this,e)},n&&this.enableMethod(e,t)},i.prototype.unregisterMethod=function(e){var t=this._methods[e];if(!t)throw new Error("No control method registered with id "+e);t.enabled&&this.disableMethod(e),delete this._methods[e]},i.prototype.enableMethod=function(e){var t=this._methods[e];if(!t)throw new Error("No control method registered with id "+e);t.enabled||(t.enabled=!0,t.active&&this._incrementActiveCount(),this._listen(e),this._updateComposer(),this.emit("methodEnabled",e))},i.prototype.disableMethod=function(e){var t=this._methods[e];if(!t)throw new Error("No control method registered with id "+e);t.enabled&&(t.enabled=!1,t.active&&this._decrementActiveCount(),this._unlisten(e),this._updateComposer(),this.emit("methodDisabled",e))},i.prototype.addMethodGroup=function(e,t){this._methodGroups[e]=t},i.prototype.removeMethodGroup=function(e){delete this._methodGroups[e]},i.prototype.methodGroups=function(){var e={};for(var t in this._methodGroups)e[t]=this._methodGroups[t];return e},i.prototype.enableMethodGroup=function(e){var t=this;t._methodGroups[e].forEach(function(e){t.enableMethod(e)})},i.prototype.disableMethodGroup=function(e){var t=this;t._methodGroups[e].forEach(function(e){t.disableMethod(e)})},i.prototype.enabled=function(){return this._enabled},i.prototype.enable=function(){this._enabled||(this._enabled=!0,this._activeCount>0&&this.emit("active"),this.emit("enabled"),this._updateComposer())},i.prototype.disable=function(){this._enabled&&(this._enabled=!1,this._activeCount>0&&this.emit("inactive"),this.emit("disabled"),this._updateComposer())},i.prototype.attach=function(e){this._attachedRenderLoop&&this.detach(),this._attachedRenderLoop=e,this._beforeRenderHandler=this._updateViewsWithControls.bind(this),this._changeHandler=e.renderOnNextFrame.bind(e),this._attachedRenderLoop.addEventListener("beforeRender",this._beforeRenderHandler),this._composer.addEventListener("change",this._changeHandler)},i.prototype.detach=function(){this._attachedRenderLoop&&(this._attachedRenderLoop.removeEventListener("beforeRender",this._beforeRenderHandler),this._composer.removeEventListener("change",this._changeHandler),this._beforeRenderHandler=null,this._changeHandler=null,this._attachedRenderLoop=null)},i.prototype.attached=function(){return null!=this._attachedRenderLoop},i.prototype._listen=function(e){var t=this._methods[e];if(!t)throw new Error("Bad method id");t.instance.addEventListener("active",t.activeHandler),t.instance.addEventListener("inactive",t.inactiveHandler)},i.prototype._unlisten=function(e){var t=this._methods[e];if(!t)throw new Error("Bad method id");t.instance.removeEventListener("active",t.activeHandler),t.instance.removeEventListener("inactive",t.inactiveHandler)},i.prototype._handleActive=function(e){var t=this._methods[e];if(!t)throw new Error("Bad method id");if(!t.enabled)throw new Error("Should not receive event from disabled control method");t.active||(t.active=!0,this._incrementActiveCount())},i.prototype._handleInactive=function(e){var t=this._methods[e];if(!t)throw new Error("Bad method id");if(!t.enabled)throw new Error("Should not receive event from disabled control method");t.active&&(t.active=!1,this._decrementActiveCount())},i.prototype._incrementActiveCount=function(){this._activeCount++,r&&this._checkActiveCount(),this._enabled&&1===this._activeCount&&this.emit("active")},i.prototype._decrementActiveCount=function(){this._activeCount--,r&&this._checkActiveCount(),this._enabled&&0===this._activeCount&&this.emit("inactive")},i.prototype._checkActiveCount=function(){var e=0;for(var t in this._methods){var n=this._methods[t];n.enabled&&n.active&&e++}if(e!=this._activeCount)throw new Error("Bad control state")},i.prototype._updateComposer=function(){var e=this._composer;for(var t in this._methods){var n=this._methods[t],r=this._enabled&&n.enabled;r&&!e.has(n.instance)&&e.add(n.instance),!r&&e.has(n.instance)&&e.remove(n.instance)}},i.prototype._updateViewsWithControls=function(){var e=this._composer.offsets();e.changing&&this._attachedRenderLoop.renderOnNextFrame(),this.updatedViews_.length=0;for(var t=this._attachedRenderLoop.stage().listLayers(),n=0;n<t.length;n++){var r=t[n].view();this.updatedViews_.indexOf(r)<0&&(t[n].view().updateWithControlParameters(e.offsets),this.updatedViews_.push(r))}},ca=i}function Ja(){if(fa)return pa;fa=1;var e=Be().setTransform,t=Lo();return pa=function(n,r,i,o){o=o||"";var a="translateX("+t(r)+"px) translateY("+t(i)+"px) translateZ(0) "+o;e(n,a)},pa}function es(){if(ma)return da;ma=1;var e=he(),t=Ja(),n=Be().setTransform,r=ye();function i(e,t,n,r,i){(i=i||{}).perspective=i.perspective||{},i.perspective.extraTransforms=null!=i.perspective.extraTransforms?i.perspective.extraTransforms:"",this._domElement=e,this._parentDomElement=t,this._view=n,this._coords={},this._perspective={},this.setPosition(r),this._parentDomElement.appendChild(this._domElement),this.setPerspective(i.perspective),this._visible=!0,this._position={x:0,y:0}}return e(i),i.prototype.destroy=function(){this._parentDomElement.removeChild(this._domElement),r(this)},i.prototype.domElement=function(){return this._domElement},i.prototype.position=function(){return this._coords},i.prototype.setPosition=function(e){for(var t in e)this._coords[t]=e[t];this._update()},i.prototype.perspective=function(){return this._perspective},i.prototype.setPerspective=function(e){for(var t in e)this._perspective[t]=e[t];this._update()},i.prototype.show=function(){this._visible||(this._visible=!0,this._update())},i.prototype.hide=function(){this._visible&&(this._visible=!1,this._update())},i.prototype._update=function(){var e,t,n=this._domElement,r=this._coords,i=this._position,o=!1;if(this._visible){var a=this._view;this._perspective.radius?(o=!0,this._setEmbeddedPosition(a,r)):(a.coordinatesToScreen(r,i),e=i.x,t=i.y,null!=e&&null!=t&&(o=!0,this._setPosition(e,t)))}o?(n.style.display="block",n.style.position="absolute"):(n.style.display="none",n.style.position="")},i.prototype._setEmbeddedPosition=function(e,t){var r=e.coordinatesToPerspectiveTransform(t,this._perspective.radius,this._perspective.extraTransforms);n(this._domElement,r)},i.prototype._setPosition=function(e,n){t(this._domElement,e,n,this._perspective.extraTransforms)},da=i}function ts(){if(ga)return va;ga=1;var e=he(),t=es(),n=de(),r=Ja(),i=Be().setAbsolute,o=Be().setOverflowHidden,a=Be().setOverflowVisible,s=Be().setNullSize,l=Be().setPixelSize,u=Be().setWithVendorPrefix("pointer-events"),c=ye();function h(e,t,n,r,o){o=o||{},this._parentDomElement=e,this._stage=t,this._view=n,this._renderLoop=r,this._hotspots=[],this._visible=!0,this._rect=o.rect,this._visibilityOrRectChanged=!0,this._stageWidth=null,this._stageHeight=null,this._tmpRect={},this._hotspotContainerWrapper=document.createElement("div"),i(this._hotspotContainerWrapper),u(this._hotspotContainerWrapper,"none"),this._parentDomElement.appendChild(this._hotspotContainerWrapper),this._hotspotContainer=document.createElement("div"),i(this._hotspotContainer),u(this._hotspotContainer,"all"),this._hotspotContainerWrapper.appendChild(this._hotspotContainer),this._updateHandler=this._update.bind(this),this._renderLoop.addEventListener("afterRender",this._updateHandler)}return e(h),h.prototype.destroy=function(){for(;this._hotspots.length;)this.destroyHotspot(this._hotspots[0]);this._parentDomElement.removeChild(this._hotspotContainerWrapper),this._renderLoop.removeEventListener("afterRender",this._updateHandler),c(this)},h.prototype.domElement=function(){return this._hotspotContainer},h.prototype.setRect=function(e){this._rect=e,this._visibilityOrRectChanged=!0},h.prototype.rect=function(){return this._rect},h.prototype.createHotspot=function(e,n,r){n=n||{};var i=new t(e,this._hotspotContainer,this._view,n,r);return this._hotspots.push(i),i._update(),this.emit("hotspotsChange"),i},h.prototype.hasHotspot=function(e){return this._hotspots.indexOf(e)>=0},h.prototype.listHotspots=function(){return[].concat(this._hotspots)},h.prototype.destroyHotspot=function(e){var t=this._hotspots.indexOf(e);if(t<0)throw new Error("No such hotspot");this._hotspots.splice(t,1),e.destroy(),this.emit("hotspotsChange")},h.prototype.hide=function(){this._visible&&(this._visible=!1,this._visibilityOrRectChanged=!0,this._update())},h.prototype.show=function(){this._visible||(this._visible=!0,this._visibilityOrRectChanged=!0,this._update())},h.prototype._update=function(){var e=this._hotspotContainerWrapper,t=this._stage.width(),i=this._stage.height(),u=this._tmpRect;if(this._visibilityOrRectChanged||this._rect&&(t!==this._stageWidth||i!==this._stageHeight)){var c=this._visible;e.style.display=c?"block":"none",c&&(this._rect?(n(t,i,this._rect,u),r(e,t*u.x,i*u.y),l(e,t*u.width,i*u.height),o(e)):(r(e,0,0),s(e),a(e))),this._stageWidth=t,this._stageHeight=i,this._visibilityOrRectChanged=!1}for(var h=0;h<this._hotspots.length;h++)this._hotspots[h]._update()},va=h}function ns(){if(ba)return ya;ba=1;var e=Vo(),t=Bo(),n=ts(),r=he(),i=pe(),o=Ro(),a=wo(),s=Oo(),l=ye();function u(e,t){this._viewer=e,this._view=t,this._layers=[],this._hotspotContainer=new n(e._controlContainer,e.stage(),this._view,e.renderLoop()),this._movement=null,this._movementStartTime=null,this._movementStep=null,this._movementParams=null,this._movementCallback=null,this._updateMovementHandler=this._updateMovement.bind(this),this._updateHotspotContainerHandler=this._updateHotspotContainer.bind(this),this._viewer.addEventListener("sceneChange",this._updateHotspotContainerHandler),this._viewChangeHandler=this.emit.bind(this,"viewChange"),this._view.addEventListener("change",this._viewChangeHandler),this._updateHotspotContainer()}return r(u),u.prototype.destroy=function(){this._view.removeEventListener("change",this._viewChangeHandler),this._viewer.removeEventListener("sceneChange",this._updateHotspotContainerHandler),this._movement&&this.stopMovement(),this._hotspotContainer.destroy(),this.destroyAllLayers(),l(this)},u.prototype.hotspotContainer=function(){return this._hotspotContainer},u.prototype.layer=function(){return this._layers[0]},u.prototype.listLayers=function(){return[].concat(this._layers)},u.prototype.view=function(){return this._view},u.prototype.viewer=function(){return this._viewer},u.prototype.visible=function(){return this._viewer.scene()===this},u.prototype.createLayer=function(n){var r=(n=n||{}).textureStoreOpts||{},i=n.layerOpts||{},o=n.source,a=n.geometry,s=this._view,l=this._viewer.stage(),u=new t(o,l,r),c=new e(o,a,s,u,i);return this._layers.push(c),n.pinFirstLevel&&c.pinFirstLevel(),this.emit("layerChange"),c},u.prototype.destroyLayer=function(e){var t=this._layers.indexOf(e);if(t<0)throw new Error("No such layer in scene");this._layers.splice(t,1),this.emit("layerChange"),e.textureStore().destroy(),e.destroy()},u.prototype.destroyAllLayers=function(){for(;this._layers.length>0;)this.destroyLayer(this._layers[0])},u.prototype.switchTo=function(e,t){return this._viewer.switchScene(this,e,t)},u.prototype.lookTo=function(e,t,n){var r=this;if(t=t||{},n=n||o,"object"!==a(e))throw new Error("Target view parameters must be an object");var i=null!=t.ease?t.ease:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},l=null!=t.controlsInterrupt&&t.controlsInterrupt,u=null!=t.transitionDuration?t.transitionDuration:1e3,c=null==t.shortest||t.shortest,h=this._view,p=h.parameters(),f={};s(f,e),s(f,p),c&&h.normalizeToClosest&&h.normalizeToClosest(f,f);var d=this._viewer.controls().enabled();l||this._viewer.controls().disable(),this.startMovement(function(){var e=!1;return function(t,n){if(n>=u&&e)return null;var r=Math.min(n/u,1);for(var o in t){var a=p[o],s=f[o];t[o]=a+i(r)*(s-a)}return e=n>=u,t}},function(){d&&r._viewer.controls().enable(),n()})},u.prototype.startMovement=function(e,t){var n=this._viewer.renderLoop();this._movement&&this.stopMovement();var r=e();if("function"!=typeof r)throw new Error("Bad movement");this._movement=e,this._movementStep=r,this._movementStartTime=i(),this._movementParams={},this._movementCallback=t,n.addEventListener("beforeRender",this._updateMovementHandler),n.renderOnNextFrame()},u.prototype.stopMovement=function(){var e=this._movementCallback,t=this._viewer.renderLoop();this._movement&&(this._movement=null,this._movementStep=null,this._movementStartTime=null,this._movementParams=null,this._movementCallback=null,t.removeEventListener("beforeRender",this._updateMovementHandler),e&&e())},u.prototype.movement=function(){return this._movement},u.prototype._updateMovement=function(){if(!this._movement)throw new Error("Should not call update");var e=this._viewer.renderLoop(),t=this._view,n=i()-this._movementStartTime,r=this._movementStep,o=this._movementParams;null==(o=r(o=t.parameters(o),n))?this.stopMovement():(t.setParameters(o),e.renderOnNextFrame())},u.prototype._updateHotspotContainer=function(){this.visible()?this._hotspotContainer.show():this._hotspotContainer.hide()},ya=u}function rs(){if(ka)return Ea;ka=1;var e=Oo(),t=Wa(),n=Ya(),r=Xa(),i=Ga(),o=$o(),a={mouseViewMode:"drag",dragMode:"pan"};return Ea=function(s,l,u){u=e(u||{},a);var c={mouseViewDrag:new t(l,"mouse"),mouseViewQtvr:new n(l,"mouse"),leftArrowKey:new o(37,"x",-.7,3),rightArrowKey:new o(39,"x",.7,3),upArrowKey:new o(38,"y",-.7,3),downArrowKey:new o(40,"y",.7,3),plusKey:new o(107,"zoom",-.7,3),minusKey:new o(109,"zoom",.7,3),wKey:new o(87,"y",-.7,3),aKey:new o(65,"x",-.7,3),sKey:new o(83,"y",.7,3),dKey:new o(68,"x",.7,3),qKey:new o(81,"roll",.7,3),eKey:new o(69,"roll",-.7,3)},h=["scrollZoom","touchView","pinch"];!1!==u.scrollZoom&&(c.scrollZoom=new r(l));var p={arrowKeys:["leftArrowKey","rightArrowKey","upArrowKey","downArrowKey"],plusMinusKeys:["plusKey","minusKey"],wasdKeys:["wKey","aKey","sKey","dKey"],qeKeys:["qKey","eKey"]};switch(u.dragMode){case"pinch":c.pinch=new t(l,"touch",{hammerEvent:"pinch"});break;case"pan":c.touchView=new t(l,"touch"),c.pinch=new i(l,"touch");break;default:throw new Error("Unknown drag mode: "+u.dragMode)}switch(u.mouseViewMode){case"drag":h.push("mouseViewDrag");break;case"qtvr":h.push("mouseViewQtvr");break;default:throw new Error("Unknown mouse view mode: "+u.mouseViewMode)}for(var f in c){var d=c[f];s.registerMethod(f,d),h.indexOf(f)>=0&&s.enableMethod(f)}for(var m in p){var v=p[m];s.addMethodGroup(m,v)}return c},Ea}function is(){if(La)return Ta;La=1;var e=pe();return Ta=function(t,n,r){var i=!1,o=e();return n(0),requestAnimationFrame(function a(){if(!i){var s=(e()-o)/t;s<1?(n(s),requestAnimationFrame(a)):(n(1),r())}}),function(){i=!0,r.apply(null,arguments)}},Ta}function os(){if(Ma)return Ca;Ma=1;var e=he(),t=jo(),n=Za(),r=ns(),i=function(){if(wa)return _a;wa=1;var e=he(),t=Oo(),n=pe(),r={duration:1/0};function i(e){e=t(e||{},r),this._duration=e.duration,this._startTime=null,this._handle=null,this._check=this._check.bind(this)}return e(i),i.prototype.start=function(){this._startTime=n(),null==this._handle&&this._duration<1/0&&this._setup(this._duration)},i.prototype.started=function(){return null!=this._startTime},i.prototype.stop=function(){this._startTime=null,null!=this._handle&&(clearTimeout(this._handle),this._handle=null)},i.prototype._setup=function(e){this._handle=setTimeout(this._check,e)},i.prototype._teardown=function(){clearTimeout(this._handle),this._handle=null},i.prototype._check=function(){var e=n()-this._startTime,t=this._duration-e;this._teardown(),t<=0?(this.emit("timeout"),this._startTime=null):t<1/0&&this._setup(t)},i.prototype.duration=function(){return this._duration},i.prototype.setDuration=function(e){this._duration=e,null!=this._startTime&&this._check()},_a=i}(),o=He(),a=function(){if(Sa)return xa;Sa=1;var e=Oo(),t=ye(),n={active:"move",inactive:"default",disabled:"default"};function r(t,r,i,o){o=e(o||{},n),this._element=i,this._controls=t,this._id=r,this._attached=!1,this._setActiveCursor=this._setCursor.bind(this,o.active),this._setInactiveCursor=this._setCursor.bind(this,o.inactive),this._setDisabledCursor=this._setCursor.bind(this,o.disabled),this._setOriginalCursor=this._setCursor.bind(this,this._element.style.cursor),this._updateAttachmentHandler=this._updateAttachment.bind(this),t.addEventListener("methodEnabled",this._updateAttachmentHandler),t.addEventListener("methodDisabled",this._updateAttachmentHandler),t.addEventListener("enabled",this._updateAttachmentHandler),t.addEventListener("disabled",this._updateAttachmentHandler),this._updateAttachment()}return r.prototype.destroy=function(){this._detachFromControlMethod(this._controls.method(this._id)),this._setOriginalCursor(),this._controls.removeEventListener("methodEnabled",this._updateAttachmentHandler),this._controls.removeEventListener("methodDisabled",this._updateAttachmentHandler),this._controls.removeEventListener("enabled",this._updateAttachmentHandler),this._controls.removeEventListener("disabled",this._updateAttachmentHandler),t(this)},r.prototype._updateAttachment=function(){var e=this._controls,t=this._id;e.enabled()&&e.method(t).enabled?this._attachToControlMethod(e.method(t)):this._detachFromControlMethod(e.method(t))},r.prototype._attachToControlMethod=function(e){this._attached||(e.instance.addEventListener("active",this._setActiveCursor),e.instance.addEventListener("inactive",this._setInactiveCursor),e.active?this._setActiveCursor():this._setInactiveCursor(),this._attached=!0)},r.prototype._detachFromControlMethod=function(e){this._attached&&(e.instance.removeEventListener("active",this._setActiveCursor),e.instance.removeEventListener("inactive",this._setInactiveCursor),this._setDisabledCursor(),this._attached=!1)},r.prototype._setCursor=function(e){this._element.style.cursor=e},xa=r}(),s=$a(),l=rs(),u=ho(),c=Be().setOverflowHidden,h=Be().setAbsolute,p=Be().setFullSize,f=is(),d=Ro(),m=ye();function v(e,r){r=r||{},this._domElement=e,c(e),this._stage=new o(r.stage),u(this._stage),this._domElement.appendChild(this._stage.domElement()),this._controlContainer=document.createElement("div"),h(this._controlContainer),p(this._controlContainer),e.appendChild(this._controlContainer),this._size={},this.updateSize(),this._updateSizeListener=this.updateSize.bind(this),window.addEventListener("resize",this._updateSizeListener),this._renderLoop=new t(this._stage),this._controls=new n,this._controlMethods=l(this._controls,this._controlContainer,r.controls),this._controls.attach(this._renderLoop),this._hammerManagerTouch=s.get(this._controlContainer,"touch"),this._hammerManagerMouse=s.get(this._controlContainer,"mouse"),this._dragCursor=new a(this._controls,"mouseViewDrag",e,r.cursors&&r.cursors.drag||{}),this._renderLoop.start(),this._scenes=[],this._currentScene=null,this._replacedScene=null,this._cancelCurrentTween=null,this._layerChangeHandler=this._updateSceneLayers.bind(this),this._viewChangeHandler=this.emit.bind(this,"viewChange"),this._idleTimer=new i,this._idleTimer.start(),this._resetIdleTimerHandler=this._resetIdleTimer.bind(this),this.addEventListener("viewChange",this._resetIdleTimerHandler),this._triggerIdleTimerHandler=this._triggerIdleTimer.bind(this),this._idleTimer.addEventListener("timeout",this._triggerIdleTimerHandler),this._stopMovementHandler=this.stopMovement.bind(this),this._controls.addEventListener("active",this._stopMovementHandler),this.addEventListener("sceneChange",this._stopMovementHandler),this._idleMovement=null}e(v),v.prototype.destroy=function(){for(var e in window.removeEventListener("resize",this._updateSizeListener),this._currentScene&&this._removeSceneEventListeners(this._currentScene),this._replacedScene&&this._removeSceneEventListeners(this._replacedScene),this._dragCursor.destroy(),this._controlMethods)this._controlMethods[e].destroy();for(;this._scenes.length;)this.destroyScene(this._scenes[0]);this._domElement.removeChild(this._stage.domElement()),this._stage.destroy(),this._renderLoop.destroy(),this._controls.destroy(),this._controls=null,this._cancelCurrentTween&&this._cancelCurrentTween(),m(this)},v.prototype.updateSize=function(){var e=this._size;e.width=this._domElement.clientWidth,e.height=this._domElement.clientHeight,this._stage.setSize(e)},v.prototype.stage=function(){return this._stage},v.prototype.renderLoop=function(){return this._renderLoop},v.prototype.controls=function(){return this._controls},v.prototype.domElement=function(){return this._domElement},v.prototype.createScene=function(e){e=e||{};var t=this.createEmptyScene({view:e.view});return t.createLayer({source:e.source,geometry:e.geometry,pinFirstLevel:e.pinFirstLevel,textureStoreOpts:e.textureStoreOpts,layerOpts:e.layerOpts}),t},v.prototype.createEmptyScene=function(e){var t=new r(this,(e=e||{}).view);return this._scenes.push(t),t},v.prototype._updateSceneLayers=function(){var e,t,n=this._stage,r=this._currentScene,i=this._replacedScene,o=n.listLayers(),a=[];if(i&&(a=a.concat(i.listLayers())),r&&(a=a.concat(r.listLayers())),1!==Math.abs(o.length-a.length))throw new Error("Stage and scene out of sync");if(a.length<o.length)for(e=0;e<o.length;e++)if(t=o[e],a.indexOf(t)<0){this._removeLayerFromStage(t);break}if(a.length>o.length)for(e=0;e<a.length;e++)t=a[e],o.indexOf(t)<0&&this._addLayerToStage(t,e)},v.prototype._addLayerToStage=function(e,t){e.pinFirstLevel(),this._stage.addLayer(e,t)},v.prototype._removeLayerFromStage=function(e){this._stage.removeLayer(e),e.unpinFirstLevel(),e.textureStore().clearNotPinned()},v.prototype._addSceneEventListeners=function(e){e.addEventListener("layerChange",this._layerChangeHandler),e.addEventListener("viewChange",this._viewChangeHandler)},v.prototype._removeSceneEventListeners=function(e){e.removeEventListener("layerChange",this._layerChangeHandler),e.removeEventListener("viewChange",this._viewChangeHandler)},v.prototype.destroyScene=function(e){var t,n,r=this._scenes.indexOf(e);if(r<0)throw new Error("No such scene in viewer");if(this._currentScene===e){for(this._removeSceneEventListeners(e),n=e.listLayers(),t=0;t<n.length;t++)this._removeLayerFromStage(n[t]);this._cancelCurrentTween&&(this._cancelCurrentTween(),this._cancelCurrentTween=null),this._currentScene=null,this.emit("sceneChange")}if(this._replacedScene===e){for(this._removeSceneEventListeners(e),n=e.listLayers(),t=0;t<n.length;t++)this._removeLayerFromStage(n[t]);this._replacedScene=null}this._scenes.splice(r,1),e.destroy()},v.prototype.destroyAllScenes=function(){for(;this._scenes.length>0;)this.destroyScene(this._scenes[0])},v.prototype.hasScene=function(e){return this._scenes.indexOf(e)>=0},v.prototype.listScenes=function(){return[].concat(this._scenes)},v.prototype.scene=function(){return this._currentScene},v.prototype.view=function(){var e=this._currentScene;return e?e.view():null},v.prototype.lookTo=function(e,t,n){var r=this._currentScene;r&&r.lookTo(e,t,n)},v.prototype.startMovement=function(e,t){var n=this._currentScene;n&&n.startMovement(e,t)},v.prototype.stopMovement=function(){var e=this._currentScene;e&&e.stopMovement()},v.prototype.movement=function(){var e=this._currentScene;if(e)return e.movement()},v.prototype.setIdleMovement=function(e,t){this._idleTimer.setDuration(e),this._idleMovement=t},v.prototype.breakIdleMovement=function(){this.stopMovement(),this._resetIdleTimer()},v.prototype._resetIdleTimer=function(){this._idleTimer.start()},v.prototype._triggerIdleTimer=function(){var e=this._idleMovement;e&&this.startMovement(e)};function g(e,t,n){t.listLayers().forEach(function(t){t.mergeEffects({opacity:e})}),t._hotspotContainer.domElement().style.opacity=e}return v.prototype.switchScene=function(e,t,n){var r=this;t=t||{},n=n||d;var i=this._stage,o=this._currentScene;if(o!==e){if(this._scenes.indexOf(e)<0)throw new Error("No such scene in viewer");this._cancelCurrentTween&&(this._cancelCurrentTween(),this._cancelCurrentTween=null);var a=o?o.listLayers():[],s=e.listLayers(),l=i.listLayers();if(o&&(l.length!==a.length||l.length>1&&l[0]!=a[0]))throw new Error("Stage not in sync with viewer");for(var u=null!=t.transitionDuration?t.transitionDuration:1e3,c=null!=t.transitionUpdate?t.transitionUpdate:g,h=0;h<s.length;h++)this._addLayerToStage(s[h]);this._cancelCurrentTween=f(u,function(t){c(t,e,o)},function(){if(r._replacedScene){r._removeSceneEventListeners(r._replacedScene),a=r._replacedScene.listLayers();for(var e=0;e<a.length;e++)r._removeLayerFromStage(a[e]);r._replacedScene=null}r._cancelCurrentTween=null,n()}),this._currentScene=e,this._replacedScene=o,this.emit("sceneChange"),this.emit("viewChange"),this._addSceneEventListeners(e)}else n()},Ca=v}function as(){if(Ra)return Aa;Ra=1;var e=_r.vec4,t=_r.mat4;function n(t,n,r){(function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];e[0]=n[0]*r+n[1]*i+n[2]*o+n[3]*a,e[1]=n[4]*r+n[5]*i+n[6]*o+n[7]*a,e[2]=n[8]*r+n[9]*i+n[10]*o+n[11]*a,e[3]=n[12]*r+n[13]*i+n[14]*o+n[15]*a})(r,t,n.colorMatrix),e.add(r,r,n.colorOffset)}var r=e.create();return Aa={identity:function(n){var r=n||{};return r.colorOffset=r.colorOffset||e.create(),r.colorMatrix=r.colorMatrix||t.create(),r},applyToPixel:n,applyToImageData:function(t,i){for(var o=t.width,a=t.height,s=t.data,l=0;l<o*a;l++)e.set(r,s[4*l+0]/255,s[4*l+1]/255,s[4*l+2]/255,s[4*l+3]/255),n(r,i,r),s[4*l+0]=255*r[0],s[4*l+1]=255*r[1],s[4*l+2]=255*r[2],s[4*l+3]=255*r[3]}},Aa}function ss(){if(za)return Pa;za=1;var e=Oo(),t=.01,n={yawSpeed:.1,pitchSpeed:.1,fovSpeed:.1,yawAccel:t,pitchAccel:t,fovAccel:t,targetPitch:0,targetFov:null};return Pa=function(t){var r=(t=e(t||{},n)).yawSpeed,i=t.pitchSpeed,o=t.fovSpeed,a=t.yawAccel,s=t.pitchAccel,l=t.fovAccel,u=t.targetPitch,c=t.targetFov;return function(){var e,t,n,h,p=0,f=0,d=0,m=0,v=0,g=0,y=0;return function(b,_){if(e=(_-p)/1e3,v=Math.min(f+e*a,r),t=v*e,b.yaw=b.yaw+t,null!=u&&b.pitch!==u){var w=.5*d*d/s;g=Math.abs(u-b.pitch)>w?Math.min(d+e*s,i):Math.max(d-e*s,0),n=g*e,u<b.pitch&&(b.pitch=Math.max(u,b.pitch-n)),u>b.pitch&&(b.pitch=Math.min(u,b.pitch+n))}if(null!=c&&b.fov!==u){var x=.5*m*m/l;y=Math.abs(c-b.fov)>x?Math.min(m+e*l,o):Math.max(m-e*l,0),h=y*e,c<b.fov&&(b.fov=Math.max(c,b.fov-h)),c>b.fov&&(b.fov=Math.min(c,b.fov+h))}return p=_,f=v,d=g,m=y,b}}},Pa}function ls(){if(Na)return Ia;return Na=1,Ia=function(e,t){setTimeout(function(){t&&t.length>0?e.apply(null,t):e()},0)},Ia}function us(){if(Oa)return Da;return Oa=1,Da=function(e){return e*Math.PI/180}}function cs(){if(Ba)return Fa;return Ba=1,Fa=function(e){return 180*e/Math.PI}}const hs=ue((Va||(Va=1,Ha={WebGlStage:He(),WebGlCubeRenderer:lo(),WebGlFlatRenderer:uo(),WebGlEquirectRenderer:co(),registerDefaultRenderers:ho(),CubeGeometry:xo(),FlatGeometry:So(),EquirectGeometry:Eo(),RectilinearView:Mo(),FlatView:Ao(),ImageUrlSource:Io(),SingleAssetSource:No(),StaticAsset:we(),DynamicAsset:Do(),TextureStore:Bo(),Layer:Vo(),RenderLoop:jo(),KeyControlMethod:$o(),DragControlMethod:Wa(),QtvrControlMethod:Ya(),ScrollZoomControlMethod:Xa(),PinchZoomControlMethod:Ga(),VelocityControlMethod:Qa(),ElementPressControlMethod:Ka(),Controls:Za(),Dynamics:Uo(),Viewer:os(),Scene:ns(),Hotspot:es(),HotspotContainer:ts(),colorEffects:as(),registerDefaultControls:rs(),autorotate:ss(),util:{async:me(),cancelize:ge(),chain:Po(),clamp:oo(),clearOwnProperties:ye(),cmp:bo(),compose:Co(),convertFov:ko(),decimal:Lo(),defaults:Oo(),defer:ls(),degToRad:us(),delay:zo(),dom:Be(),extend:Ho(),hash:po(),inherits:xe(),mod:fo(),noop:Ro(),now:pe(),once:ve(),pixelRatio:Fe(),radToDeg:cs(),real:To(),retry:Fo(),tween:is(),type:wo()},dependencies:{bowser:Oe(),glMatrix:_r,eventEmitter:he(),hammerjs:Ua()}}),Ha));var ps=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch{}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),fs="-ms-",ds="-moz-",ms="-webkit-",vs="comm",gs="rule",ys="decl",bs="@keyframes",_s=Math.abs,ws=String.fromCharCode,xs=Object.assign;function Ss(e){return e.trim()}function Es(e,t,n){return e.replace(t,n)}function ks(e,t){return e.indexOf(t)}function Ts(e,t){return 0|e.charCodeAt(t)}function Ls(e,t,n){return e.slice(t,n)}function Cs(e){return e.length}function Ms(e){return e.length}function As(e,t){return t.push(e),e}var Rs=1,Ps=1,zs=0,Is=0,Ns=0,Ds="";function Os(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:Rs,column:Ps,length:a,return:""}}function Fs(e,t){return xs(Os("",null,null,"",null,null,0),e,{length:-e.length},t)}function Bs(){return Ns=Is>0?Ts(Ds,--Is):0,Ps--,10===Ns&&(Ps=1,Rs--),Ns}function Hs(){return Ns=Is<zs?Ts(Ds,Is++):0,Ps++,10===Ns&&(Ps=1,Rs++),Ns}function Vs(){return Ts(Ds,Is)}function js(){return Is}function Us(e,t){return Ls(Ds,e,t)}function $s(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function qs(e){return Rs=Ps=1,zs=Cs(Ds=e),Is=0,[]}function Ws(e){return Ds="",e}function Ys(e){return Ss(Us(Is-1,Qs(91===e?e+2:40===e?e+1:e)))}function Xs(e){for(;(Ns=Vs())&&Ns<33;)Hs();return $s(e)>2||$s(Ns)>3?"":" "}function Gs(e,t){for(;--t&&Hs()&&!(Ns<48||Ns>102||Ns>57&&Ns<65||Ns>70&&Ns<97););return Us(e,js()+(t<6&&32==Vs()&&32==Hs()))}function Qs(e){for(;Hs();)switch(Ns){case e:return Is;case 34:case 39:34!==e&&39!==e&&Qs(Ns);break;case 40:41===e&&Qs(e);break;case 92:Hs()}return Is}function Ks(e,t){for(;Hs()&&e+Ns!==57&&(e+Ns!==84||47!==Vs()););return"/*"+Us(t,Is-1)+"*"+ws(47===e?e:Hs())}function Zs(e){for(;!$s(Vs());)Hs();return Us(e,Is)}function Js(e){return Ws(el("",null,null,null,[""],e=qs(e),0,[0],e))}function el(e,t,n,r,i,o,a,s,l){for(var u=0,c=0,h=a,p=0,f=0,d=0,m=1,v=1,g=1,y=0,b="",_=i,w=o,x=r,S=b;v;)switch(d=y,y=Hs()){case 40:if(108!=d&&58==Ts(S,h-1)){-1!=ks(S+=Es(Ys(y),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:S+=Ys(y);break;case 9:case 10:case 13:case 32:S+=Xs(d);break;case 92:S+=Gs(js()-1,7);continue;case 47:switch(Vs()){case 42:case 47:As(nl(Ks(Hs(),js()),t,n),l);break;default:S+="/"}break;case 123*m:s[u++]=Cs(S)*g;case 125*m:case 59:case 0:switch(y){case 0:case 125:v=0;case 59+c:-1==g&&(S=Es(S,/\f/g,"")),f>0&&Cs(S)-h&&As(f>32?rl(S+";",r,n,h-1):rl(Es(S," ","")+";",r,n,h-2),l);break;case 59:S+=";";default:if(As(x=tl(S,t,n,u,c,i,s,b,_=[],w=[],h),o),123===y)if(0===c)el(S,t,x,x,_,o,h,s,w);else switch(99===p&&110===Ts(S,3)?100:p){case 100:case 108:case 109:case 115:el(e,x,x,r&&As(tl(e,x,x,0,0,i,s,b,i,_=[],h),w),i,w,h,s,r?_:w);break;default:el(S,x,x,x,[""],w,0,s,w)}}u=c=f=0,m=g=1,b=S="",h=a;break;case 58:h=1+Cs(S),f=d;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==Bs())continue;switch(S+=ws(y),y*m){case 38:g=c>0?1:(S+="\f",-1);break;case 44:s[u++]=(Cs(S)-1)*g,g=1;break;case 64:45===Vs()&&(S+=Ys(Hs())),p=Vs(),c=h=Cs(b=S+=Zs(js())),y++;break;case 45:45===d&&2==Cs(S)&&(m=0)}}return o}function tl(e,t,n,r,i,o,a,s,l,u,c){for(var h=i-1,p=0===i?o:[""],f=Ms(p),d=0,m=0,v=0;d<r;++d)for(var g=0,y=Ls(e,h+1,h=_s(m=a[d])),b=e;g<f;++g)(b=Ss(m>0?p[g]+" "+y:Es(y,/&\f/g,p[g])))&&(l[v++]=b);return Os(e,t,n,0===i?gs:s,l,u,c)}function nl(e,t,n){return Os(e,t,n,vs,ws(Ns),Ls(e,2,-2),0)}function rl(e,t,n,r){return Os(e,t,n,ys,Ls(e,0,r),Ls(e,r+1,-1),r)}function il(e,t){for(var n="",r=Ms(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function ol(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case ys:return e.return=e.return||e.value;case vs:return"";case bs:return e.return=e.value+"{"+il(e.children,r)+"}";case gs:e.value=e.props.join(",")}return Cs(n=il(e.children,r))?e.return=e.value+"{"+n+"}":""}function al(e){return function(t){t.root||(t=t.return)&&e(t)}}function sl(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var ll=function(e,t,n){for(var r=0,i=0;r=i,i=Vs(),38===r&&12===i&&(t[n]=1),!$s(i);)Hs();return Us(e,Is)},ul=function(e,t){return Ws(function(e,t){var n=-1,r=44;do{switch($s(r)){case 0:38===r&&12===Vs()&&(t[n]=1),e[n]+=ll(Is-1,t,n);break;case 2:e[n]+=Ys(r);break;case 4:if(44===r){e[++n]=58===Vs()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=ws(r)}}while(r=Hs());return e}(qs(e),t))},cl=new WeakMap,hl=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||cl.get(n))&&!r){cl.set(e,!0);for(var i=[],o=ul(t,i),a=n.props,s=0,l=0;s<o.length;s++)for(var u=0;u<a.length;u++,l++)e.props[l]=i[s]?o[s].replace(/&\f/g,a[u]):a[u]+" "+o[s]}}},pl=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function fl(e,t){switch(function(e,t){return 45^Ts(e,0)?(((t<<2^Ts(e,0))<<2^Ts(e,1))<<2^Ts(e,2))<<2^Ts(e,3):0}(e,t)){case 5103:return ms+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ms+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ms+e+ds+e+fs+e+e;case 6828:case 4268:return ms+e+fs+e+e;case 6165:return ms+e+fs+"flex-"+e+e;case 5187:return ms+e+Es(e,/(\w+).+(:[^]+)/,ms+"box-$1$2"+fs+"flex-$1$2")+e;case 5443:return ms+e+fs+"flex-item-"+Es(e,/flex-|-self/,"")+e;case 4675:return ms+e+fs+"flex-line-pack"+Es(e,/align-content|flex-|-self/,"")+e;case 5548:return ms+e+fs+Es(e,"shrink","negative")+e;case 5292:return ms+e+fs+Es(e,"basis","preferred-size")+e;case 6060:return ms+"box-"+Es(e,"-grow","")+ms+e+fs+Es(e,"grow","positive")+e;case 4554:return ms+Es(e,/([^-])(transform)/g,"$1"+ms+"$2")+e;case 6187:return Es(Es(Es(e,/(zoom-|grab)/,ms+"$1"),/(image-set)/,ms+"$1"),e,"")+e;case 5495:case 3959:return Es(e,/(image-set\([^]*)/,ms+"$1$`$1");case 4968:return Es(Es(e,/(.+:)(flex-)?(.*)/,ms+"box-pack:$3"+fs+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ms+e+e;case 4095:case 3583:case 4068:case 2532:return Es(e,/(.+)-inline(.+)/,ms+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Cs(e)-1-t>6)switch(Ts(e,t+1)){case 109:if(45!==Ts(e,t+4))break;case 102:return Es(e,/(.+:)(.+)-([^]+)/,"$1"+ms+"$2-$3$1"+ds+(108==Ts(e,t+3)?"$3":"$2-$3"))+e;case 115:return~ks(e,"stretch")?fl(Es(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Ts(e,t+1))break;case 6444:switch(Ts(e,Cs(e)-3-(~ks(e,"!important")&&10))){case 107:return Es(e,":",":"+ms)+e;case 101:return Es(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ms+(45===Ts(e,14)?"inline-":"")+"box$3$1"+ms+"$2$3$1"+fs+"$2box$3")+e}break;case 5936:switch(Ts(e,t+11)){case 114:return ms+e+fs+Es(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ms+e+fs+Es(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ms+e+fs+Es(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ms+e+fs+e+e}return e}var dl=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case ys:e.return=fl(e.value,e.length);break;case bs:return il([Fs(e,{value:Es(e.value,"@","@"+ms)})],r);case gs:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return il([Fs(e,{props:[Es(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return il([Fs(e,{props:[Es(t,/:(plac\w+)/,":"+ms+"input-$1")]}),Fs(e,{props:[Es(t,/:(plac\w+)/,":-moz-$1")]}),Fs(e,{props:[Es(t,/:(plac\w+)/,fs+"input-$1")]})],r)}return""})}}],ml=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var r,i=e.stylisPlugins||dl,o={},a=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;a.push(e)});var s,l,u=[hl,pl],c=[ol,al(function(e){l.insert(e)})],h=function(e){var t=Ms(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}(u.concat(i,c));s=function(e,t,n,r){l=n,function(e){il(Js(e),h)}(e?e+"{"+t.styles+"}":t.styles),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new ps({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:s};return p.sheet.hydrate(a),p};var vl={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},gl=/[A-Z]|^ms/g,yl=/_EMO_([^_]+?)_([^]*?)_EMO_/g,bl=function(e){return 45===e.charCodeAt(1)},_l=function(e){return null!=e&&"boolean"!=typeof e},wl=sl(function(e){return bl(e)?e:e.replace(gl,"-$&").toLowerCase()}),xl=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(yl,function(e,t,n){return El={name:t,styles:n,next:El},t})}return 1===vl[e]||bl(e)||"number"!=typeof t||0===t?t:t+"px"};function Sl(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(1===i.anim)return El={name:i.name,styles:i.styles,next:El},i.name;var o=n;if(void 0!==o.styles){var a=o.next;if(void 0!==a)for(;void 0!==a;)El={name:a.name,styles:a.styles,next:El},a=a.next;return o.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Sl(e,t,n[i])+";";else for(var o in n){var a=n[o];if("object"!=typeof a){var s=a;null!=t&&void 0!==t[s]?r+=o+"{"+t[s]+"}":_l(s)&&(r+=wl(o)+":"+xl(o,s)+";")}else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var l=Sl(e,t,a);switch(o){case"animation":case"animationName":r+=wl(o)+":"+l+";";break;default:r+=o+"{"+l+"}"}}else for(var u=0;u<a.length;u++)_l(a[u])&&(r+=wl(o)+":"+xl(o,a[u])+";")}return r}(e,t,n)}var s=n;if(null==t)return s;var l=t[s];return void 0!==l?l:s}var El,kl=/label:\s*([^\s;{]+)\s*(;|$)/g;function Tl(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";El=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=Sl(n,t,o)):i+=o[0];for(var a=1;a<e.length;a++)if(i+=Sl(n,t,e[a]),r){i+=o[a]}kl.lastIndex=0;for(var s,l="";null!==(s=kl.exec(i));)l+="-"+s[1];var u=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:u,styles:i,next:El}}function Ll(e,t,n){var r="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")}),r}function Cl(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function Ml(e,t,n){var r=[],i=Ll(e,r,n);return r.length<2?n:i+t(r)}var Al,Rl,Pl,zl,Il,Nl,Dl,Ol,Fl,Bl,Hl=function(e){var t=ml(e);t.sheet.speedy=function(e){this.isSpeedy=e},t.compat=!0;var n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=Tl(n,t.registered,void 0);return function(e,t){!function(e,t){var n=e.key+"-"+t.name;void 0===e.registered[n]&&(e.registered[n]=t.styles)}(e,t);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var r=t;do{e.insert(t===r?"."+n:"",r,e.sheet,!0),r=r.next}while(void 0!==r)}}(t,i),t.key+"-"+i.name};return{css:n,cx:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return Ml(t.registered,n,Vl(r))},injectGlobal:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=Tl(n,t.registered);Cl(t,i)},keyframes:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=Tl(n,t.registered),o="animation-"+i.name;return Cl(t,{name:i.name,styles:"@keyframes "+o+"{"+i.styles+"}"}),o},hydrate:function(e){e.forEach(function(e){t.inserted[e]=!0})},flush:function(){t.registered={},t.inserted={},t.sheet.flush()},sheet:t.sheet,cache:t,getRegisteredStyles:Ll.bind(null,t.registered),merge:Ml.bind(null,t.registered,n)}},Vl=function e(t){for(var n="",r=0;r<t.length;r++){var i=t[r];if(null!=i){var o=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))o=e(i);else for(var a in o="",i)i[a]&&a&&(o&&(o+=" "),o+=a);break;default:o=i}o&&(n&&(n+=" "),n+=o)}}return n};!function(e){e.TopLeft="tl",e.Top="t",e.TopRight="tr",e.Left="l",e.Right="r",e.BottomLeft="bl",e.Bottom="b",e.BottomRight="br"}(Al||(Al={})),Al.TopLeft,Al.Top,Al.TopRight,Al.Left,Al.Right,Al.BottomLeft,Al.Bottom,Al.BottomRight,function(e){e.AutoDraft="auto-draft",e.Draft="draft",e.Publish="publish"}(Rl||(Rl={})),function(e){e.Text="text",e.Image="image"}(Pl||(Pl={})),Pl.Text,Pl.Image,function(e){e.Icon="icon",e.Label="label",e.IconLabel="icon-label",e.LabelIcon="label-icon",e.Image="image"}(zl||(zl={})),zl.Icon,zl.Label,zl.IconLabel,zl.LabelIcon,zl.Image,function(e){e.TopLeft="tl",e.Top="t",e.TopRight="tr",e.Left="l",e.Center="c",e.Right="r",e.BottomLeft="bl",e.Bottom="b",e.BottomRight="br"}(Il||(Il={})),Il.TopLeft,Il.Top,Il.TopRight,Il.Left,Il.Center,Il.Right,Il.BottomLeft,Il.Bottom,Il.BottomRight,function(e){e.Top="t",e.Left="l",e.Right="r",e.Bottom="b",e.Follow="f"}(Nl||(Nl={})),Nl.Top,Nl.Left,Nl.Right,Nl.Bottom,Nl.Follow,function(e){e.Default="default",e.Current="current",e.Manual="manual"}(Dl||(Dl={})),Dl.Default,Dl.Current,Dl.Manual,function(e){e.ChangeScene="scene",e.FollowLink="link"}(Ol||(Ol={})),Ol.ChangeScene,Ol.FollowLink,function(e){e.Popover="popover",e.Dialog="dialog"}(Fl||(Fl={})),Fl.Popover,Fl.Dialog,function(e){e.Top="t",e.Left="l",e.Right="r",e.Bottom="b"}(Bl||(Bl={})),Bl.Top,Bl.Left,Bl.Right,Bl.Bottom;const jl=["tl","t","tr","l","r","bl","b","br"];let Ul=e=>crypto.getRandomValues(new Uint8Array(e)),$l=(e,t=21)=>((e,t,n)=>{let r=(2<<Math.log2(e.length-1))-1,i=-~(1.6*r*t/e.length);return(o=t)=>{let a="";for(;;){let t=n(i),s=0|i;for(;s--;)if(a+=e[t[s]&r]||"",a.length>=o)return a}}})(e,0|t,Ul);class ql{constructor(e,t){this.width=e,this.height=t}loadAsset(e,t,n){const r=this.tileColor(t),i=document.createElement("canvas");i.width=this.width,i.height=this.height;const o=i.getContext("2d");if(!o)return n(new Error("Failed to get 2D context")),()=>{};o.fillStyle=r,o.fillRect(0,0,this.width,this.height);const a=setTimeout(()=>{const e=new hs.StaticAsset(i);n(null,t,e)},0);return function(){clearTimeout(a),n.apply(null,arguments)}}addEventListener(e,t){}removeEventListener(e,t){}tileColor(e){const t=(e.x+e.y)%2==0;switch(e.face){case"f":case"b":case"l":case"r":return t?"#888":"#999";case"u":return t?"#777":"#666";case"d":return t?"#666":"#777";default:return"#888"}}}const Wl=(e,t,n)=>{if(n?.imageUrl){if(n.tiles){const r=new URL(`scene_${e}/pano_${n.id}/`,t("assets")).href+"preview.jpg",i=new URL(`scene_${e}/pano_${n.id}/tiles/`,t("assets")).href+"{z}/{f}_x{x}_y{y}.jpg";return hs.ImageUrlSource.fromString(i,{cubeMapPreviewUrl:r,cubeMapPreviewFaceOrder:"fblrud"})}return hs.ImageUrlSource.fromString(n.imageUrl)}return new ql(256,256)},Yl=e=>{if(e?.imageUrl){if(e.tiles){const t=[{tileSize:256,size:256,fallbackOnly:!!e.levels}];return e.levels&&t.push(...Array.from({length:e.levels},(e,t)=>({tileSize:512,size:512<<t}))),new hs.CubeGeometry(t)}return new hs.EquirectGeometry([{width:4096}])}return new hs.CubeGeometry([{tileSize:256,size:1024}])},Xl=e=>e*(Math.PI/180),Gl=e=>180*e/Math.PI,{entries:Ql,setPrototypeOf:Kl,isFrozen:Zl,getPrototypeOf:Jl,getOwnPropertyDescriptor:eu}=Object;let{freeze:tu,seal:nu,create:ru}=Object,{apply:iu,construct:ou}=typeof Reflect<"u"&&Reflect;tu||(tu=function(e){return e}),nu||(nu=function(e){return e}),iu||(iu=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return e.apply(t,r)}),ou||(ou=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new e(...n)});const au=_u(Array.prototype.forEach),su=_u(Array.prototype.lastIndexOf),lu=_u(Array.prototype.pop),uu=_u(Array.prototype.push),cu=_u(Array.prototype.splice),hu=_u(String.prototype.toLowerCase),pu=_u(String.prototype.toString),fu=_u(String.prototype.match),du=_u(String.prototype.replace),mu=_u(String.prototype.indexOf),vu=_u(String.prototype.trim),gu=_u(Object.prototype.hasOwnProperty),yu=_u(RegExp.prototype.test),bu=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ou(e,n)}}(TypeError);function _u(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return iu(e,t,r)}}function wu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hu;Kl&&Kl(e,null);let r=t.length;for(;r--;){let i=t[r];if("string"==typeof i){const e=n(i);e!==i&&(Zl(t)||(t[r]=e),i=e)}e[i]=!0}return e}function xu(e){for(let t=0;t<e.length;t++)gu(e,t)||(e[t]=null);return e}function Su(e){const t=ru(null);for(const[n,r]of Ql(e))gu(e,n)&&(Array.isArray(r)?t[n]=xu(r):r&&"object"==typeof r&&r.constructor===Object?t[n]=Su(r):t[n]=r);return t}function Eu(e,t){for(;null!==e;){const n=eu(e,t);if(n){if(n.get)return _u(n.get);if("function"==typeof n.value)return _u(n.value)}e=Jl(e)}return function(){return null}}const ku=tu(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Tu=tu(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Lu=tu(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Cu=tu(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Mu=tu(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Au=tu(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ru=tu(["#text"]),Pu=tu(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),zu=tu(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Iu=tu(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Nu=tu(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Du=nu(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ou=nu(/<%[\w\W]*|[\w\W]*%>/gm),Fu=nu(/\$\{[\w\W]*/gm),Bu=nu(/^data-[\-\w.\u00B7-\uFFFF]+$/),Hu=nu(/^aria-[\-\w]+$/),Vu=nu(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ju=nu(/^(?:\w+script|data):/i),Uu=nu(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),$u=nu(/^html$/i),qu=nu(/^[a-z][.\w]*(-[.\w]+)+$/i);var Wu=Object.freeze({__proto__:null,ARIA_ATTR:Hu,ATTR_WHITESPACE:Uu,CUSTOM_ELEMENT:qu,DATA_ATTR:Bu,DOCTYPE_NAME:$u,ERB_EXPR:Ou,IS_ALLOWED_URI:Vu,IS_SCRIPT_OR_DATA:ju,MUSTACHE_EXPR:Du,TMPLIT_EXPR:Fu});const Yu=1,Xu=3,Gu=7,Qu=8,Ku=9;var Zu=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:typeof window>"u"?null:window;const n=t=>e(t);if(n.version="3.3.0",n.removed=[],!t||!t.document||t.document.nodeType!==Ku||!t.Element)return n.isSupported=!1,n;let{document:r}=t;const i=r,o=i.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:l,Element:u,NodeFilter:c,NamedNodeMap:h=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:p,DOMParser:f,trustedTypes:d}=t,m=u.prototype,v=Eu(m,"cloneNode"),g=Eu(m,"remove"),y=Eu(m,"nextSibling"),b=Eu(m,"childNodes"),_=Eu(m,"parentNode");if("function"==typeof s){const e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let w,x="";const{implementation:S,createNodeIterator:E,createDocumentFragment:k,getElementsByTagName:T}=r,{importNode:L}=i;let C={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof Ql&&"function"==typeof _&&S&&void 0!==S.createHTMLDocument;const{MUSTACHE_EXPR:M,ERB_EXPR:A,TMPLIT_EXPR:R,DATA_ATTR:P,ARIA_ATTR:z,IS_SCRIPT_OR_DATA:I,ATTR_WHITESPACE:N,CUSTOM_ELEMENT:D}=Wu;let{IS_ALLOWED_URI:O}=Wu,F=null;const B=wu({},[...ku,...Tu,...Lu,...Mu,...Ru]);let H=null;const V=wu({},[...Pu,...zu,...Iu,...Nu]);let j=Object.seal(ru(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),U=null,$=null;const q=Object.seal(ru(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let W=!0,Y=!0,X=!1,G=!0,Q=!1,K=!0,Z=!1,J=!1,ee=!1,te=!1,ne=!1,re=!1,ie=!0,oe=!1,ae=!0,se=!1,le={},ue=null;const ce=wu({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let he=null;const pe=wu({},["audio","video","img","source","image","track"]);let fe=null;const de=wu({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),me="http://www.w3.org/1998/Math/MathML",ve="http://www.w3.org/2000/svg",ge="http://www.w3.org/1999/xhtml";let ye=ge,be=!1,_e=null;const we=wu({},[me,ve,ge],pu);let xe=wu({},["mi","mo","mn","ms","mtext"]),Se=wu({},["annotation-xml"]);const Ee=wu({},["title","style","font","a","script"]);let ke=null;const Te=["application/xhtml+xml","text/html"];let Le=null,Ce=null;const Me=r.createElement("form"),Ae=function(e){return e instanceof RegExp||e instanceof Function},Re=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Ce||Ce!==e){if((!e||"object"!=typeof e)&&(e={}),e=Su(e),ke=-1===Te.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,Le="application/xhtml+xml"===ke?pu:hu,F=gu(e,"ALLOWED_TAGS")?wu({},e.ALLOWED_TAGS,Le):B,H=gu(e,"ALLOWED_ATTR")?wu({},e.ALLOWED_ATTR,Le):V,_e=gu(e,"ALLOWED_NAMESPACES")?wu({},e.ALLOWED_NAMESPACES,pu):we,fe=gu(e,"ADD_URI_SAFE_ATTR")?wu(Su(de),e.ADD_URI_SAFE_ATTR,Le):de,he=gu(e,"ADD_DATA_URI_TAGS")?wu(Su(pe),e.ADD_DATA_URI_TAGS,Le):pe,ue=gu(e,"FORBID_CONTENTS")?wu({},e.FORBID_CONTENTS,Le):ce,U=gu(e,"FORBID_TAGS")?wu({},e.FORBID_TAGS,Le):Su({}),$=gu(e,"FORBID_ATTR")?wu({},e.FORBID_ATTR,Le):Su({}),le=!!gu(e,"USE_PROFILES")&&e.USE_PROFILES,W=!1!==e.ALLOW_ARIA_ATTR,Y=!1!==e.ALLOW_DATA_ATTR,X=e.ALLOW_UNKNOWN_PROTOCOLS||!1,G=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Q=e.SAFE_FOR_TEMPLATES||!1,K=!1!==e.SAFE_FOR_XML,Z=e.WHOLE_DOCUMENT||!1,te=e.RETURN_DOM||!1,ne=e.RETURN_DOM_FRAGMENT||!1,re=e.RETURN_TRUSTED_TYPE||!1,ee=e.FORCE_BODY||!1,ie=!1!==e.SANITIZE_DOM,oe=e.SANITIZE_NAMED_PROPS||!1,ae=!1!==e.KEEP_CONTENT,se=e.IN_PLACE||!1,O=e.ALLOWED_URI_REGEXP||Vu,ye=e.NAMESPACE||ge,xe=e.MATHML_TEXT_INTEGRATION_POINTS||xe,Se=e.HTML_INTEGRATION_POINTS||Se,j=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Ae(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(j.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Ae(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(j.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(j.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Q&&(Y=!1),ne&&(te=!0),le&&(F=wu({},Ru),H=[],!0===le.html&&(wu(F,ku),wu(H,Pu)),!0===le.svg&&(wu(F,Tu),wu(H,zu),wu(H,Nu)),!0===le.svgFilters&&(wu(F,Lu),wu(H,zu),wu(H,Nu)),!0===le.mathMl&&(wu(F,Mu),wu(H,Iu),wu(H,Nu))),e.ADD_TAGS&&("function"==typeof e.ADD_TAGS?q.tagCheck=e.ADD_TAGS:(F===B&&(F=Su(F)),wu(F,e.ADD_TAGS,Le))),e.ADD_ATTR&&("function"==typeof e.ADD_ATTR?q.attributeCheck=e.ADD_ATTR:(H===V&&(H=Su(H)),wu(H,e.ADD_ATTR,Le))),e.ADD_URI_SAFE_ATTR&&wu(fe,e.ADD_URI_SAFE_ATTR,Le),e.FORBID_CONTENTS&&(ue===ce&&(ue=Su(ue)),wu(ue,e.FORBID_CONTENTS,Le)),ae&&(F["#text"]=!0),Z&&wu(F,["html","head","body"]),F.table&&(wu(F,["tbody"]),delete U.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw bu('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw bu('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=e.TRUSTED_TYPES_POLICY,x=w.createHTML("")}else void 0===w&&(w=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:e=>e,createScriptURL:e=>e})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}}(d,o)),null!==w&&"string"==typeof x&&(x=w.createHTML(""));tu&&tu(e),Ce=e}},Pe=wu({},[...Tu,...Lu,...Cu]),ze=wu({},[...Mu,...Au]),Ie=function(e){uu(n.removed,{element:e});try{_(e).removeChild(e)}catch{g(e)}},Ne=function(e,t){try{uu(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch{uu(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(te||ne)try{Ie(t)}catch{}else try{t.setAttribute(e,"")}catch{}},De=function(e){let t=null,n=null;if(ee)e="<remove></remove>"+e;else{const t=fu(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===ke&&ye===ge&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const i=w?w.createHTML(e):e;if(ye===ge)try{t=(new f).parseFromString(i,ke)}catch{}if(!t||!t.documentElement){t=S.createDocument(ye,"template",null);try{t.documentElement.innerHTML=be?x:i}catch{}}const o=t.body||t.documentElement;return e&&n&&o.insertBefore(r.createTextNode(n),o.childNodes[0]||null),ye===ge?T.call(t,Z?"html":"body")[0]:Z?t.documentElement:o},Oe=function(e){return E.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Fe=function(e){return e instanceof p&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof h)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Be=function(e){return"function"==typeof l&&e instanceof l};function He(e,t,r){au(e,e=>{e.call(n,t,r,Ce)})}const Ve=function(e){let t=null;if(He(C.beforeSanitizeElements,e,null),Fe(e))return Ie(e),!0;const r=Le(e.nodeName);if(He(C.uponSanitizeElement,e,{tagName:r,allowedTags:F}),K&&e.hasChildNodes()&&!Be(e.firstElementChild)&&yu(/<[/\w!]/g,e.innerHTML)&&yu(/<[/\w!]/g,e.textContent)||e.nodeType===Gu||K&&e.nodeType===Qu&&yu(/<[/\w]/g,e.data))return Ie(e),!0;if(!(q.tagCheck instanceof Function&&q.tagCheck(r))&&(!F[r]||U[r])){if(!U[r]&&Ue(r)&&(j.tagNameCheck instanceof RegExp&&yu(j.tagNameCheck,r)||j.tagNameCheck instanceof Function&&j.tagNameCheck(r)))return!1;if(ae&&!ue[r]){const t=_(e)||e.parentNode,n=b(e)||e.childNodes;if(n&&t){for(let r=n.length-1;r>=0;--r){const i=v(n[r],!0);i.__removalCount=(e.__removalCount||0)+1,t.insertBefore(i,y(e))}}}return Ie(e),!0}return e instanceof u&&!function(e){let t=_(e);(!t||!t.tagName)&&(t={namespaceURI:ye,tagName:"template"});const n=hu(e.tagName),r=hu(t.tagName);return!!_e[e.namespaceURI]&&(e.namespaceURI===ve?t.namespaceURI===ge?"svg"===n:t.namespaceURI===me?"svg"===n&&("annotation-xml"===r||xe[r]):!!Pe[n]:e.namespaceURI===me?t.namespaceURI===ge?"math"===n:t.namespaceURI===ve?"math"===n&&Se[r]:!!ze[n]:e.namespaceURI===ge?!(t.namespaceURI===ve&&!Se[r]||t.namespaceURI===me&&!xe[r])&&!ze[n]&&(Ee[n]||!Pe[n]):!("application/xhtml+xml"!==ke||!_e[e.namespaceURI]))}(e)||("noscript"===r||"noembed"===r||"noframes"===r)&&yu(/<\/no(script|embed|frames)/i,e.innerHTML)?(Ie(e),!0):(Q&&e.nodeType===Xu&&(t=e.textContent,au([M,A,R],e=>{t=du(t,e," ")}),e.textContent!==t&&(uu(n.removed,{element:e.cloneNode()}),e.textContent=t)),He(C.afterSanitizeElements,e,null),!1)},je=function(e,t,n){if(ie&&("id"===t||"name"===t)&&(n in r||n in Me))return!1;if((!Y||$[t]||!yu(P,t))&&!(W&&yu(z,t)||q.attributeCheck instanceof Function&&q.attributeCheck(t,e)))if(!H[t]||$[t]){if(!(Ue(e)&&(j.tagNameCheck instanceof RegExp&&yu(j.tagNameCheck,e)||j.tagNameCheck instanceof Function&&j.tagNameCheck(e))&&(j.attributeNameCheck instanceof RegExp&&yu(j.attributeNameCheck,t)||j.attributeNameCheck instanceof Function&&j.attributeNameCheck(t,e))||"is"===t&&j.allowCustomizedBuiltInElements&&(j.tagNameCheck instanceof RegExp&&yu(j.tagNameCheck,n)||j.tagNameCheck instanceof Function&&j.tagNameCheck(n))))return!1}else if(!fe[t]&&!yu(O,du(n,N,""))&&("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==mu(n,"data:")||!he[e])&&(!X||yu(I,du(n,N,"")))&&n)return!1;return!0},Ue=function(e){return"annotation-xml"!==e&&fu(e,D)},$e=function(e){He(C.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||Fe(e))return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:H,forceKeepAttr:void 0};let i=t.length;for(;i--;){const o=t[i],{name:a,namespaceURI:s,value:l}=o,u=Le(a),c=l;let h="value"===a?c:vu(c);if(r.attrName=u,r.attrValue=h,r.keepAttr=!0,r.forceKeepAttr=void 0,He(C.uponSanitizeAttribute,e,r),h=r.attrValue,oe&&("id"===u||"name"===u)&&(Ne(a,e),h="user-content-"+h),K&&yu(/((--!?|])>)|<\/(style|title|textarea)/i,h)){Ne(a,e);continue}if("attributename"===u&&fu(h,"href")){Ne(a,e);continue}if(r.forceKeepAttr)continue;if(!r.keepAttr){Ne(a,e);continue}if(!G&&yu(/\/>/i,h)){Ne(a,e);continue}Q&&au([M,A,R],e=>{h=du(h,e," ")});const p=Le(e.nodeName);if(je(p,u,h)){if(w&&"object"==typeof d&&"function"==typeof d.getAttributeType&&!s)switch(d.getAttributeType(p,u)){case"TrustedHTML":h=w.createHTML(h);break;case"TrustedScriptURL":h=w.createScriptURL(h)}if(h!==c)try{s?e.setAttributeNS(s,a,h):e.setAttribute(a,h),Fe(e)?Ie(e):lu(n.removed)}catch{Ne(a,e)}}else Ne(a,e)}He(C.afterSanitizeAttributes,e,null)},qe=function e(t){let n=null;const r=Oe(t);for(He(C.beforeSanitizeShadowDOM,t,null);n=r.nextNode();)He(C.uponSanitizeShadowNode,n,null),Ve(n),$e(n),n.content instanceof a&&e(n.content);He(C.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,o=null,s=null,u=null;if(be=!e,be&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Be(e)){if("function"!=typeof e.toString)throw bu("toString is not a function");if("string"!=typeof(e=e.toString()))throw bu("dirty is not a string, aborting")}if(!n.isSupported)return e;if(J||Re(t),n.removed=[],"string"==typeof e&&(se=!1),se){if(e.nodeName){const t=Le(e.nodeName);if(!F[t]||U[t])throw bu("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)r=De("\x3c!----\x3e"),o=r.ownerDocument.importNode(e,!0),o.nodeType===Yu&&"BODY"===o.nodeName||"HTML"===o.nodeName?r=o:r.appendChild(o);else{if(!te&&!Q&&!Z&&-1===e.indexOf("<"))return w&&re?w.createHTML(e):e;if(r=De(e),!r)return te?null:re?x:""}r&&ee&&Ie(r.firstChild);const c=Oe(se?e:r);for(;s=c.nextNode();)Ve(s),$e(s),s.content instanceof a&&qe(s.content);if(se)return e;if(te){if(ne)for(u=k.call(r.ownerDocument);r.firstChild;)u.appendChild(r.firstChild);else u=r;return(H.shadowroot||H.shadowrootmode)&&(u=L.call(i,u,!0)),u}let h=Z?r.outerHTML:r.innerHTML;return Z&&F["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&yu($u,r.ownerDocument.doctype.name)&&(h="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+h),Q&&au([M,A,R],e=>{h=du(h,e," ")}),w&&re?w.createHTML(h):h},n.setConfig=function(){Re(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),J=!0},n.clearConfig=function(){Ce=null,J=!1},n.isValidAttribute=function(e,t,n){Ce||Re({});const r=Le(e),i=Le(t);return je(r,i,n)},n.addHook=function(e,t){"function"==typeof t&&uu(C[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=su(C[e],t);return-1===n?void 0:cu(C[e],n,1)[0]}return lu(C[e])},n.removeHooks=function(e){C[e]=[]},n.removeAllHooks=function(){C={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}(),Ju={grad:.9,turn:360,rad:360/(2*Math.PI)},ec=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},tc=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},nc=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e>t?e:t},rc=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},ic=function(e){return{r:nc(e.r,0,255),g:nc(e.g,0,255),b:nc(e.b,0,255),a:nc(e.a)}},oc=function(e){return{r:tc(e.r),g:tc(e.g),b:tc(e.b),a:tc(e.a,3)}},ac=/^#([0-9a-f]{3,8})$/i,sc=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},lc=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,o=Math.max(t,n,r),a=o-Math.min(t,n,r),s=a?o===t?(n-r)/a:o===n?2+(r-t)/a:4+(t-n)/a:0;return{h:60*(s<0?s+6:s),s:o?a/o*100:0,v:o/255*100,a:i}},uc=function(e){var t=e.h,n=e.s,r=e.v,i=e.a;t=t/360*6,n/=100,r/=100;var o=Math.floor(t),a=r*(1-n),s=r*(1-(t-o)*n),l=r*(1-(1-t+o)*n),u=o%6;return{r:255*[r,s,a,a,l,r][u],g:255*[l,r,r,s,a,a][u],b:255*[a,a,l,r,r,s][u],a:i}},cc=function(e){return{h:rc(e.h),s:nc(e.s,0,100),l:nc(e.l,0,100),a:nc(e.a)}},hc=function(e){return{h:tc(e.h),s:tc(e.s),l:tc(e.l),a:tc(e.a,3)}},pc=function(e){return uc((n=(t=e).s,{h:t.h,s:(n*=((r=t.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:t.a}));var t,n,r},fc=function(e){return{h:(t=lc(e)).h,s:(i=(200-(n=t.s))*(r=t.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var t,n,r,i},dc=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,mc=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,vc=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,gc=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,yc={string:[[function(e){var t=ac.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?tc(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?tc(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=vc.exec(e)||gc.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:ic({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=dc.exec(e)||mc.exec(e);if(!t)return null;var n,r,i=cc({h:(n=t[1],r=t[2],void 0===r&&(r="deg"),Number(n)*(Ju[r]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return pc(i)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,r=e.b,i=e.a,o=void 0===i?1:i;return ec(t)&&ec(n)&&ec(r)?ic({r:Number(t),g:Number(n),b:Number(r),a:Number(o)}):null},"rgb"],[function(e){var t=e.h,n=e.s,r=e.l,i=e.a,o=void 0===i?1:i;if(!ec(t)||!ec(n)||!ec(r))return null;var a=cc({h:Number(t),s:Number(n),l:Number(r),a:Number(o)});return pc(a)},"hsl"],[function(e){var t=e.h,n=e.s,r=e.v,i=e.a,o=void 0===i?1:i;if(!ec(t)||!ec(n)||!ec(r))return null;var a=function(e){return{h:rc(e.h),s:nc(e.s,0,100),v:nc(e.v,0,100),a:nc(e.a)}}({h:Number(t),s:Number(n),v:Number(r),a:Number(o)});return uc(a)},"hsv"]]},bc=function(e,t){for(var n=0;n<t.length;n++){var r=t[n][0](e);if(r)return[r,t[n][1]]}return[null,void 0]},_c=function(e,t){var n=fc(e);return{h:n.h,s:nc(n.s+100*t,0,100),l:n.l,a:n.a}},wc=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},xc=function(e,t){var n=fc(e);return{h:n.h,s:n.s,l:nc(n.l+100*t,0,100),a:n.a}},Sc=function(){function e(e){this.parsed=function(e){return"string"==typeof e?bc(e.trim(),yc.string):"object"==typeof e&&null!==e?bc(e,yc.object):[null,void 0]}(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return tc(wc(this.rgba),2)},e.prototype.isDark=function(){return wc(this.rgba)<.5},e.prototype.isLight=function(){return wc(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=oc(this.rgba)).r,n=e.g,r=e.b,o=(i=e.a)<1?sc(tc(255*i)):"","#"+sc(t)+sc(n)+sc(r)+o;var e,t,n,r,i,o},e.prototype.toRgb=function(){return oc(this.rgba)},e.prototype.toRgbString=function(){return t=(e=oc(this.rgba)).r,n=e.g,r=e.b,(i=e.a)<1?"rgba("+t+", "+n+", "+r+", "+i+")":"rgb("+t+", "+n+", "+r+")";var e,t,n,r,i},e.prototype.toHsl=function(){return hc(fc(this.rgba))},e.prototype.toHslString=function(){return t=(e=hc(fc(this.rgba))).h,n=e.s,r=e.l,(i=e.a)<1?"hsla("+t+", "+n+"%, "+r+"%, "+i+")":"hsl("+t+", "+n+"%, "+r+"%)";var e,t,n,r,i},e.prototype.toHsv=function(){return e=lc(this.rgba),{h:tc(e.h),s:tc(e.s),v:tc(e.v),a:tc(e.a,3)};var e},e.prototype.invert=function(){return Ec({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),Ec(_c(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),Ec(_c(this.rgba,-e))},e.prototype.grayscale=function(){return Ec(_c(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),Ec(xc(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),Ec(xc(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?Ec({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):tc(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=fc(this.rgba);return"number"==typeof e?Ec({h:e,s:t.s,l:t.l,a:t.a}):tc(t.h)},e.prototype.isEqual=function(e){return this.toHex()===Ec(e).toHex()},e}(),Ec=function(e){return e instanceof Sc?e:new Sc(e)},kc=[],Tc=function(e){var t=e/255;return t<.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},Lc=function(e){return.2126*Tc(e.r)+.7152*Tc(e.g)+.0722*Tc(e.b)};!function(e){e.forEach(function(e){kc.indexOf(e)<0&&(e(Sc,yc),kc.push(e))})}([function(e){e.prototype.luminance=function(){return e=Lc(this.rgba),void 0===(t=2)&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0;var e,t,n},e.prototype.contrast=function(t){void 0===t&&(t="#FFF");var n,r,i,o,a,s,l,u=t instanceof e?t:new e(t);return o=this.rgba,a=u.toRgb(),n=(s=Lc(o))>(l=Lc(a))?(s+.05)/(l+.05):(l+.05)/(s+.05),void 0===(r=2)&&(r=0),void 0===i&&(i=Math.pow(10,r)),Math.floor(i*n)/i+0},e.prototype.isReadable=function(e,t){return void 0===e&&(e="#FFF"),void 0===t&&(t={}),this.contrast(e)>=(a=void 0===(o=(n=t).size)?"normal":o,"AAA"===(i=void 0===(r=n.level)?"AA":r)&&"normal"===a?7:"AA"===i&&"large"===a?3:4.5);var n,r,i,o,a}}]);class Cc{hotspot;core;sceneViewCore;isVisible;_dragAndDropApi;_tooltipApi;_popoverApi;_actionApi;element={container:document.createElement("div"),positioner:document.createElement("div"),content:document.createElement("div"),label:document.createElement("div"),icon:document.createElement("div"),image:document.createElement("img"),tooltip:{container:document.createElement("div"),positioner:document.createElement("div"),content:document.createElement("div"),contentBody:document.createElement("div"),arrow:document.createElement("div")},popover:{container:document.createElement("div"),positioner:document.createElement("div"),content:document.createElement("div"),contentBody:document.createElement("div"),close:document.createElement("div")}};firstUpdateView=!0;createDragAndDropApi(){let e=!1,t=null,n=0,r=0,i=0,o=0,a=0,s=0;const l=a=>{if(!this.core.isHotspotDragEnabled()||0!==a.button&&"touch"!==a.pointerType&&!this.core.getViewerContainer())return;const s=this.element.container;s.classList.add("hvr-press"),n=a.clientX,r=a.clientY;const l=s.getBoundingClientRect();i=a.clientX-l.left-l.width/2,o=a.clientY-l.top-l.height/2,e=!1,t=s,document.addEventListener("pointermove",u),document.addEventListener("pointerup",c),document.addEventListener("pointercancel",h)},u=l=>{if(!t)return;const u=this.core.getViewerContainer();if(!u)return;const c=l.clientX-n,h=l.clientY-r;if(Math.sqrt(c*c+h*h)<5)return;e||(e=!0,t.classList.remove("hvr-press"),t.classList.add("hvr-drag"),t.setPointerCapture(l.pointerId),l.preventDefault());const p=u.getBoundingClientRect();a=l.clientX-p.left-i,s=l.clientY-p.top-o;const f=t.getBoundingClientRect(),d=f.width,m=f.height,v=p.width-d,g=p.height-m;a=Math.max(0,Math.min(v,a)),s=Math.max(0,Math.min(g,s)),t.style.left=`${a}px`,t.style.top=`${s}px`},c=n=>{if(t){const r=t,i=e;if(r.hasPointerCapture(n.pointerId)&&r.releasePointerCapture(n.pointerId),r.classList.remove("hvr-press","hvr-drag"),t=null,e=!1,i){n.preventDefault(),n.stopImmediatePropagation();const e=this.core.screenToCoords(a,s);if(e){const t=Gl(e.yaw),n=Gl(e.pitch);this.update({yaw:t,pitch:n}),this.core.emitter.emit("hotspot:drag",{hotspotId:this.hotspot.id,yaw:t,pitch:n})}}}f()},h=n=>{t&&(t.hasPointerCapture(n.pointerId)&&t.releasePointerCapture(n.pointerId),t.classList.remove("hvr-press","hvr-drag"),t=null,e=!1),f()},p=e=>{0===e.button&&this.core.emitter.emit("hotspot:click",{hotspotId:this.hotspot.id})},f=()=>{document.removeEventListener("pointermove",u),document.removeEventListener("pointerup",c),document.removeEventListener("pointercancel",h)};return this.element.content.addEventListener("pointerdown",l),this.element.content.addEventListener("click",p),{destroy:()=>{if(this.element.content.removeEventListener("pointerdown",l),this.element.content.removeEventListener("click",p),f(),t)try{t.releasePointerCapture(t._activePointerId)}catch{}}}}createTooltipApi(){let e=!1,t=!1;const n=e=>{const t=this.element.tooltip.container,n=this.element.content;if(t.classList.contains("hvr-visible")&&t.classList.contains("hvr-pos-f")){const r=n.getBoundingClientRect(),i=e.clientX-r.left,o=e.clientY-r.top;t.style.left=`${i}px`,t.style.top=`${o}px`}},r=e=>{this.element.positioner.append(this.element.tooltip.container),this.element.positioner.offsetWidth,this.element.tooltip.container.removeAttribute("style"),this.element.tooltip.container.classList.add("hvr-visible"),t||(this.element.content.addEventListener("mousemove",n),t=!0)},i=e=>{this.element.tooltip.container.classList.remove("hvr-visible"),this.element.tooltip.container.remove(),this.element.content.removeEventListener("mousemove",n),t=!1};return{enable:()=>{e||(e=!0,this.element.content.addEventListener("mouseenter",r),this.element.content.addEventListener("mouseleave",i))},disable:()=>{e=!1,this.element.content.removeEventListener("mouseenter",r),this.element.content.removeEventListener("mouseleave",i),this.element.tooltip.container.classList.remove("hvr-visible"),this.element.tooltip.container.remove(),t=!1,this.element.content.removeEventListener("mousemove",n)}}}createPopoverApi(){let e=!1;const t=()=>{const e=this.sceneViewCore.updateHotspotZIndex();this.element.container.style.zIndex=`${e}`},n=e=>{const t=this.core.getOverlayContainer();e.target===t&&o()},r=()=>{this.element.popover.container.classList.contains("hvr-visible")?o():i()},i=()=>{if(this.hotspot.popover?.mode!==Fl.Popover){const e=this.core.getOverlayContainer();e?.classList.add("hvr-visible"),e?.append(this.element.popover.container),e?.addEventListener("click",n)}else this.element.positioner.append(this.element.popover.container),this.element.positioner.offsetWidth;this.element.popover.container.removeAttribute("style"),this.element.popover.container.classList.add("hvr-visible")},o=()=>{this.element.popover.container.classList.remove("hvr-visible"),this.element.popover.container.remove();const e=this.core.getOverlayContainer();e?.removeEventListener("click",n),e?.classList.remove("hvr-visible")};return{enable:()=>{e||(e=!0,this.element.content.addEventListener("click",r),this.element.popover.close.addEventListener("click",o),this.element.container.addEventListener("click",t))},disable:()=>{e=!1,this.element.content.removeEventListener("click",r),this.element.popover.close.removeEventListener("click",o),this.element.container.removeEventListener("click",t),this.core.getOverlayContainer()?.removeEventListener("click",n)}}}createActionApi(){let e=!1;const t=e=>{const t=this.hotspot.action;if(t)switch(t.type){case Ol.ChangeScene:{const e=t.target?.sceneId;e&&this.core.showScene(e)&&this.element.content.dispatchEvent(new MouseEvent("mouseleave",{bubbles:!0,cancelable:!0,view:window}))}break;case Ol.FollowLink:t.link&&(e=>{const{url:t,newWindow:n=!1}=e;t?n?window.open(t,"_blank","noopener,noreferrer"):window.location.href=t:console.warn("Attempted to navigate to a link with no URL provided.")})(t.link)}};return{enable:()=>{e||(e=!0,this.element.content.addEventListener("click",t))},disable:()=>{e=!1,this.element.content.removeEventListener("click",t)}}}constructor(e,t,n){this.hotspot={...e,sceneId:e.sceneId},this.core=t,this.sceneViewCore=n,this._dragAndDropApi=this.createDragAndDropApi(),this._tooltipApi=this.createTooltipApi(),this._popoverApi=this.createPopoverApi(),this._actionApi=this.createActionApi(),this.isVisible=!1,this.element.container.classList.add("hvr-hotspot"),this.element.container.setAttribute("data-id",e.id),this.element.positioner.classList.add("hvr-pos"),this.element.content.classList.add("hvr-content"),this.element.icon.classList.add("hvr-icon"),this.element.label.classList.add("hvr-label"),this.element.image.classList.add("hvr-img"),this.element.container.append(this.element.positioner),this.element.positioner.append(this.element.content),this.element.tooltip.container.classList.add("hvr-tooltip"),this.element.tooltip.positioner.classList.add("hvr-pos"),this.element.tooltip.content.classList.add("hvr-content"),this.element.tooltip.contentBody.classList.add("hvr-body"),this.element.tooltip.arrow.classList.add("hvr-arrow"),this.element.tooltip.container.append(this.element.tooltip.positioner),this.element.tooltip.positioner.append(this.element.tooltip.content),this.element.tooltip.content.append(this.element.tooltip.contentBody),this.element.tooltip.content.append(this.element.tooltip.arrow),this.element.popover.container.classList.add("hvr-popover"),this.element.popover.positioner.classList.add("hvr-pos"),this.element.popover.content.classList.add("hvr-content"),this.element.popover.contentBody.classList.add("hvr-body","hvr-tiptap"),this.element.popover.close.classList.add("hvr-close"),this.element.popover.container.append(this.element.popover.positioner),this.element.popover.positioner.append(this.element.popover.content),this.element.popover.content.append(this.element.popover.contentBody),this.element.popover.content.append(this.element.popover.close),this.element.popover.close.innerHTML='\n        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n            <path d="M18 6 6 18"/>\n            <path d="m6 6 12 12"/>\n        </svg>',this.updateView(e)}getContainer(){return this.element.container}afterRender(e){const t={yaw:Xl(this.hotspot.yaw??0),pitch:Xl(this.hotspot.pitch??0)},n={x:0,y:0};e.coordinatesToScreen(t,n),null!=n.x&&null!=n.y?(this.isVisible||(this.isVisible=!0),this.element.container.style.left=`${n.x}px`,this.element.container.style.top=`${n.y}px`):this.isVisible&&(this.isVisible=!1),this.element.container.style.display=this.isVisible?"":"none"}updateView(e,t){(e=>{if("anchor"in e||this.firstUpdateView||t){switch(this.hotspot.anchor){case Il.TopLeft:this.element.container.classList.remove("hvr-anchor-tl");break;case Il.Top:this.element.container.classList.remove("hvr-anchor-t");break;case Il.TopRight:this.element.container.classList.remove("hvr-anchor-tr");break;case Il.Left:this.element.container.classList.remove("hvr-anchor-l");break;case Il.Center:this.element.container.classList.remove("hvr-anchor-c");break;case Il.Right:this.element.container.classList.remove("hvr-anchor-r");break;case Il.BottomLeft:this.element.container.classList.remove("hvr-anchor-bl");break;case Il.Bottom:this.element.container.classList.remove("hvr-anchor-b");break;case Il.BottomRight:this.element.container.classList.remove("hvr-anchor-br");break;default:this.element.container.classList.remove("hvr-anchor-c")}switch(e.anchor){case Il.TopLeft:this.element.container.classList.add("hvr-anchor-tl");break;case Il.Top:this.element.container.classList.add("hvr-anchor-t");break;case Il.TopRight:this.element.container.classList.add("hvr-anchor-tr");break;case Il.Left:this.element.container.classList.add("hvr-anchor-l");break;case Il.Center:this.element.container.classList.add("hvr-anchor-c");break;case Il.Right:this.element.container.classList.add("hvr-anchor-r");break;case Il.BottomLeft:this.element.container.classList.add("hvr-anchor-bl");break;case Il.Bottom:this.element.container.classList.add("hvr-anchor-b");break;case Il.BottomRight:this.element.container.classList.add("hvr-anchor-br");break;default:this.element.container.classList.add("hvr-anchor-c")}}})(e),(e=>{if("type"in e||this.firstUpdateView||t)switch(this.element.content.replaceChildren(),e.type){case zl.Image:this.element.content.append(this.element.image);break;case zl.Icon:this.element.content.append(this.element.icon);break;case zl.Label:this.element.content.append(this.element.label);break;case zl.LabelIcon:this.element.content.append(this.element.label,this.element.icon);break;case zl.IconLabel:default:this.element.content.append(this.element.icon,this.element.label)}})(e),(e=>{if("icon"in e)if(e.icon){const t=new URL(`${e.icon}.svg`,this.core.getResourceUrl("icons")).href;fetch(t).then(e=>{if(!e.ok)throw new Error("SVG load failed");return e.text()}).then(e=>{const t=Zu.sanitize(e,{USE_PROFILES:{svg:!0}});this.element.icon.innerHTML=t}).catch(e=>{console.error("Failed to load SVG:",e)})}else this.element.icon.innerHTML=""})(e),(e=>{"label"in e&&(e.label?this.element.label.innerText=e.label:this.element.label.innerText="")})(e),(e=>{if("image"in e&&(this.element.image.src=e?.image?.url??"",this.element.image._baseClass&&(this.core.removeStyle(this.element.image._baseClass),this.element.image.classList.remove(this.element.image._baseClass),this.element.image._baseClass=void 0),void 0!==e.image?.size)){const t={};t.width=`${e.image.size}px`;const n=this.core.applyStyle(t);n&&(this.element.image._baseClass=n,this.element.image.classList.add(n))}})(e),(e=>{if(!("color"in e||"background"in e||"radius"in e||this.firstUpdateView||t))return;this.element.content._baseClass&&(this.core.removeStyle(this.element.content._baseClass),this.element.content.classList.remove(this.element.content._baseClass),this.element.content._baseClass=void 0);const n={};n.color=("color"in e?e.color:this.hotspot.color)??"transparent",n["background-color"]=("background"in e?e.background:this.hotspot.background)??"transparent";const r="radius"in e?e.radius:this.hotspot.radius;void 0!==r&&(n["border-radius"]=`${r}px`);const i=this.core.applyStyle(n);i&&(this.element.content._baseClass=i,this.element.content.classList.add(i))})(e),(e=>{if("hover"in e&&(this.element.content._hoverClass&&(this.core.removeStyle(this.element.content._hoverClass),this.element.content.classList.remove(this.element.content._hoverClass),this.element.content._hoverClass=void 0),e.hover&&("color"in e.hover||"background"in e.hover))){const t={":hover":{}};"color"in e.hover&&(t[":hover"].color=e.hover.color),"background"in e.hover&&(t[":hover"]["background-color"]=e.hover.background);const n=this.core.applyStyle(t);n&&(this.element.content._hoverClass=n,this.element.content.classList.add(n))}})(e),(e=>{"tooltip"in e&&e.tooltip&&"enabled"in e.tooltip&&(e.tooltip.enabled?this._tooltipApi.enable():this._tooltipApi.disable())})(e),(e=>{if("tooltip"in e&&e.tooltip)switch(this.element.tooltip.container.classList.remove("hvr-pos-t","hvr-pos-b","hvr-pos-l","hvr-pos-r","hvr-pos-f"),e.tooltip.pos){case Nl.Top:this.element.tooltip.container.classList.add("hvr-pos-t");break;case Nl.Bottom:this.element.tooltip.container.classList.add("hvr-pos-b");break;case Nl.Right:this.element.tooltip.container.classList.add("hvr-pos-r");break;case Nl.Left:this.element.tooltip.container.classList.add("hvr-pos-l");break;case Nl.Follow:this.element.tooltip.container.classList.add("hvr-pos-f");break;default:this.element.tooltip.container.classList.add("hvr-pos-t")}})(e),(e=>{"tooltip"in e&&e.tooltip&&(e.tooltip.text?this.element.tooltip.contentBody.textContent=e.tooltip.text:this.element.tooltip.contentBody.textContent="")})(e),(e=>{if(!("tooltip"in e)||!e.tooltip)return;this.element.tooltip.content._baseClass&&(this.core.removeStyle(this.element.tooltip.content._baseClass),this.element.tooltip.content.classList.remove(this.element.tooltip.content._baseClass),this.element.tooltip.content._baseClass=void 0);const t={};t.color=("color"in e.tooltip?e.tooltip.color:this.hotspot.tooltip?.color)??"transparent",t["background-color"]=("background"in e.tooltip?e.tooltip.background:this.hotspot.tooltip?.background)??"transparent";const n="radius"in e.tooltip?e.tooltip.radius:this.hotspot.tooltip?.radius;void 0!==n&&(t["border-radius"]=`${n}px`);const r=this.core.applyStyle(t);r&&(this.element.tooltip.content._baseClass=r,this.element.tooltip.content.classList.add(r))})(e),(e=>{if(!("tooltip"in e)||!e.tooltip)return;this.element.tooltip.arrow._baseClass&&(this.core.removeStyle(this.element.tooltip.arrow._baseClass),this.element.tooltip.arrow.classList.remove(this.element.tooltip.arrow._baseClass),this.element.tooltip.arrow._baseClass=void 0);const t={};t["border-top-color"]=("background"in e.tooltip?e.tooltip.background:this.hotspot.tooltip?.background)??"transparent";const n=this.core.applyStyle(t);n&&(this.element.tooltip.arrow._baseClass=n,this.element.tooltip.arrow.classList.add(n))})(e),(e=>{"popover"in e&&e.popover&&"enabled"in e.popover&&(e.popover.enabled?this._popoverApi.enable():this._popoverApi.disable())})(e),(e=>{if("popover"in e&&e.popover)switch(this.element.popover.container.classList.remove("hvr-pos-t","hvr-pos-b","hvr-pos-l","hvr-pos-r"),e.popover.pos){case Bl.Top:this.element.popover.container.classList.add("hvr-pos-t");break;case Bl.Bottom:this.element.popover.container.classList.add("hvr-pos-b");break;case Bl.Right:this.element.popover.container.classList.add("hvr-pos-r");break;case Bl.Left:this.element.popover.container.classList.add("hvr-pos-l");break;default:this.element.popover.container.classList.add("hvr-pos-t")}})(e),(e=>{"popover"in e&&e.popover&&(e.popover.content?this.element.popover.contentBody.innerHTML=e.popover.content.html:this.element.popover.contentBody.innerHTML="")})(e),(e=>{if(!("popover"in e)||!e.popover)return;this.element.popover.content._baseClass&&(this.core.removeStyle(this.element.popover.content._baseClass),this.element.popover.content.classList.remove(this.element.popover.content._baseClass),this.element.popover.content._baseClass=void 0);const t=("color"in e.popover?e.popover.color:this.hotspot.popover?.color)??"transparent",n=("background"in e.popover?e.popover.background:this.hotspot.popover?.background)??"transparent",r="transparent"!==n?Ec(n).darken(.13).toHex():"transparent",i="transparent"!==r?Ec(r).isLight()?"#000":"#fff":"transparent"!==t?t:"#000",o={};o.color=t,o["background-color"]=n,o.pre={color:i,"background-color":r},o.code={color:r,"background-color":i};const a=this.core.applyStyle(o);a&&(this.element.popover.content._baseClass=a,this.element.popover.content.classList.add(a))})(e),(e=>{if(!("popover"in e)||!e.popover)return;this.element.popover.close._baseClass&&(this.core.removeStyle(this.element.popover.close._baseClass),this.element.popover.close.classList.remove(this.element.popover.close._baseClass),this.element.popover.close._baseClass=void 0);const t=("color"in e.popover?e.popover.color:this.hotspot.popover?.color)??"transparent",n=("background"in e.popover?e.popover.background:this.hotspot.popover?.background)??"transparent",r={};r.color=t,r["background-color"]=n;const i=this.core.applyStyle(r);i&&(this.element.popover.close._baseClass=i,this.element.popover.close.classList.add(i))})(e),(e=>{"action"in e&&e.action&&"enabled"in e.action&&(e.action.enabled?this._actionApi.enable():this._actionApi.disable())})(e),this.firstUpdateView=!1}update(e){Object.assign(this.hotspot,e)}destroy(){this._dragAndDropApi.destroy(),this._tooltipApi.disable(),this._popoverApi.disable(),this._actionApi.disable(),this.element.content._baseClass&&this.core.removeStyle(this.element.content._baseClass),this.element.content._hoverClass&&this.core.removeStyle(this.element.content._hoverClass),this.element.image._baseClass&&this.core.removeStyle(this.element.image._baseClass),this.element.tooltip.content._baseClass&&this.core.removeStyle(this.element.tooltip.content._baseClass),this.element.tooltip.arrow._baseClass&&this.core.removeStyle(this.element.tooltip.arrow._baseClass),this.element.popover.content._baseClass&&this.core.removeStyle(this.element.popover.content._baseClass),this.element.popover.close._baseClass&&this.core.removeStyle(this.element.popover.close._baseClass),this.element.container.remove()}}class Mc{scene;core;_hotspotZIndex=0;_hotspotViewApi;viewpoint;hotspotContainer=document.createElement("div");hotspotViews={};createHotspotViewApi(){return{size:()=>Object.keys(this.hotspotViews).length,has:e=>Object.prototype.hasOwnProperty.call(this.hotspotViews,e),get:e=>this.hotspotViews[e]||null,add:e=>{if(this.hotspotViews[e.id])return console.warn(`Hotspot "${e.id}" already exists`),!1;const t=new Cc(e,this.core,{updateHotspotZIndex:this.updateHotspotZIndex.bind(this)});return this.hotspotViews[e.id]=t,this.hotspotContainer.append(t.getContainer()),this.core.emitter.emit("hotspot:add",{hotspotId:e.id,sceneId:this.scene.id}),!0},remove:e=>{const t=this.hotspotViews[e];return t?(t.destroy(),delete this.hotspotViews[e],this.core.emitter.emit("hotspot:remove",{hotspotId:e,sceneId:t.hotspot.sceneId}),!0):(console.warn(`Hotspot "${e}" not found in store`),!1)},update:(e,t)=>{const n=this.hotspotViews[e];return n?(n.updateView(t),n.update(t),!0):(console.warn(`Hotspot "${e}" not found in store`),!1)}}}updateHotspotZIndex(){return++this._hotspotZIndex}constructor(e,t){this.scene={...e,hotspotIds:[]},this.core=t,this._hotspotViewApi=this.createHotspotViewApi(),this.viewpoint={yaw:e.yaw?Xl(e.yaw):0,pitch:e.pitch?Xl(e.pitch):0,fov:e.fov?Xl(e.fov):Math.PI/2}}get hotspotViewApi(){return this._hotspotViewApi}setViewpoint(e){this.viewpoint.yaw=e.yaw,this.viewpoint.pitch=e.pitch,this.viewpoint.fov=e.fov}afterRender(e){for(const t of Object.keys(this.hotspotViews))this.hotspotViews[t].afterRender(e)}update(e){Object.assign(this.scene,e)}updateView(e){for(const t of Object.keys(this.hotspotViews)){const n=this.hotspotViews[t];n.updateView(n.hotspot,e)}}destroy(){for(const e of Object.keys(this.hotspotViews))this.hotspotViews[e].destroy()}}class Ac{static instances=new Map;viewerId="";getResourceUrl;emitter;emotion;emotionCache=new Map;_viewerApi;_uiApi;_sceneApi;_hotspotApi;_controlApi;hotspotDragEnabled=!1;lastStableStage=null;parentContainer=null;shadowRoot;container;viewerContainer;greetingContainer;greetingButton;canvasContainer;hotspotContainerWrapper;overlayContainer;controlContainer;root=null;controls=new Map;viewerContainerStyle=null;greeting=null;autoRotate=null;hotspotsVisible=!0;controlsVisible=!0;defaultSceneId=null;activeSceneId=null;prevSceneId=null;sceneViews=new Map;marzipano;static get(e){return this.instances.get(e)??null}static create(e,t){const n=this.instances.get(e);if(n)return console.warn(`PanoramaViewer with ID "${e}" already exists`),n;const r=new Ac(e,t);return this.instances.set(e,r),r}constructor(e,t){this.viewerId=e,this.getResourceUrl=t??(()=>""),this.emitter=function(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(e){e(n)}),(r=e.get("*"))&&r.slice().map(function(e){e(t,n)})}}}(),this.container=document.createElement("div"),this.container.className="happyvr",this.shadowRoot=this.container.attachShadow({mode:"open"});const n=document.createElement("style");n.textContent='.happyvr{position:relative;width:100%;height:100%;overflow:hidden;outline:none}.hvr-viewer{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif}.hvr-viewer.hvr-fullscreen{border-radius:0}.hvr-greeting,.hvr-viewer,.hvr-canvas,.hvr-hotspots,.hvr-overlay,.hvr-controls{position:absolute;inset:0}.hvr-viewer{background-repeat:no-repeat;background-position:center center;background-size:cover;overflow:hidden}.hvr-canvas{background-color:#fff}.hvr-canvas canvas{position:absolute;top:0;left:0;height:100%;width:100%}.hvr-greeting,.hvr-canvas,.hvr-hotspots,.hvr-overlay,.hvr-controls{transition:opacity .3s ease;opacity:0;visibility:hidden}.hvr-greeting.hvr-visible,.hvr-canvas.hvr-visible,.hvr-hotspots.hvr-visible,.hvr-overlay.hvr-visible,.hvr-controls.hvr-visible{opacity:1;visibility:visible}.hvr-greeting,.hvr-hotspots,.hvr-overlay,.hvr-controls{pointer-events:none}.hvr-greeting{display:flex;justify-content:center;align-items:center}.hvr-greeting-button{transition:transform .3s ease;padding:20px;font-size:16px;white-space:pre-wrap;text-align:center;user-select:none;cursor:pointer;pointer-events:auto}.hvr-greeting-button:hover{transform:scale(1.05)}.hvr-overlay{display:flex;justify-content:center;align-items:center;background-color:#0000004d;z-index:9999}.hvr-overlay.hvr-visible{pointer-events:auto}.hvr-hotspots>div{width:100%;height:100%}.hvr-hotspots .hvr-hotspot{position:absolute;pointer-events:auto;will-change:left,top}.hvr-hotspots .hvr-hotspot:hover .hvr-popover{z-index:9998}.hvr-hotspots .hvr-hotspot:hover .hvr-tooltip{z-index:9999}.hvr-hotspots .hvr-hotspot.hvr-press>.hvr-pos>.hvr-content{transform:rotate(5deg)}.hvr-hotspots .hvr-hotspot.hvr-drag{opacity:.7;cursor:grabbing}.hvr-hotspots .hvr-hotspot.hvr-anchor-tl>.hvr-pos{transform:translate(0);transform-origin:0% 0%}.hvr-hotspots .hvr-hotspot.hvr-anchor-t>.hvr-pos{transform:translate(-50%);transform-origin:50% 0%}.hvr-hotspots .hvr-hotspot.hvr-anchor-tr>.hvr-pos{transform:translate(-100%);transform-origin:100% 0%}.hvr-hotspots .hvr-hotspot.hvr-anchor-l>.hvr-pos{transform:translateY(-50%);transform-origin:0% 50%}.hvr-hotspots .hvr-hotspot.hvr-anchor-c>.hvr-pos{transform:translate(-50%,-50%);transform-origin:50% 50%}.hvr-hotspots .hvr-hotspot.hvr-anchor-r>.hvr-pos{transform:translate(-100%,-50%);transform-origin:100% 50%}.hvr-hotspots .hvr-hotspot.hvr-anchor-bl>.hvr-pos{transform:translateY(-100%);transform-origin:0% 100%}.hvr-hotspots .hvr-hotspot.hvr-anchor-b>.hvr-pos{transform:translate(-50%,-100%);transform-origin:50% 100%}.hvr-hotspots .hvr-hotspot.hvr-anchor-br>.hvr-pos{transform:translate(-100%,-100%);transform-origin:100% 100%}.hvr-hotspots .hvr-hotspot>.hvr-pos{position:absolute}.hvr-hotspots .hvr-hotspot>.hvr-pos>.hvr-content{transition:background-color .3s ease;display:flex;flex-direction:row;gap:5px;padding:5px;white-space:nowrap;user-select:none;font-size:14px;line-height:22px;max-width:none;cursor:pointer}.hvr-hotspots .hvr-hotspot>.hvr-pos>.hvr-content .hvr-icon{display:block;width:22px;height:22px}.hvr-hotspots .hvr-hotspot>.hvr-pos>.hvr-content .hvr-icon svg{width:100%;height:100%}.hvr-hotspots .hvr-hotspot>.hvr-pos>.hvr-content .hvr-img{display:block;pointer-events:none}.hvr-hotspots .hvr-hotspot>.hvr-pos>.hvr-content>div:empty{display:none}.hvr-hotspots .hvr-tooltip{position:absolute;touch-action:none;pointer-events:none;visibility:hidden}.hvr-hotspots .hvr-tooltip .hvr-pos{transition:transform .3s ease,opacity .3s ease;transform:scale(.9);opacity:0}.hvr-hotspots .hvr-tooltip.hvr-visible{visibility:visible}.hvr-hotspots .hvr-tooltip.hvr-visible .hvr-pos{transform:scale(1);opacity:1}.hvr-hotspots .hvr-tooltip.hvr-pos-t .hvr-arrow,.hvr-hotspots .hvr-tooltip.hvr-pos-b .hvr-arrow,.hvr-hotspots .hvr-tooltip.hvr-pos-l .hvr-arrow,.hvr-hotspots .hvr-tooltip.hvr-pos-r .hvr-arrow{position:absolute;width:0;height:0;border-left:4px solid transparent;border-right:4px solid transparent;border-top-width:4px;border-top-style:solid}.hvr-hotspots .hvr-tooltip.hvr-pos-t{inset:0% auto auto 50%;transform:translate(-50%,-100%) translateY(-5px)}.hvr-hotspots .hvr-tooltip.hvr-pos-t .hvr-arrow{bottom:0;left:50%;transform:translate(-50%,100%) translateY(-1px)}.hvr-hotspots .hvr-tooltip.hvr-pos-b{inset:auto auto 0 50%;transform:translate(-50%,100%) translateY(5px)}.hvr-hotspots .hvr-tooltip.hvr-pos-b .hvr-arrow{top:0;left:50%;transform:translate(-50%,-100%) rotate(180deg) translateY(-1px)}.hvr-hotspots .hvr-tooltip.hvr-pos-l{inset:50% auto auto 0;transform:translate(-100%,-50%) translate(-5px)}.hvr-hotspots .hvr-tooltip.hvr-pos-l .hvr-arrow{right:0;top:50%;transform:translate(70%,-50%) rotate(-90deg)}.hvr-hotspots .hvr-tooltip.hvr-pos-r{inset:50% 0% auto auto;transform:translate(100%,-50%) translate(5px)}.hvr-hotspots .hvr-tooltip.hvr-pos-r .hvr-arrow{left:0;top:50%;transform:translate(-70%,-50%) rotate(90deg)}.hvr-hotspots .hvr-tooltip.hvr-pos-f{inset:auto;transform:translateY(-100%)}.hvr-hotspots .hvr-tooltip.hvr-pos-f .hvr-arrow{display:none}.hvr-hotspots .hvr-tooltip .hvr-pos .hvr-content{padding:10px;font-size:14px;user-select:none}.hvr-hotspots .hvr-tooltip .hvr-pos .hvr-content .hvr-body{white-space:nowrap;line-height:1}.hvr-hotspots .hvr-popover,.hvr-overlay .hvr-popover{position:absolute;visibility:hidden}.hvr-hotspots .hvr-popover .hvr-pos,.hvr-overlay .hvr-popover .hvr-pos{transition:transform .3s ease,opacity .3s ease;transform:scale(.9);opacity:0}.hvr-hotspots .hvr-popover.hvr-visible,.hvr-overlay .hvr-popover.hvr-visible{visibility:visible}.hvr-hotspots .hvr-popover.hvr-visible .hvr-pos,.hvr-overlay .hvr-popover.hvr-visible .hvr-pos{transform:scale(1);opacity:1}.hvr-hotspots .hvr-popover .hvr-content,.hvr-overlay .hvr-popover .hvr-content{display:flex;flex-direction:column;padding:10px;border-radius:5px;box-sizing:border-box}.hvr-hotspots .hvr-popover .hvr-content .hvr-body,.hvr-overlay .hvr-popover .hvr-content .hvr-body{padding:0 10px;overflow-y:auto;--webkit-overflow-scrolling: touch}.hvr-hotspots .hvr-popover .hvr-close,.hvr-overlay .hvr-popover .hvr-close{position:absolute;top:0;right:0;transform:translate(100%) translate(2px);border-radius:5px;cursor:pointer}.hvr-hotspots .hvr-popover .hvr-close svg,.hvr-overlay .hvr-popover .hvr-close svg{transition:opacity .3s ease;display:block;width:100%;height:100%;opacity:.8}.hvr-hotspots .hvr-popover .hvr-close:hover svg,.hvr-overlay .hvr-popover .hvr-close:hover svg{opacity:1}.hvr-hotspots .hvr-popover .hvr-content{width:max-content;max-width:440px;max-height:320px}.hvr-hotspots .hvr-popover.hvr-pos-t{inset:0% auto auto 50%;transform:translate(-50%,-100%) translateY(-5px)}.hvr-hotspots .hvr-popover.hvr-pos-b{inset:auto auto 0 50%;transform:translate(-50%,100%) translateY(5px)}.hvr-hotspots .hvr-popover.hvr-pos-l{inset:50% auto auto 0;transform:translate(-100%,-50%) translate(-5px)}.hvr-hotspots .hvr-popover.hvr-pos-r{inset:50% 0% auto auto;transform:translate(100%,-50%) translate(5px)}.hvr-overlay .hvr-popover{display:flex;justify-content:center;align-items:center;width:clamp(320px,85%,640px);height:calc(100% - 60px);pointer-events:none}.hvr-overlay .hvr-popover .hvr-pos{display:flex;flex-direction:column;max-height:100%;pointer-events:auto}.hvr-overlay .hvr-popover .hvr-content{overflow:auto}.hvr-controls{display:flex;align-items:flex-start;z-index:1}.hvr-controls .hvr-slot{position:absolute;display:flex;flex-direction:row;gap:5px}.hvr-controls .hvr-slot[data-type=tl]{top:5px;left:5px;align-items:flex-start}.hvr-controls .hvr-slot[data-type=t]{top:5px;left:50%;transform:translate(-50%);align-items:flex-start}.hvr-controls .hvr-slot[data-type=tr]{top:5px;right:5px;align-items:flex-start}.hvr-controls .hvr-slot[data-type=l]{flex-direction:column;top:50%;left:5px;transform:translateY(-50%)}.hvr-controls .hvr-slot[data-type=r]{flex-direction:column;top:50%;right:5px;transform:translateY(-50%)}.hvr-controls .hvr-slot[data-type=bl]{bottom:5px;left:5px;align-items:flex-end}.hvr-controls .hvr-slot[data-type=b]{bottom:5px;left:50%;transform:translate(-50%);align-items:flex-end}.hvr-controls .hvr-slot[data-type=br]{bottom:5px;right:5px;align-items:flex-end}.happyvr-tiptap>:first-child,.hvr-tiptap>:first-child{margin-top:.5rem}.happyvr-tiptap h1,.happyvr-tiptap h2,.happyvr-tiptap h3,.happyvr-tiptap h4,.happyvr-tiptap h5,.happyvr-tiptap h6,.hvr-tiptap h1,.hvr-tiptap h2,.hvr-tiptap h3,.hvr-tiptap h4,.hvr-tiptap h5,.hvr-tiptap h6{margin-top:1rem;margin-bottom:.5rem;line-height:1.3;font-weight:600}.happyvr-tiptap h1,.hvr-tiptap h1{margin-bottom:1rem;font-size:1.75rem;font-weight:700}.happyvr-tiptap h2,.hvr-tiptap h2{font-size:1.625rem}.happyvr-tiptap h3,.hvr-tiptap h3{font-size:1.25rem}.happyvr-tiptap h4,.hvr-tiptap h4{font-size:1rem;font-weight:600}.happyvr-tiptap h5,.hvr-tiptap h5{font-size:.875rem;text-transform:uppercase;letter-spacing:.05em}.happyvr-tiptap h6,.hvr-tiptap h6{font-size:.75rem}.happyvr-tiptap p,.hvr-tiptap p{font-size:1rem;line-height:1.6;margin-bottom:.5rem}.happyvr-tiptap a,.hvr-tiptap a{text-decoration:none;font-weight:600;transition:color .15s ease-in-out}.happyvr-tiptap a:hover,.happyvr-tiptap a:focus,.hvr-tiptap a:hover,.hvr-tiptap a:focus{text-decoration:underline;outline:none}.happyvr-tiptap a:not([href]),.hvr-tiptap a:not([href]){color:inherit;font-weight:400;cursor:default}.happyvr-tiptap a:empty,.hvr-tiptap a:empty{display:none}.happyvr-tiptap p code,.hvr-tiptap p code{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,Courier New,monospace;font-size:.875em;padding:.2em .4em;border-radius:3px;word-wrap:break-word}.happyvr-tiptap pre,.hvr-tiptap pre{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,Courier New,monospace;margin:1rem 0;padding:.75rem 1rem;border-radius:.5rem}.happyvr-tiptap pre code,.hvr-tiptap pre code{color:inherit;background-color:inherit;font-size:inherit}.happyvr-tiptap img,.hvr-tiptap img{max-width:100%;height:auto;display:block}.happyvr-tiptap img,.hvr-tiptap img{margin:1rem 0;outline:.125rem solid rgba(0,0,0,0);border-radius:.25rem}.happyvr-tiptap img.ProseMirror-selectednode,.hvr-tiptap img.ProseMirror-selectednode{outline-color:#6229ff}.happyvr-tiptap blockquote,.hvr-tiptap blockquote{position:relative;padding-left:1em;padding-top:.375em;padding-bottom:.375em;margin:1rem 0}.happyvr-tiptap blockquote:before,.hvr-tiptap blockquote:before{content:"";position:absolute;bottom:0;left:0;top:0;height:100%;width:.25em;background-color:currentColor;border-radius:0}.happyvr-tiptap ul,.happyvr-tiptap ol,.hvr-tiptap ul,.hvr-tiptap ol{list-style:disc;margin:1rem 0;padding:0 1.5rem}.happyvr-tiptap ul li p,.happyvr-tiptap ol li p,.hvr-tiptap ul li p,.hvr-tiptap ol li p{margin:0}.happyvr-tiptap .tiptap p code{color:#26292e;background-color:#f3f4f6}.happyvr-tiptap .tiptap pre{color:#f3f4f6;background-color:#26292e}',this.shadowRoot.appendChild(n),this.viewerContainer=document.createElement("div"),this.viewerContainer.className="hvr-viewer",this.shadowRoot.append(this.viewerContainer),this.greetingContainer=document.createElement("div"),this.greetingContainer.className="hvr-greeting",this.greetingButton=document.createElement("div"),this.greetingButton.className="hvr-greeting-button",this.greetingContainer.append(this.greetingButton),this.viewerContainer.append(this.greetingContainer),this.canvasContainer=document.createElement("div"),this.canvasContainer.className="hvr-canvas",this.viewerContainer.append(this.canvasContainer),this.hotspotContainerWrapper=document.createElement("div"),this.hotspotContainerWrapper.className="hvr-hotspots",this.viewerContainer.append(this.hotspotContainerWrapper),this.overlayContainer=document.createElement("div"),this.overlayContainer.className="hvr-overlay",this.viewerContainer.append(this.overlayContainer),this.controlContainer=document.createElement("div"),this.controlContainer.className="hvr-controls",this.viewerContainer.append(this.controlContainer);const r=new hs.Viewer(this.canvasContainer);r.addEventListener("viewChange",this.handleViewChange),r.addEventListener("sceneChange",this.handleSceneChange),r.renderLoop().addEventListener("afterRender",this.handleAfterRender),r.stage().addEventListener("renderComplete",this.handleRenderComplete),this.greetingButton.addEventListener("click",()=>{this.defaultSceneId&&(this.uiApi.resetGreeting(),this.sceneApi.show(this.defaultSceneId))}),document.addEventListener("fullscreenchange",this.handleFullscreenChange),this.marzipano={viewer:r,scenes:{}},this._viewerApi=this.createViewerApi(),this._uiApi=this.createUIApi(),this._sceneApi=this.createSceneApi(),this._hotspotApi=this.createHotspotApi(),this._controlApi=this.createControlApi(),this.emotion=Hl({key:"hvr",container:this.shadowRoot,speedy:!1,stylisPlugins:[]}),this.updateViewerContainerStyle(),this.updateGreeting(),this.updateControls(),this.updateAutoRotate();for(const i of this.sceneViews.values())i.updateView(!0);this.renderControls()}findStyleElementsByClassName(e){const t=[],n=this.shadowRoot.querySelectorAll("style[data-emotion]");for(const r of n)r.textContent?.includes(`.${e}`)&&t.push(r);return t}renderControls(){this.root||(this.root=z.createRoot(this.controlContainer));const e=[],t=[];for(const i of this.controls.values())i.control.properties.slot?e.push(i):t.push(i);const n=new Map;for(const i of e){const e=String(i.control.properties.slot).toLowerCase();n.has(e)||n.set(e,[]),n.get(e).push(i)}const r=()=>l.jsxs(d.StrictMode,{children:[t.map(e=>l.jsx(e.component,{id:e.control.id,api:this,...e.control.properties},e.control.id)),jl.map(e=>l.jsx("div",{className:"hvr-slot","data-type":e,children:n.get(e)?.map(e=>l.jsx(e.component,{id:e.control.id,api:this,...e.control.properties},e.control.id))},`slot-${e}`))]});this.root.render(l.jsx(r,{}))}updateEmotion(){this.emotion=Hl({key:"hvr",container:this.shadowRoot,speedy:!1,stylisPlugins:[]})}getViewerContainer(){return this.viewerContainer}getOverlayContainer(){return this.overlayContainer}updateViewerContainerStyle(){if(this.viewerContainer._baseClass&&(this.uiApi.removeStyle(this.viewerContainer._baseClass),this.viewerContainer.classList.remove(this.viewerContainer._baseClass),this.viewerContainer._baseClass=void 0),this.viewerContainerStyle){const e={};this.viewerContainerStyle.background&&(e["background-color"]=`${this.viewerContainerStyle.background}`),this.viewerContainerStyle.imageUrl&&(e["background-image"]=`url(${this.viewerContainerStyle.imageUrl})`),this.viewerContainerStyle.radius&&(e["border-radius"]=`${this.viewerContainerStyle.radius}px`);const t=this.uiApi.applyStyle(e);t&&(this.viewerContainer._baseClass=t,this.viewerContainer.classList.add(t))}}updateGreeting(){if(this.greetingButton._baseClass&&(this.uiApi.removeStyle(this.greetingButton._baseClass),this.greetingButton.classList.remove(this.greetingButton._baseClass),this.greetingButton._baseClass=void 0),this.greeting&&this.greeting.enabled){const e={};if(this.greetingContainer.classList.add("hvr-visible"),this.greeting.color&&(e.color=`${this.greeting.color}`),this.greeting.background&&(e["background-color"]=`${this.greeting.background}`),this.greeting.radius&&(e["border-radius"]=`${this.greeting.radius}px`),this.greetingButton.replaceChildren(),this.greeting.mode!==Pl.Image)this.greetingButton.textContent=this.greeting.text??"";else if(this.greeting.image?.url){const e=document.createElement("img");e.src=this.greeting.image.url,void 0!==this.greeting.image.size&&(e.style.width=`${this.greeting.image.size}px`),this.greetingButton.append(e)}const t=this.uiApi.applyStyle(e);t&&(this.greetingButton._baseClass=t,this.greetingButton.classList.add(t))}else this.greetingContainer.classList.remove("hvr-visible"),this.greetingButton.textContent=""}updateAutoRotate(){if(this.autoRotate?.enabled){const e=hs.autorotate({yawSpeed:this.autoRotate.speed??.1,yawAccel:1});this.marzipano.viewer.setIdleMovement(this.autoRotate.inactivityDelay??3e3,e)}else this.marzipano.viewer.setIdleMovement(1/0)}updateHotspots(){this.hotspotsVisible&&this.activeSceneId?this.hotspotContainerWrapper.classList.add("hvr-visible"):this.hotspotContainerWrapper.classList.remove("hvr-visible")}updateControls(){this.controlsVisible&&this.activeSceneId?this.controlContainer.classList.add("hvr-visible"):this.controlContainer.classList.remove("hvr-visible")}createScene(e){const t=e.scene,n=t.yaw?t.yaw*(Math.PI/180):0,r=t.pitch?t.pitch*(Math.PI/180):0,i=t.fov?t.fov*(Math.PI/180):Math.PI/2,o=Wl(t.id,this.getResourceUrl,t.pano),a=Yl(t.pano),s=new hs.RectilinearView({yaw:n,pitch:r,fov:i});return this.marzipano.viewer.createScene({source:o,geometry:a,view:s,pinFirstLevel:!0})}getSceneView(e){return this.sceneViews.get(e)??null}screenToCoords(e,t){const n=this.marzipano.viewer.view();return n?n.screenToCoordinates({x:e,y:t}):null}handleViewChange=()=>{const e=this.viewerApi.getViewpoint();e&&(this.activeSceneId&&this.getSceneView(this.activeSceneId)?.setViewpoint(e),this.emitter.emit("viewer:look:change",{viewpoint:e}))};handleSceneChange=()=>{this.emitter.emit("viewer:scene:change",{newSceneId:this.activeSceneId,oldSceneId:this.prevSceneId})};handleAfterRender=()=>{if(!this.activeSceneId)return;const e=this.getSceneView(this.activeSceneId);if(e){const t=this.marzipano.viewer.view();e.afterRender(t)}};handleRenderComplete=e=>{this.emitter.emit("viewer:render:stable",{isStable:e}),null===this.lastStableStage?e?this.emitter.emit("viewer:load:status",{status:"end"}):this.emitter.emit("viewer:load:status",{status:"start"}):!0===this.lastStableStage&&!1===e?this.emitter.emit("viewer:load:status",{status:"start"}):!1===this.lastStableStage&&!0===e&&this.emitter.emit("viewer:load:status",{status:"end"}),this.lastStableStage=e};handleFullscreenChange=()=>{const e=document.fullscreenElement===this.container;e?this.viewerContainer.classList.add("hvr-fullscreen"):this.viewerContainer.classList.remove("hvr-fullscreen"),this.viewerApi.resize(),this.emitter.emit("viewer:fullscreen:change",{isEnabled:e})};createViewerApi(){return{getId:()=>this.viewerId,get:()=>this.marzipano.viewer,refresh:()=>{this.marzipano.viewer.renderLoop().renderOnNextFrame()},resize:()=>{this.marzipano.viewer.updateSize()},lookTo:e=>{const t=this.marzipano.viewer.scene();if(!t)return;const n=t.view(),r=void 0!==e.yaw?e.yaw:n.yaw(),i=void 0!==e.pitch?e.pitch:n.pitch(),o=void 0!==e.fov?e.fov:n.fov();t.lookTo({yaw:r,pitch:i,fov:o})},zoomBy:e=>{const t=this.marzipano.viewer.scene();if(!t)return;const n=t.view();n.setFov(n.fov()+e)},getViewpoint:()=>{const e=this.marzipano.viewer.view();return{yaw:e.yaw(),pitch:e.pitch(),fov:e.fov()}},toggleHotspotDrag:()=>{this.hotspotDragEnabled=!this.hotspotDragEnabled},enableHotspotDrag:()=>{this.hotspotDragEnabled=!0},disableHotspotDrag:()=>{this.hotspotDragEnabled=!1},isHotspotDragEnabled:()=>this.hotspotDragEnabled,setAutoRotate:e=>{e&&(this.autoRotate=e,this.updateAutoRotate())},getAutoRotate:()=>this.autoRotate,toggleFullscreen:()=>{document.fullscreenEnabled?this.viewerApi.isFullscreen()?document.exitFullscreen().catch(e=>{console.error("Failed to exit fullscreen:",e)}):this.container.requestFullscreen().catch(e=>{console.error("Failed to enter fullscreen:",e)}):console.warn("Fullscreen mode is not enabled in this browser")},isFullscreen:()=>document.fullscreenElement===this.container}}createUIApi(){return{setViewerContainerStyle:e=>{e&&(this.viewerContainerStyle=e,this.updateViewerContainerStyle())},resetViewerContainerStyle:()=>{this.viewerContainerStyle=null,this.updateViewerContainerStyle()},setGreeting:e=>{e&&(this.greeting=e,this.updateGreeting())},getGreeting:()=>this.greeting,resetGreeting:()=>{this.greeting=null,this.updateGreeting()},showHotspots:()=>{this.hotspotsVisible=!0,this.updateHotspots()},hideHotspots:()=>{this.hotspotsVisible=!1,this.updateHotspots()},areHotspotsVisible:()=>this.hotspotsVisible,showControls:()=>{this.controlsVisible=!0,this.updateControls()},hideControls:()=>{this.controlsVisible=!1,this.updateControls()},areControlsVisible:()=>this.controlsVisible,getControlContainer:()=>this.controlContainer,getShadowRoot:()=>this.shadowRoot,applyStyle:e=>{const t=this.emotion.css(e);if(this.emotionCache.has(t)){return this.emotionCache.get(t).count+=1,t}return this.emotionCache.set(t,{count:1}),t},removeStyle:e=>{const t=this.emotionCache.get(e);t&&(t.count-=1,0===t.count&&(this.emotionCache.delete(e),this.findStyleElementsByClassName(e).forEach(e=>{e.remove()}),this.updateEmotion()))},getResourceUrl:e=>this.getResourceUrl(e),generateId:()=>((e=10)=>$l("0123456789abcdefghijklmnopqrstuvwxyz",e)())()}}createSceneApi(){return{size:()=>this.sceneViews.size,has:e=>this.sceneViews.has(e),get:e=>{const t=this.sceneViews.get(e);return t?t.scene:null},getIndex:e=>{let t=0;for(const n of this.sceneViews.keys()){if(n===e)return t;t++}return null},getActive:()=>{const e=this.activeSceneId;if(!e)return null;const t=this.sceneViews.get(e);return t?t.scene:null},getList:()=>{const e=[];return this.sceneViews.forEach(t=>e.push(t.scene)),e},getNext:e=>{const t=this.activeSceneId;if(!t)return null;const n=Array.from(this.sceneViews.keys()),r=n.indexOf(t);if(-1===r)return null;let i;if(e)i=(r+1)%n.length;else if(i=r+1,i>=n.length)return null;const o=n[i],a=this.sceneViews.get(o);return a?a.scene:null},getPrev:e=>{const t=this.activeSceneId;if(!t)return null;const n=Array.from(this.sceneViews.keys()),r=n.indexOf(t);if(-1===r)return null;let i;if(e)i=(r-1+n.length)%n.length;else if(i=r-1,i<0)return null;const o=n[i],a=this.sceneViews.get(o);return a?a.scene:null},setDefault:e=>{this.defaultSceneId=e},getDefault:()=>this.defaultSceneId,updatePano:(e,t)=>{const n=this.sceneViews.get(e);if(!n)return console.warn(`Scene "${e}" not found in store`),!1;n.update({pano:t});const r=this.marzipano.scenes[e];return r&&(r.destroyAllLayers(),r.createLayer({source:Wl(e,this.getResourceUrl,t),geometry:Yl(t),pinFirstLevel:!0}),this.emitter.emit("scene:pano:change",{sceneId:e})),!0},update:(e,t)=>{const n=this.sceneViews.get(e);return n?(n.update(t),!0):(console.warn(`Scene "${e}" not found in store`),!1)},add:e=>{if(this.sceneViews.has(e.id))return console.warn(`Scene "${e.id}" already exists`),!1;const t=new Mc(e,{emitter:this.emitter,getResourceUrl:this.getResourceUrl.bind(this),screenToCoords:this.screenToCoords.bind(this),getViewerContainer:this.getViewerContainer.bind(this),getOverlayContainer:this.getOverlayContainer.bind(this),isHotspotDragEnabled:this.viewerApi.isHotspotDragEnabled.bind(this),applyStyle:this.uiApi.applyStyle.bind(this),removeStyle:this.uiApi.removeStyle.bind(this),showScene:this.sceneApi.show.bind(this)});return this.sceneViews.set(e.id,t),this.emitter.emit("scene:add",{sceneId:e.id}),!0},remove:e=>{const t=this.sceneViews.get(e);if(!t)return console.warn(`Scene "${e}" not found in store`),!1;this.activeSceneId===e&&this.sceneApi.hide();const n=this.marzipano.scenes[e];return n&&(this.marzipano.viewer?.destroyScene(n),delete this.marzipano.scenes[e]),t.destroy(),this.sceneViews.delete(e),this.emitter.emit("scene:remove",{sceneId:e}),!0},move:(e,t)=>{const n=Array.from(this.sceneViews.keys());for(const s of e)if(!this.sceneViews.has(s))return console.warn(`Scene with id "${s}" not found in sceneViews`),!1;const r=n.filter(t=>!e.includes(t)),i=Math.max(0,Math.min(t,r.length)),o=[...r.slice(0,i),...e,...r.slice(i)],a=new Map;for(const s of o)a.set(s,this.sceneViews.get(s));return this.sceneViews=a,!0},show:e=>{const t=this.sceneViews.get(e);if(!t)return console.warn(`Scene "${e}" not found in store`),!1;const n=this.canvasContainer,r=this.hotspotContainerWrapper,i=this.overlayContainer;if(this.activeSceneId===e)return!1;let o=this.marzipano.scenes[e];o||(o=this.createScene(t),this.marzipano.scenes[e]=o),r.style.transition="none",r.classList.remove("hvr-visible"),r.offsetWidth,r.style.transition="",r.replaceChildren(),r.appendChild(t.hotspotContainer),i.style.transition="none",i.classList.remove("hvr-visible"),i.offsetWidth,i.style.transition="",i.replaceChildren(),this.prevSceneId=this.activeSceneId,this.activeSceneId=e,this.prevSceneId&&this.emitter.emit("scene:hide",{sceneId:this.prevSceneId});const a=o.view();return a.setYaw(t.viewpoint.yaw??0),a.setPitch(t.viewpoint.pitch??0),a.setFov(t.viewpoint.fov??Math.PI/2),this.prevSceneId&&n.classList.add("hvr-visible"),this.viewerApi.resize(),o.switchTo({transitionDuration:300},()=>{n.classList.add("hvr-visible"),this.updateHotspots(),this.updateControls()}),this.emitter.emit("scene:show",{sceneId:e}),!0},hide:()=>{const e=this.activeSceneId;if(!e)return console.warn("No active scene"),!1;const t=this.canvasContainer,n=this.hotspotContainerWrapper,r=this.overlayContainer;return t.classList.remove("hvr-visible"),n.classList.remove("hvr-visible"),n.replaceChildren(),r.classList.remove("hvr-visible"),r.replaceChildren(),this.prevSceneId=e,this.activeSceneId=null,this.updateControls(),this.emitter.emit("scene:hide",{sceneId:e}),!0}}}createHotspotApi(){return{size:e=>{if(void 0!==e){const t=this.sceneViews.get(e);return t?t.hotspotViewApi.size():0}{let e=0;for(const t of this.sceneViews.values())e+=t.hotspotViewApi.size();return e}},has:(e,t)=>{if(void 0!==t){const n=this.sceneViews.get(t);return!!n&&n.hotspotViewApi.has(e)}return Array.from(this.sceneViews.values()).some(t=>t.hotspotViewApi.has(e))},get:(e,t)=>{if(void 0!==t){const n=this.sceneViews.get(t);return n?n.hotspotViewApi.get(e)?.hotspot??null:(console.warn(`Scene "${t}" not found in store`),null)}for(const n of this.sceneViews.values()){const t=n.hotspotViewApi.get(e);if(void 0!==t?.hotspot)return t.hotspot}return null},add:(e,t)=>{const n=this.sceneViews.get(t);return n?n.hotspotViewApi.add(e):(console.warn(`Scene "${t}" not found in store`),!1)},remove:(e,t)=>{if(void 0!==t){const n=this.sceneViews.get(t);return n?n.hotspotViewApi.remove(e):(console.warn(`Scene "${t}" not found in store`),!1)}{let t=!1;for(const n of this.sceneViews.values())n.hotspotViewApi.has(e)&&(n.hotspotViewApi.remove(e),t=!0);return t}},update:(e,t,n)=>{if(void 0!==n){const r=this.sceneViews.get(n);return r?r.hotspotViewApi.update(e,t):(console.warn(`Scene "${n}" not found in store`),!1)}for(const r of this.sceneViews.values())if(r.hotspotViewApi.has(e))return r.hotspotViewApi.update(e,t);return!1}}}createControlApi(){return{size:()=>this.controls.size,has:e=>this.controls.has(e),update:(e,t)=>{const n=this.controls.get(e);if(!n)return console.warn(`Control "${e}" not found in store`),!1;const r={...n.control,...t.properties&&{properties:{...n.control.properties,...t.properties}}};return this.controls.set(e,{control:r,component:n.component}),this.renderControls(),!0},add:(e,t)=>this.controls.has(e.id)?(console.warn(`Control "${e.id}" already exists`),!1):(this.controls.set(e.id,{control:e,component:t}),this.renderControls(),this.emitter.emit("control:add",{controlId:e.id}),!0),remove:e=>this.controls.get(e)?(this.controls.delete(e),this.renderControls(),this.emitter.emit("control:remove",{controlId:e}),!0):(console.warn(`Control "${e}" not found in store`),!1),move:(e,t)=>{const n=Array.from(this.controls.keys());for(const s of e)if(!this.controls.has(s))return console.warn(`Control with id "${s}" not found in controls`),!1;const r=n.filter(t=>!e.includes(t)),i=Math.max(0,Math.min(t,r.length)),o=[...r.slice(0,i),...e,...r.slice(i)],a=new Map;for(const s of o)a.set(s,this.controls.get(s));return this.controls=a,this.renderControls(),!0}}}on(e,t){return this.emitter.on(e,t),()=>this.emitter.off(e,t)}isAttached(){return!!this.parentContainer}attach(e){this.parentContainer!==e?e.append(this.container):console.warn("PanoramaViewer container is already attached")}detach(){this.parentContainer?.replaceChildren(),this.parentContainer=null}get viewerApi(){return this._viewerApi}get uiApi(){return this._uiApi}get sceneApi(){return this._sceneApi}get hotspotApi(){return this._hotspotApi}get controlApi(){return this._controlApi}}function Rc(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Rc(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Pc(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Rc(e))&&(r&&(r+=" "),r+=t);return r}var zc,Ic,Nc,Dc,Oc,Fc,Bc,Hc,Vc,jc,Uc;(Ic=zc||(zc={})).TopLeft="tl",Ic.Top="t",Ic.TopRight="tr",Ic.Left="l",Ic.Right="r",Ic.BottomLeft="bl",Ic.Bottom="b",Ic.BottomRight="br",zc.TopLeft,zc.Top,zc.TopRight,zc.Left,zc.Right,zc.BottomLeft,zc.Bottom,zc.BottomRight,function(e){e.AutoDraft="auto-draft",e.Draft="draft",e.Publish="publish"}(Nc||(Nc={})),function(e){e.Text="text",e.Image="image"}(Dc||(Dc={})),Dc.Text,Dc.Image,function(e){e.Icon="icon",e.Label="label",e.IconLabel="icon-label",e.LabelIcon="label-icon",e.Image="image"}(Oc||(Oc={})),Oc.Icon,Oc.Label,Oc.IconLabel,Oc.LabelIcon,Oc.Image,function(e){e.TopLeft="tl",e.Top="t",e.TopRight="tr",e.Left="l",e.Center="c",e.Right="r",e.BottomLeft="bl",e.Bottom="b",e.BottomRight="br"}(Fc||(Fc={})),Fc.TopLeft,Fc.Top,Fc.TopRight,Fc.Left,Fc.Center,Fc.Right,Fc.BottomLeft,Fc.Bottom,Fc.BottomRight,function(e){e.Top="t",e.Left="l",e.Right="r",e.Bottom="b",e.Follow="f"}(Bc||(Bc={})),Bc.Top,Bc.Left,Bc.Right,Bc.Bottom,Bc.Follow,function(e){e.Default="default",e.Current="current",e.Manual="manual"}(Hc||(Hc={})),Hc.Default,Hc.Current,Hc.Manual,function(e){e.ChangeScene="scene",e.FollowLink="link"}(Vc||(Vc={})),Vc.ChangeScene,Vc.FollowLink,function(e){e.Popover="popover",e.Dialog="dialog"}(jc||(jc={})),jc.Popover,jc.Dialog,function(e){e.Top="t",e.Left="l",e.Right="r",e.Bottom="b"}(Uc||(Uc={})),Uc.Top,Uc.Left,Uc.Right,Uc.Bottom;const $c={type:"TourLogo",name:"Tour Logo",description:"Displays a logo for the virtual tour",createInitialProperties:()=>({slot:zc.TopLeft,background:"#000000bb",radius:4,image:void 0,link:void 0})},qc=e=>{const{api:t,background:n,radius:r,image:i,link:o}=e,[a,s]=f.useState(""),[u,c]=f.useState("");return f.useLayoutEffect(()=>{const e=t.uiApi.applyStyle(`\n            display: inline-flex;\n            padding: 10px;\n            line-height: 1;\n            user-select: none;\n            background: ${n||"transparent"};\n            border-radius: ${r?r+"px":"0"};\n            cursor: pointer;\n            pointer-events: all;\n        `),o=t.uiApi.applyStyle(`\n            width: ${i?.size?i?.size+"px":"auto"};\n        `);if(e&&o)return s(e),c(o),()=>{t.uiApi.removeStyle(e),t.uiApi.removeStyle(o)}},[t,n,r]),i?.url?o?.url?l.jsx("a",{className:Pc("hvr-control",a),href:o.url,target:o.newWindow?"_blank":"_self",rel:"noopener noreferrer",children:l.jsx("img",{className:u,src:i?.url})}):l.jsx("div",{className:Pc("hvr-control",a),children:l.jsx("img",{className:u,src:i?.url})}):l.jsx(l.Fragment,{})};function Wc(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Wc(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Yc(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Wc(e))&&(r&&(r+=" "),r+=t);return r}var Xc,Gc,Qc,Kc,Zc,Jc,eh,th,nh,rh;!function(e){e.TopLeft="tl",e.Top="t",e.TopRight="tr",e.Left="l",e.Right="r",e.BottomLeft="bl",e.Bottom="b",e.BottomRight="br"}(Xc||(Xc={})),Xc.TopLeft,Xc.Top,Xc.TopRight,Xc.Left,Xc.Right,Xc.BottomLeft,Xc.Bottom,Xc.BottomRight,function(e){e.AutoDraft="auto-draft",e.Draft="draft",e.Publish="publish"}(Gc||(Gc={})),function(e){e.Text="text",e.Image="image"}(Qc||(Qc={})),Qc.Text,Qc.Image,function(e){e.Icon="icon",e.Label="label",e.IconLabel="icon-label",e.LabelIcon="label-icon",e.Image="image"}(Kc||(Kc={})),Kc.Icon,Kc.Label,Kc.IconLabel,Kc.LabelIcon,Kc.Image,function(e){e.TopLeft="tl",e.Top="t",e.TopRight="tr",e.Left="l",e.Center="c",e.Right="r",e.BottomLeft="bl",e.Bottom="b",e.BottomRight="br"}(Zc||(Zc={})),Zc.TopLeft,Zc.Top,Zc.TopRight,Zc.Left,Zc.Center,Zc.Right,Zc.BottomLeft,Zc.Bottom,Zc.BottomRight,function(e){e.Top="t",e.Left="l",e.Right="r",e.Bottom="b",e.Follow="f"}(Jc||(Jc={})),Jc.Top,Jc.Left,Jc.Right,Jc.Bottom,Jc.Follow,function(e){e.Default="default",e.Current="current",e.Manual="manual"}(eh||(eh={})),eh.Default,eh.Current,eh.Manual,function(e){e.ChangeScene="scene",e.FollowLink="link"}(th||(th={})),th.ChangeScene,th.FollowLink,function(e){e.Popover="popover",e.Dialog="dialog"}(nh||(nh={})),nh.Popover,nh.Dialog,function(e){e.Top="t",e.Left="l",e.Right="r",e.Bottom="b"}(rh||(rh={})),rh.Top,rh.Left,rh.Right,rh.Bottom;const ih={type:"SceneTitle",name:"Scene Title",description:"Shows the current scene title",createInitialProperties:()=>({slot:Xc.BottomLeft,color:"#fff",background:"#000000bb",radius:4})},oh=e=>{const{api:t,color:n,background:r,radius:i}=e,[o,a]=f.useState(""),[s,u]=f.useState();return f.useLayoutEffect(()=>{const e=t.uiApi.applyStyle(`\n            display: inline-flex;\n            padding: 5px 10px;\n            font-size: 14px;\n            line-height: 22px;\n            white-space: nowrap;\n            user-select: none;\n            color: ${n||"transparent"};\n            background: ${r||"transparent"};\n            border-radius: ${i?i+"px":"0"};\n        `);if(e)return a(e),()=>{t.uiApi.removeStyle(e)}},[t,n,r,i]),f.useLayoutEffect(()=>{const e=t.sceneApi.getActive();e&&u(e.title)},[t]),f.useEffect(()=>{const e=[];return e.push(t.on("scene:show",({sceneId:e})=>{const n=t.sceneApi.get(e);u(n?.title)})),()=>{e.forEach(e=>e())}},[t]),s?l.jsx("div",{className:Yc("hvr-control",o),children:s}):l.jsx(l.Fragment,{})};function ah(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=ah(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function sh(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=ah(e))&&(r&&(r+=" "),r+=t);return r}var lh,uh,ch,hh,ph,fh,dh,mh,vh,gh;!function(e){e.TopLeft="tl",e.Top="t",e.TopRight="tr",e.Left="l",e.Right="r",e.BottomLeft="bl",e.Bottom="b",e.BottomRight="br"}(lh||(lh={})),lh.TopLeft,lh.Top,lh.TopRight,lh.Left,lh.Right,lh.BottomLeft,lh.Bottom,lh.BottomRight,function(e){e.AutoDraft="auto-draft",e.Draft="draft",e.Publish="publish"}(uh||(uh={})),function(e){e.Text="text",e.Image="image"}(ch||(ch={})),ch.Text,ch.Image,function(e){e.Icon="icon",e.Label="label",e.IconLabel="icon-label",e.LabelIcon="label-icon",e.Image="image"}(hh||(hh={})),hh.Icon,hh.Label,hh.IconLabel,hh.LabelIcon,hh.Image,function(e){e.TopLeft="tl",e.Top="t",e.TopRight="tr",e.Left="l",e.Center="c",e.Right="r",e.BottomLeft="bl",e.Bottom="b",e.BottomRight="br"}(ph||(ph={})),ph.TopLeft,ph.Top,ph.TopRight,ph.Left,ph.Center,ph.Right,ph.BottomLeft,ph.Bottom,ph.BottomRight,function(e){e.Top="t",e.Left="l",e.Right="r",e.Bottom="b",e.Follow="f"}(fh||(fh={})),fh.Top,fh.Left,fh.Right,fh.Bottom,fh.Follow,function(e){e.Default="default",e.Current="current",e.Manual="manual"}(dh||(dh={})),dh.Default,dh.Current,dh.Manual,function(e){e.ChangeScene="scene",e.FollowLink="link"}(mh||(mh={})),mh.ChangeScene,mh.FollowLink,function(e){e.Popover="popover",e.Dialog="dialog"}(vh||(vh={})),vh.Popover,vh.Dialog,function(e){e.Top="t",e.Left="l",e.Right="r",e.Bottom="b"}(gh||(gh={})),gh.Top,gh.Left,gh.Right,gh.Bottom;const yh={type:"SceneNav",name:"Scene Navigation",description:"Navigates between scenes in a loop",createInitialProperties:()=>({slot:lh.BottomRight,color:"#fff",background:"#000000bb",radius:4})},bh=e=>{const{api:t,color:n,background:r,radius:i}=e,[o,a]=f.useState(0),[s,u]=f.useState("");f.useLayoutEffect(()=>{const e=t.uiApi.applyStyle(`\n            display: inline-flex;\n            flex-direction: row;\n            gap: 5px;\n            \n            & button {\n                all: unset;\n                display: block;\n                padding: 5px;\n                width: 22px;\n                height: 22px;\n                pointer-events: all;\n                cursor: pointer;\n                color: ${n||"transparent"};\n                background: ${r||"transparent"};\n                border-radius: ${i?i+"px":"0"};\n            }\n\n            & svg {\n                display: block;\n                width: 100%;\n                height: 100%;    \n            }\n        `);if(e)return u(e),()=>{t.uiApi.removeStyle(e)}},[t,n,r,i]),f.useEffect(()=>{const e=[];return a(t.sceneApi.size()),e.push(t.on("scene:add",()=>{a(t.sceneApi.size())})),e.push(t.on("scene:remove",()=>{a(t.sceneApi.size())})),()=>{e.forEach(e=>e())}},[t]);return l.jsxs("div",{className:sh("hvr-control",s),children:[l.jsx("button",{type:"button",onClick:()=>{const e=t.sceneApi.getPrev(!0);e&&t.sceneApi.show(e.id)},"aria-label":"Go to previous scene",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:l.jsx("path",{d:"m15 18-6-6 6-6"})})}),l.jsx("button",{type:"button",onClick:()=>{const e=t.sceneApi.getNext(!0);e&&t.sceneApi.show(e.id)},"aria-label":"Go to next scene",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:l.jsx("path",{d:"m9 18 6-6-6-6"})})})]})};function _h(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=_h(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function wh(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=_h(e))&&(r&&(r+=" "),r+=t);return r}var xh,Sh,Eh,kh,Th,Lh,Ch,Mh,Ah,Rh,Ph={grad:.9,turn:360,rad:360/(2*Math.PI)},zh=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},Ih=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},Nh=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e>t?e:t},Dh=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},Oh=function(e){return{r:Nh(e.r,0,255),g:Nh(e.g,0,255),b:Nh(e.b,0,255),a:Nh(e.a)}},Fh=function(e){return{r:Ih(e.r),g:Ih(e.g),b:Ih(e.b),a:Ih(e.a,3)}},Bh=/^#([0-9a-f]{3,8})$/i,Hh=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},Vh=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,o=Math.max(t,n,r),a=o-Math.min(t,n,r),s=a?o===t?(n-r)/a:o===n?2+(r-t)/a:4+(t-n)/a:0;return{h:60*(s<0?s+6:s),s:o?a/o*100:0,v:o/255*100,a:i}},jh=function(e){var t=e.h,n=e.s,r=e.v,i=e.a;t=t/360*6,n/=100,r/=100;var o=Math.floor(t),a=r*(1-n),s=r*(1-(t-o)*n),l=r*(1-(1-t+o)*n),u=o%6;return{r:255*[r,s,a,a,l,r][u],g:255*[l,r,r,s,a,a][u],b:255*[a,a,l,r,r,s][u],a:i}},Uh=function(e){return{h:Dh(e.h),s:Nh(e.s,0,100),l:Nh(e.l,0,100),a:Nh(e.a)}},$h=function(e){return{h:Ih(e.h),s:Ih(e.s),l:Ih(e.l),a:Ih(e.a,3)}},qh=function(e){return jh((n=(t=e).s,{h:t.h,s:(n*=((r=t.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:t.a}));var t,n,r},Wh=function(e){return{h:(t=Vh(e)).h,s:(i=(200-(n=t.s))*(r=t.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var t,n,r,i},Yh=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Xh=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Gh=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Qh=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Kh={string:[[function(e){var t=Bh.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?Ih(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?Ih(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=Gh.exec(e)||Qh.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:Oh({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=Yh.exec(e)||Xh.exec(e);if(!t)return null;var n,r,i=Uh({h:(n=t[1],r=t[2],void 0===r&&(r="deg"),Number(n)*(Ph[r]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return qh(i)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,r=e.b,i=e.a,o=void 0===i?1:i;return zh(t)&&zh(n)&&zh(r)?Oh({r:Number(t),g:Number(n),b:Number(r),a:Number(o)}):null},"rgb"],[function(e){var t=e.h,n=e.s,r=e.l,i=e.a,o=void 0===i?1:i;if(!zh(t)||!zh(n)||!zh(r))return null;var a=Uh({h:Number(t),s:Number(n),l:Number(r),a:Number(o)});return qh(a)},"hsl"],[function(e){var t=e.h,n=e.s,r=e.v,i=e.a,o=void 0===i?1:i;if(!zh(t)||!zh(n)||!zh(r))return null;var a=function(e){return{h:Dh(e.h),s:Nh(e.s,0,100),v:Nh(e.v,0,100),a:Nh(e.a)}}({h:Number(t),s:Number(n),v:Number(r),a:Number(o)});return jh(a)},"hsv"]]},Zh=function(e,t){for(var n=0;n<t.length;n++){var r=t[n][0](e);if(r)return[r,t[n][1]]}return[null,void 0]},Jh=function(e,t){var n=Wh(e);return{h:n.h,s:Nh(n.s+100*t,0,100),l:n.l,a:n.a}},ep=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},tp=function(e,t){var n=Wh(e);return{h:n.h,s:n.s,l:Nh(n.l+100*t,0,100),a:n.a}},np=function(){function e(e){this.parsed=function(e){return"string"==typeof e?Zh(e.trim(),Kh.string):"object"==typeof e&&null!==e?Zh(e,Kh.object):[null,void 0]}(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return Ih(ep(this.rgba),2)},e.prototype.isDark=function(){return ep(this.rgba)<.5},e.prototype.isLight=function(){return ep(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=Fh(this.rgba)).r,n=e.g,r=e.b,o=(i=e.a)<1?Hh(Ih(255*i)):"","#"+Hh(t)+Hh(n)+Hh(r)+o;var e,t,n,r,i,o},e.prototype.toRgb=function(){return Fh(this.rgba)},e.prototype.toRgbString=function(){return t=(e=Fh(this.rgba)).r,n=e.g,r=e.b,(i=e.a)<1?"rgba("+t+", "+n+", "+r+", "+i+")":"rgb("+t+", "+n+", "+r+")";var e,t,n,r,i},e.prototype.toHsl=function(){return $h(Wh(this.rgba))},e.prototype.toHslString=function(){return t=(e=$h(Wh(this.rgba))).h,n=e.s,r=e.l,(i=e.a)<1?"hsla("+t+", "+n+"%, "+r+"%, "+i+")":"hsl("+t+", "+n+"%, "+r+"%)";var e,t,n,r,i},e.prototype.toHsv=function(){return e=Vh(this.rgba),{h:Ih(e.h),s:Ih(e.s),v:Ih(e.v),a:Ih(e.a,3)};var e},e.prototype.invert=function(){return rp({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),rp(Jh(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),rp(Jh(this.rgba,-e))},e.prototype.grayscale=function(){return rp(Jh(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),rp(tp(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),rp(tp(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?rp({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):Ih(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=Wh(this.rgba);return"number"==typeof e?rp({h:e,s:t.s,l:t.l,a:t.a}):Ih(t.h)},e.prototype.isEqual=function(e){return this.toHex()===rp(e).toHex()},e}(),rp=function(e){return e instanceof np?e:new np(e)},ip=[],op=function(e){var t=e/255;return t<.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},ap=function(e){return.2126*op(e.r)+.7152*op(e.g)+.0722*op(e.b)};!function(e){e.TopLeft="tl",e.Top="t",e.TopRight="tr",e.Left="l",e.Right="r",e.BottomLeft="bl",e.Bottom="b",e.BottomRight="br"}(xh||(xh={})),xh.TopLeft,xh.Top,xh.TopRight,xh.Left,xh.Right,xh.BottomLeft,xh.Bottom,xh.BottomRight,function(e){e.AutoDraft="auto-draft",e.Draft="draft",e.Publish="publish"}(Sh||(Sh={})),function(e){e.Text="text",e.Image="image"}(Eh||(Eh={})),Eh.Text,Eh.Image,function(e){e.Icon="icon",e.Label="label",e.IconLabel="icon-label",e.LabelIcon="label-icon",e.Image="image"}(kh||(kh={})),kh.Icon,kh.Label,kh.IconLabel,kh.LabelIcon,kh.Image,function(e){e.TopLeft="tl",e.Top="t",e.TopRight="tr",e.Left="l",e.Center="c",e.Right="r",e.BottomLeft="bl",e.Bottom="b",e.BottomRight="br"}(Th||(Th={})),Th.TopLeft,Th.Top,Th.TopRight,Th.Left,Th.Center,Th.Right,Th.BottomLeft,Th.Bottom,Th.BottomRight,function(e){e.Top="t",e.Left="l",e.Right="r",e.Bottom="b",e.Follow="f"}(Lh||(Lh={})),Lh.Top,Lh.Left,Lh.Right,Lh.Bottom,Lh.Follow,function(e){e.Default="default",e.Current="current",e.Manual="manual"}(Ch||(Ch={})),Ch.Default,Ch.Current,Ch.Manual,function(e){e.ChangeScene="scene",e.FollowLink="link"}(Mh||(Mh={})),Mh.ChangeScene,Mh.FollowLink,function(e){e.Popover="popover",e.Dialog="dialog"}(Ah||(Ah={})),Ah.Popover,Ah.Dialog,function(e){e.Top="t",e.Left="l",e.Right="r",e.Bottom="b"}(Rh||(Rh={})),Rh.Top,Rh.Left,Rh.Right,Rh.Bottom,function(e){e.forEach(function(e){ip.indexOf(e)<0&&(e(np,Kh),ip.push(e))})}([function(e){e.prototype.luminance=function(){return e=ap(this.rgba),void 0===(t=2)&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0;var e,t,n},e.prototype.contrast=function(t){void 0===t&&(t="#FFF");var n,r,i,o,a,s,l,u=t instanceof e?t:new e(t);return o=this.rgba,a=u.toRgb(),n=(s=ap(o))>(l=ap(a))?(s+.05)/(l+.05):(l+.05)/(s+.05),void 0===(r=2)&&(r=0),void 0===i&&(i=Math.pow(10,r)),Math.floor(i*n)/i+0},e.prototype.isReadable=function(e,t){return void 0===e&&(e="#FFF"),void 0===t&&(t={}),this.contrast(e)>=(a=void 0===(o=(n=t).size)?"normal":o,"AAA"===(i=void 0===(r=n.level)?"AA":r)&&"normal"===a?7:"AA"===i&&"large"===a?3:4.5);var n,r,i,o,a}}]);const sp={type:"SceneListNav",name:"Scene List Navigation",description:"Shows/hides a list of scenes for navigation",createInitialProperties:()=>({slot:xh.BottomLeft,color:"#fff",background:"#000000bb",radius:4})},lp=e=>{const{api:t,slot:n,color:r,background:i,radius:o}=e,[a,s]=f.useState(""),[u,c]=f.useState([]),[h,p]=f.useState(!1),[d,m]=f.useState(null);f.useLayoutEffect(()=>{let e="";switch(n){case xh.TopLeft:e="bottom: -5px; left: 0; transform: translate(0, 100%);";break;case xh.Top:e="bottom: -5px; left: 50%; transform: translate(-50%, 100%);";break;case xh.TopRight:e="bottom: -5px; right: 0; transform: translate(0%, 100%);";break;case xh.Left:e="top: 50%; right: -5px; transform: translate(100%, -50%);";break;case xh.Right:e="top: 50%; left: -5px; transform: translate(-100%, -50%);";break;case xh.BottomLeft:e="top: -5px; left: 0; transform: translate(0, -100%);";break;case xh.Bottom:e="top: -5px; left: 50%; transform: translate(-50%, -100%);";break;case xh.BottomRight:e="top: -5px; right: 0; transform: translate(0, -100%);";break;default:e="bottom: -5px; left: 0; transform: translateY(100%);"}const a=i?rp(i).darken(.13).toHex():void 0,l=i?rp(i).darken(.13).toHex():void 0,u=t.uiApi.applyStyle(`\n            position: relative;\n            display: inline-flex;\n            padding: 5px;\n            color: ${r||"transparent"};\n            background: ${i||"transparent"};\n            border-radius: ${o?o+"px":"0"};\n            cursor: pointer;\n\n            & button {\n                all: unset;\n                display: block;\n                width: 22px;\n                height: 22px;\n                pointer-events: all;\n                cursor: pointer;\n            }\n\n            & svg {\n                display: block;\n                width: 100%;\n                height: 100%;    \n            }\n\n            & div {\n                position: absolute;\n                ${e}\n                width: max-content;\n                max-height: 250px;\n                overflow: auto;\n                color: ${r||"transparent"};\n                background: ${i||"transparent"};\n                border-radius: 5px;\n                pointer-events: all;\n                z-index: 1;\n\n                transition: opacity .3s ease;\n                opacity: 0;\n                pointer-events: none;\n                visibility: hidden;\n\n                &.visible {\n                    opacity: 1;\n                    pointer-events: all;\n                    visibility: visible;\n                }\n\n                &::-webkit-scrollbar {\n                    width: 5px;\n                }\n\n                &::-webkit-scrollbar-thumb {\n                    background: ${l||"transparent"};\n                    border-radius: 5px;\n                }\n            }\n\n            & ul {\n                list-style: none;\n                margin: 0;\n                padding: 5px;\n                font-size: 14px;\n                line-height: 22px;\n\n                & li {\n                    margin: 1px 0;\n                    padding: 5px 10px;\n                    font-size: 14px;\n                    line-height: 22px;\n                    user-select: none;\n                    border-radius: 5px;\n                    cursor: pointer;\n\n                    &.active,\n                    &:hover {\n                        background: ${a||"transparent"};\n                    }\n\n\n                }\n            }\n        `);if(u)return s(u),()=>{t.uiApi.removeStyle(u)}},[t,n,r,i,o]),f.useEffect(()=>{const e=[];c(t.sceneApi.getList());const n=t.sceneApi.getActive();return n&&m(n.id),e.push(t.on("scene:add",({sceneId:e})=>{const n=t.sceneApi.get(e);n&&c(e=>[...e,n])})),e.push(t.on("scene:remove",({sceneId:e})=>{c(t=>t.filter(t=>t.id!==e))})),e.push(t.on("scene:show",({sceneId:e})=>{m(e)})),()=>{e.forEach(e=>e())}},[t]);return l.jsxs("div",{className:wh("hvr-control",a),children:[l.jsx("button",{type:"button","aria-label":"Show scene list",onClick:()=>{p(!h)},children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[l.jsx("path",{d:"M4 5h16"}),l.jsx("path",{d:"M4 12h16"}),l.jsx("path",{d:"M4 19h16"})]})}),l.jsx("div",{className:wh(h?"visible":""),children:l.jsx("ul",{children:u.map((e,n)=>l.jsx("li",{className:wh(e.id===d?"active":""),onClick:()=>(e=>{t.sceneApi.show(e)})(e.id),children:e.title},n))})})]})};function up(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=up(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function cp(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=up(e))&&(r&&(r+=" "),r+=t);return r}var hp={grad:.9,turn:360,rad:360/(2*Math.PI)},pp=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},fp=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},dp=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e>t?e:t},mp=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},vp=function(e){return{r:dp(e.r,0,255),g:dp(e.g,0,255),b:dp(e.b,0,255),a:dp(e.a)}},gp=function(e){return{r:fp(e.r),g:fp(e.g),b:fp(e.b),a:fp(e.a,3)}},yp=/^#([0-9a-f]{3,8})$/i,bp=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},_p=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,o=Math.max(t,n,r),a=o-Math.min(t,n,r),s=a?o===t?(n-r)/a:o===n?2+(r-t)/a:4+(t-n)/a:0;return{h:60*(s<0?s+6:s),s:o?a/o*100:0,v:o/255*100,a:i}},wp=function(e){var t=e.h,n=e.s,r=e.v,i=e.a;t=t/360*6,n/=100,r/=100;var o=Math.floor(t),a=r*(1-n),s=r*(1-(t-o)*n),l=r*(1-(1-t+o)*n),u=o%6;return{r:255*[r,s,a,a,l,r][u],g:255*[l,r,r,s,a,a][u],b:255*[a,a,l,r,r,s][u],a:i}},xp=function(e){return{h:mp(e.h),s:dp(e.s,0,100),l:dp(e.l,0,100),a:dp(e.a)}},Sp=function(e){return{h:fp(e.h),s:fp(e.s),l:fp(e.l),a:fp(e.a,3)}},Ep=function(e){return wp((n=(t=e).s,{h:t.h,s:(n*=((r=t.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:t.a}));var t,n,r},kp=function(e){return{h:(t=_p(e)).h,s:(i=(200-(n=t.s))*(r=t.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var t,n,r,i},Tp=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Lp=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Cp=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Mp=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ap={string:[[function(e){var t=yp.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?fp(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?fp(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=Cp.exec(e)||Mp.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:vp({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=Tp.exec(e)||Lp.exec(e);if(!t)return null;var n,r,i=xp({h:(n=t[1],r=t[2],void 0===r&&(r="deg"),Number(n)*(hp[r]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return Ep(i)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,r=e.b,i=e.a,o=void 0===i?1:i;return pp(t)&&pp(n)&&pp(r)?vp({r:Number(t),g:Number(n),b:Number(r),a:Number(o)}):null},"rgb"],[function(e){var t=e.h,n=e.s,r=e.l,i=e.a,o=void 0===i?1:i;if(!pp(t)||!pp(n)||!pp(r))return null;var a=xp({h:Number(t),s:Number(n),l:Number(r),a:Number(o)});return Ep(a)},"hsl"],[function(e){var t=e.h,n=e.s,r=e.v,i=e.a,o=void 0===i?1:i;if(!pp(t)||!pp(n)||!pp(r))return null;var a=function(e){return{h:mp(e.h),s:dp(e.s,0,100),v:dp(e.v,0,100),a:dp(e.a)}}({h:Number(t),s:Number(n),v:Number(r),a:Number(o)});return wp(a)},"hsv"]]},Rp=function(e,t){for(var n=0;n<t.length;n++){var r=t[n][0](e);if(r)return[r,t[n][1]]}return[null,void 0]},Pp=function(e,t){var n=kp(e);return{h:n.h,s:dp(n.s+100*t,0,100),l:n.l,a:n.a}},zp=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},Ip=function(e,t){var n=kp(e);return{h:n.h,s:n.s,l:dp(n.l+100*t,0,100),a:n.a}},Np=function(){function e(e){this.parsed=function(e){return"string"==typeof e?Rp(e.trim(),Ap.string):"object"==typeof e&&null!==e?Rp(e,Ap.object):[null,void 0]}(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return fp(zp(this.rgba),2)},e.prototype.isDark=function(){return zp(this.rgba)<.5},e.prototype.isLight=function(){return zp(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=gp(this.rgba)).r,n=e.g,r=e.b,o=(i=e.a)<1?bp(fp(255*i)):"","#"+bp(t)+bp(n)+bp(r)+o;var e,t,n,r,i,o},e.prototype.toRgb=function(){return gp(this.rgba)},e.prototype.toRgbString=function(){return t=(e=gp(this.rgba)).r,n=e.g,r=e.b,(i=e.a)<1?"rgba("+t+", "+n+", "+r+", "+i+")":"rgb("+t+", "+n+", "+r+")";var e,t,n,r,i},e.prototype.toHsl=function(){return Sp(kp(this.rgba))},e.prototype.toHslString=function(){return t=(e=Sp(kp(this.rgba))).h,n=e.s,r=e.l,(i=e.a)<1?"hsla("+t+", "+n+"%, "+r+"%, "+i+")":"hsl("+t+", "+n+"%, "+r+"%)";var e,t,n,r,i},e.prototype.toHsv=function(){return e=_p(this.rgba),{h:fp(e.h),s:fp(e.s),v:fp(e.v),a:fp(e.a,3)};var e},e.prototype.invert=function(){return Dp({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),Dp(Pp(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),Dp(Pp(this.rgba,-e))},e.prototype.grayscale=function(){return Dp(Pp(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),Dp(Ip(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),Dp(Ip(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?Dp({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):fp(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=kp(this.rgba);return"number"==typeof e?Dp({h:e,s:t.s,l:t.l,a:t.a}):fp(t.h)},e.prototype.isEqual=function(e){return this.toHex()===Dp(e).toHex()},e}(),Dp=function(e){return e instanceof Np?e:new Np(e)},Op=[],Fp=function(e){var t=e/255;return t<.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},Bp=function(e){return.2126*Fp(e.r)+.7152*Fp(e.g)+.0722*Fp(e.b)};var Hp,Vp,jp,Up,$p,qp,Wp,Yp,Xp,Gp,Qp,Kp=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e>t?e:t},Zp=function(e){var t=e/255;return t<.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},Jp=function(e){return 255*(e>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e)},ef=96.422,tf=82.521,nf=216/24389,rf=24389/27,of=function(e){var t=function(e){var t=Zp(e.r),n=Zp(e.g),r=Zp(e.b);return function(e){return{x:Kp(e.x,0,ef),y:Kp(e.y,0,100),z:Kp(e.z,0,tf),a:Kp(e.a)}}(function(e){return{x:1.0478112*e.x+.0228866*e.y+-.050127*e.z,y:.0295424*e.x+.9904844*e.y+-.0170491*e.z,z:-.0092345*e.x+.0150436*e.y+.7521316*e.z,a:e.a}}({x:100*(.4124564*t+.3575761*n+.1804375*r),y:100*(.2126729*t+.7151522*n+.072175*r),z:100*(.0193339*t+.119192*n+.9503041*r),a:e.a}))}(e),n=t.x/ef,r=t.y/100,i=t.z/tf;return n=n>nf?Math.cbrt(n):(rf*n+16)/116,{l:116*(r=r>nf?Math.cbrt(r):(rf*r+16)/116)-16,a:500*(n-r),b:200*(r-(i=i>nf?Math.cbrt(i):(rf*i+16)/116)),alpha:t.a}},af=function(e,t,n){var r,i=of(e),o=of(t);return function(e){var t=(e.l+16)/116,n=e.a/500+t,r=t-e.b/200;return function(e){var t,n,r=.9555766*(t=e).x+-.0230393*t.y+.0631636*t.z,i=-.0282895*t.x+1.0099416*t.y+.0210077*t.z,o=.0122982*t.x+-.020483*t.y+1.3299098*t.z;return n={r:Jp(.032404542*r-.015371385*i-.004985314*o),g:Jp(-.00969266*r+.018760108*i+41556e-8*o),b:Jp(556434e-9*r-.002040259*i+.010572252*o),a:e.a},{r:Kp(n.r,0,255),g:Kp(n.g,0,255),b:Kp(n.b,0,255),a:Kp(n.a)}}({x:(Math.pow(n,3)>nf?Math.pow(n,3):(116*n-16)/rf)*ef,y:100*(e.l>8?Math.pow((e.l+16)/116,3):e.l/rf),z:(Math.pow(r,3)>nf?Math.pow(r,3):(116*r-16)/rf)*tf,a:e.alpha})}({l:Kp((r={l:i.l*(1-n)+o.l*n,a:i.a*(1-n)+o.a*n,b:i.b*(1-n)+o.b*n,alpha:i.alpha*(1-n)+o.alpha*n}).l,0,400),a:r.a,b:r.b,alpha:Kp(r.alpha)})};(Vp=Hp||(Hp={})).TopLeft="tl",Vp.Top="t",Vp.TopRight="tr",Vp.Left="l",Vp.Right="r",Vp.BottomLeft="bl",Vp.Bottom="b",Vp.BottomRight="br",Hp.TopLeft,Hp.Top,Hp.TopRight,Hp.Left,Hp.Right,Hp.BottomLeft,Hp.Bottom,Hp.BottomRight,function(e){e.AutoDraft="auto-draft",e.Draft="draft",e.Publish="publish"}(jp||(jp={})),function(e){e.Text="text",e.Image="image"}(Up||(Up={})),Up.Text,Up.Image,function(e){e.Icon="icon",e.Label="label",e.IconLabel="icon-label",e.LabelIcon="label-icon",e.Image="image"}($p||($p={})),$p.Icon,$p.Label,$p.IconLabel,$p.LabelIcon,$p.Image,function(e){e.TopLeft="tl",e.Top="t",e.TopRight="tr",e.Left="l",e.Center="c",e.Right="r",e.BottomLeft="bl",e.Bottom="b",e.BottomRight="br"}(qp||(qp={})),qp.TopLeft,qp.Top,qp.TopRight,qp.Left,qp.Center,qp.Right,qp.BottomLeft,qp.Bottom,qp.BottomRight,function(e){e.Top="t",e.Left="l",e.Right="r",e.Bottom="b",e.Follow="f"}(Wp||(Wp={})),Wp.Top,Wp.Left,Wp.Right,Wp.Bottom,Wp.Follow,function(e){e.Default="default",e.Current="current",e.Manual="manual"}(Yp||(Yp={})),Yp.Default,Yp.Current,Yp.Manual,function(e){e.ChangeScene="scene",e.FollowLink="link"}(Xp||(Xp={})),Xp.ChangeScene,Xp.FollowLink,function(e){e.Popover="popover",e.Dialog="dialog"}(Gp||(Gp={})),Gp.Popover,Gp.Dialog,function(e){e.Top="t",e.Left="l",e.Right="r",e.Bottom="b"}(Qp||(Qp={})),Qp.Top,Qp.Left,Qp.Right,Qp.Bottom,function(e){e.forEach(function(e){Op.indexOf(e)<0&&(e(Np,Ap),Op.push(e))})}([function(e){e.prototype.luminance=function(){return e=Bp(this.rgba),void 0===(t=2)&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0;var e,t,n},e.prototype.contrast=function(t){void 0===t&&(t="#FFF");var n,r,i,o,a,s,l,u=t instanceof e?t:new e(t);return o=this.rgba,a=u.toRgb(),n=(s=Bp(o))>(l=Bp(a))?(s+.05)/(l+.05):(l+.05)/(s+.05),void 0===(r=2)&&(r=0),void 0===i&&(i=Math.pow(10,r)),Math.floor(i*n)/i+0},e.prototype.isReadable=function(e,t){return void 0===e&&(e="#FFF"),void 0===t&&(t={}),this.contrast(e)>=(a=void 0===(o=(n=t).size)?"normal":o,"AAA"===(i=void 0===(r=n.level)?"AA":r)&&"normal"===a?7:"AA"===i&&"large"===a?3:4.5);var n,r,i,o,a}},function(e){function t(e,t,n){void 0===n&&(n=5);for(var r=[],i=1/(n-1),o=0;o<=n-1;o++)r.push(e.mix(t,i*o));return r}e.prototype.mix=function(t,n){void 0===n&&(n=.5);var r=t instanceof e?t:new e(t),i=af(this.toRgb(),r.toRgb(),n);return new e(i)},e.prototype.tints=function(e){return t(this,"#fff",e)},e.prototype.shades=function(e){return t(this,"#000",e)},e.prototype.tones=function(e){return t(this,"#808080",e)}}]);const sf={type:"SceneThumbsNav",name:"Scene Thumbs Navigation",description:"Shows/hides scene thumbnails for navigation",createInitialProperties:()=>({slot:Hp.Bottom,color:"#fff",background:"#000000bb",radius:4})};let lf=class e{static SLIDER_HEIGHT=100;static WHEEL_SENSITIVITY=.8;static RESISTANCE_STRENGTH=.01;static DRAG_THRESHOLD=5;api;props;root;sliderElement;trackElement;listElement;rootSliderVisibleClassName="";isDraggable=!0;isDragging=!1;isAnimating=!1;startX=0;startLeft=0;pointerId=null;lastMoveTime=0;lastMoveX=0;velocity=0;momentumAnimationId=null;wheelEndTimer=null;activeSceneId=null;resizeObserver=null;cleanups=[];constructor(e,t,n){this.api=t,this.props=n,this.root=e,this.sliderElement=document.createElement("div"),this.trackElement=document.createElement("div"),this.listElement=document.createElement("div"),this.trackElement.append(this.listElement),this.sliderElement.append(this.trackElement),this.root.append(this.sliderElement),this.applyStyles(),this.bind(),this.initResizeObserver()}applyStyles(){{const e=this.api.uiApi.applyStyle("\n                transition: bottom 0.3s ease-out;\n            ");this.root.classList.add(e),this.cleanups.push(()=>{this.api.uiApi.removeStyle(e)})}{const t=this.api.uiApi.applyStyle(`\n                bottom: ${e.SLIDER_HEIGHT}px;\n            `);this.rootSliderVisibleClassName=t,this.cleanups.push(()=>{this.api.uiApi.removeStyle(t)})}{let t;if(this.props.background){const e=Dp(this.props.background);t=e.isDark()?e.mix("#ffffff",.13).toHex():e.mix("#000000",.13).toHex()}const n=this.api.uiApi.applyStyle(`\n                position: absolute;\n                left: 0;\n                right: 0;\n                bottom: -${e.SLIDER_HEIGHT}px;\n                height: ${e.SLIDER_HEIGHT}px;\n                color: ${this.props.color||"transparent"};\n                background: ${this.props.background||"transparent"};\n                box-sizing: border-box;\n                pointer-events: auto;\n                cursor: grab;\n\n                & > div {\n                    position: absolute;\n                    display: flex;\n                    justify-content: center;\n                    top: 10px;\n                    bottom: 10px;\n                    left: 10px;\n                    right: 10px;\n                    overflow: hidden;\n\n                    & > div {\n                        position: absolute;\n                        display: flex;\n                        gap: 10px;\n                        height: 100%;\n\n                        & > div {\n                            display: flex;\n                            align-items: center;\n                            justify-content: center;\n                            height: 100%;\n                            aspect-ratio: 2/1;\n                            background: ${t||"transparent"};\n                            background-size: cover;\n                            border-radius: 5px;\n                            border: 3px solid transparent;\n                            box-sizing: border-box;\n                            cursor: pointer;\n                            user-select: none;\n\n                            &.active {\n                                border-color: ${this.props.color||"transparent"};\n                            }\n                        }\n                    }\n                }\n            `);this.sliderElement.classList.add(n),this.cleanups.push(()=>{this.api.uiApi.removeStyle(n)})}}bind(){this.sliderElement.addEventListener("pointerdown",this.onPointerDown),this.sliderElement.addEventListener("wheel",this.onWheel,{passive:!1}),this.listElement.addEventListener("click",this.onSlideClick),this.cleanups.push(()=>{this.sliderElement.removeEventListener("pointerdown",this.onPointerDown),this.sliderElement.removeEventListener("wheel",this.onWheel),this.listElement.removeEventListener("click",this.onSlideClick),document.removeEventListener("pointermove",this.onPointerMove),document.removeEventListener("pointerup",this.onPointerUp),document.removeEventListener("pointercancel",this.onPointerUp)})}initResizeObserver(){this.resizeObserver=new ResizeObserver(e=>{this.onResize()}),this.resizeObserver.observe(this.sliderElement)}clamp(e,t,n){return Math.min(Math.max(e,t),n)}getListElementLeft(){const e=window.getComputedStyle(this.listElement);return parseFloat(e.left)||0}setListElementLeft(e){this.listElement.style.left=`${e}px`}snapToBoundaries(e=!0){this.momentumAnimationId&&(cancelAnimationFrame(this.momentumAnimationId),this.momentumAnimationId=null),this.isAnimating=!1;const t=this.trackElement.offsetWidth,n=this.listElement.offsetWidth;if(n<=t)return e&&(this.listElement.style.transition="left 0.3s ease-out"),void this.setListElementLeft(0);const r=t-n,i=this.getListElementLeft(),o=this.clamp(i,r,0);e&&(this.listElement.style.transition="left 0.3s ease-out"),this.setListElementLeft(o)}startMomentum(e){if(Math.abs(e)<.3)return void this.snapToBoundaries();this.isAnimating=!0,this.listElement.style.transition="none";const t=Date.now(),n=this.getListElementLeft(),r=()=>{if(!this.isAnimating)return;const i=Date.now()-t,o=Math.exp(-i/100),a=n+100*e*(1-o);this.setListElementLeft(a);const s=this.trackElement.offsetWidth,l=this.listElement.offsetWidth;if(l<=s)return this.isAnimating=!1,void this.snapToBoundaries();const u=e*o;if(a>=0&&u>-.1||a<=s-l&&u<.1||Math.abs(u)<.05)return this.isAnimating=!1,void this.snapToBoundaries();this.momentumAnimationId=requestAnimationFrame(r)};this.momentumAnimationId=requestAnimationFrame(r)}updateLayout(){const e=this.trackElement.offsetWidth,t=this.listElement.offsetWidth;this.isDraggable=t>e,this.listElement.style.left=this.isDraggable?this.listElement.style.left:"auto",this.activeSceneId&&this.goToScene(this.activeSceneId)}onPointerDown=e=>{0!==e.button&&"touch"!==e.pointerType||this.isDraggable&&(this.isAnimating=!1,this.momentumAnimationId&&(cancelAnimationFrame(this.momentumAnimationId),this.momentumAnimationId=null),this.pointerId=e.pointerId,this.startX=e.clientX,this.startLeft=this.getListElementLeft(),this.lastMoveX=e.clientX,this.lastMoveTime=Date.now(),document.addEventListener("pointermove",this.onPointerMove),document.addEventListener("pointerup",this.onPointerUp),document.addEventListener("pointercancel",this.onPointerUp))};onPointerMove=t=>{if(this.pointerId!==t.pointerId||Math.abs(t.clientX-this.startX)<e.DRAG_THRESHOLD)return;this.isDragging||(this.isDragging=!0,this.listElement.style.transition="none",this.sliderElement.setPointerCapture(t.pointerId));const n=t.clientX-this.startX,r=this.startLeft+n;this.setListElementLeft(r);const i=Date.now(),o=i-this.lastMoveTime;o>0&&(this.velocity=(t.clientX-this.lastMoveX)/o),this.lastMoveX=t.clientX,this.lastMoveTime=i};onPointerUp=e=>{if(this.pointerId!==e.pointerId)return;this.isDragging=!1,this.pointerId=null,this.sliderElement.hasPointerCapture(e.pointerId)&&this.sliderElement.releasePointerCapture(e.pointerId),document.removeEventListener("pointermove",this.onPointerMove),document.removeEventListener("pointerup",this.onPointerUp),document.removeEventListener("pointercancel",this.onPointerUp);const t=this.velocity;this.velocity=0,this.startMomentum(t)};onWheel=t=>{if(this.isDragging||this.isAnimating||!this.isDraggable)return;const n=this.trackElement.offsetWidth,r=this.listElement.offsetWidth;if(r<=n)return;t.preventDefault();const i=t.deltaX||-t.deltaY,o=this.getListElementLeft(),a=n-r;let s=o-i*e.WHEEL_SENSITIVITY,l=1;s>0?l=1/(1+(s-0)*e.RESISTANCE_STRENGTH):s<a&&(l=1/(1+(a-s)*e.RESISTANCE_STRENGTH)),s=o-i*e.WHEEL_SENSITIVITY*l,this.listElement.style.transition="none",this.setListElementLeft(s);const u=s>0||s<a;this.wheelEndTimer&&clearTimeout(this.wheelEndTimer),u&&(this.wheelEndTimer=window.setTimeout(()=>{this.wheelEndTimer=null,this.snapToBoundaries(!0)},100))};onSlideClick=e=>{const t=e.target;if(t.hasAttribute("data-id")){const e=t.getAttribute("data-id");this.api.sceneApi.show(e)}};onResize=()=>{this.updateLayout()};setVisible(e){e?(this.root.classList.add(this.rootSliderVisibleClassName),this.activeSceneId&&this.goToScene(this.activeSceneId)):this.root.classList.remove(this.rootSliderVisibleClassName)}addScene(e){const t=document.createElement("div");if(t.dataset.id=e.id,e.pano?.id){const n=new URL(`scene_${e.id}/pano_${e.pano?.id}/thumb.jpg`,this.api.uiApi.getResourceUrl("assets")).href;t.style.backgroundImage=`url(${n})`}this.listElement.append(t),this.updateLayout()}updateScene(e){const t=this.listElement.querySelector(`[data-id="${e.id}"]`);if(t)if(e.pano?.id){const n=new URL(`scene_${e.id}/pano_${e.pano?.id}/thumb.jpg`,this.api.uiApi.getResourceUrl("assets")).href;t.style.backgroundImage=`url(${n})`}else t.style.backgroundImage="none"}removeScene(e){this.listElement.querySelector(`[data-id="${e}"]`)?.remove(),this.updateLayout()}setActiveScene(e){this.listElement.querySelectorAll("[data-id]").forEach(e=>{e.classList.remove("active")});const t=this.listElement.querySelector(`[data-id="${e}"]`);t&&(t.classList.add("active"),this.activeSceneId=e,this.goToScene(e))}goToScene(e){if(!this.isDraggable)return;this.momentumAnimationId&&(cancelAnimationFrame(this.momentumAnimationId),this.momentumAnimationId=null),this.isAnimating=!1;const t=this.listElement.querySelectorAll("[data-id]"),n=Array.from(t).find(t=>t.getAttribute("data-id")===e);if(!n)return;const r=n.offsetLeft,i=n.offsetWidth,o=this.trackElement.offsetWidth,a=-(r+i/2-o/2),s=o-this.listElement.offsetWidth,l=Math.min(Math.max(a,s),0);this.listElement.style.transition="left 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)",this.setListElementLeft(l)}destroy(){this.momentumAnimationId&&cancelAnimationFrame(this.momentumAnimationId),this.wheelEndTimer&&clearTimeout(this.wheelEndTimer),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.cleanups.forEach(e=>e()),this.sliderElement.replaceChildren(),this.sliderElement.remove()}};const uf=e=>{const{api:t,color:n,background:r,radius:i}=e,[o,a]=f.useState(""),[s,u]=f.useState(!1),c=f.useRef(null);f.useEffect(()=>{const e=t.uiApi.applyStyle(`\n            position: relative;\n            display: inline-flex;\n            padding: 5px;\n            color: ${n||"transparent"};\n            background: ${r||"transparent"};\n            border-radius: ${i?i+"px":"0"};\n            cursor: pointer;\n\n            & button {\n                all: unset;\n                display: block;\n                width: 22px;\n                height: 22px;\n                pointer-events: all;\n                cursor: pointer;\n            }\n\n            & svg {\n                display: block;\n                width: 100%;\n                height: 100%;    \n            }\n        `);return a(e),()=>{t.uiApi.removeStyle(e)}},[t,n,r,i]),f.useEffect(()=>{const n=t.uiApi.getControlContainer();return c.current=new lf(n,t,e),()=>{c.current&&(c.current.destroy(),c.current=null)}},[t]),f.useEffect(()=>{if(!c.current)return;const e=c.current;t.sceneApi.getList().forEach(t=>e.addScene(t));const n=t.sceneApi.getActive();n&&e.setActiveScene(n.id);const r=[];return r.push(t.on("scene:add",({sceneId:n})=>{const r=t.sceneApi.get(n);r&&e.addScene(r)})),r.push(t.on("scene:remove",({sceneId:t})=>{e.removeScene(t)})),r.push(t.on("scene:show",({sceneId:t})=>{e.setActiveScene(t)})),r.push(t.on("scene:pano:change",({sceneId:n})=>{const r=t.sceneApi.get(n);r&&e.updateScene(r)})),()=>{r.forEach(e=>e())}},[t]),f.useEffect(()=>{c.current?.setVisible(s)},[s]);return l.jsx("div",{className:cp("hvr-control",o),children:l.jsx("button",{type:"button","aria-label":"Show scene thumbs",onClick:()=>{u(!s)},children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[l.jsx("rect",{width:"14",height:"14",x:"5",y:"5"}),l.jsx("path",{d:"M 22,7 V 17"}),l.jsx("path",{d:"M 2,7 V 17"}),l.jsx("path",{d:"m 18.58909,13.64801 -1.178182,-1.296 a 2.1818182,2.4 0 0 0 -3.098183,0 l -5.7236353,6.296"}),l.jsx("circle",{cx:"9",cy:"10",r:"1",fill:"currentColor"})]})})})};function cf(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=cf(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function hf(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=cf(e))&&(r&&(r+=" "),r+=t);return r}var pf,ff,df,mf,vf,gf,yf,bf,_f,wf;!function(e){e.TopLeft="tl",e.Top="t",e.TopRight="tr",e.Left="l",e.Right="r",e.BottomLeft="bl",e.Bottom="b",e.BottomRight="br"}(pf||(pf={})),pf.TopLeft,pf.Top,pf.TopRight,pf.Left,pf.Right,pf.BottomLeft,pf.Bottom,pf.BottomRight,function(e){e.AutoDraft="auto-draft",e.Draft="draft",e.Publish="publish"}(ff||(ff={})),function(e){e.Text="text",e.Image="image"}(df||(df={})),df.Text,df.Image,function(e){e.Icon="icon",e.Label="label",e.IconLabel="icon-label",e.LabelIcon="label-icon",e.Image="image"}(mf||(mf={})),mf.Icon,mf.Label,mf.IconLabel,mf.LabelIcon,mf.Image,function(e){e.TopLeft="tl",e.Top="t",e.TopRight="tr",e.Left="l",e.Center="c",e.Right="r",e.BottomLeft="bl",e.Bottom="b",e.BottomRight="br"}(vf||(vf={})),vf.TopLeft,vf.Top,vf.TopRight,vf.Left,vf.Center,vf.Right,vf.BottomLeft,vf.Bottom,vf.BottomRight,function(e){e.Top="t",e.Left="l",e.Right="r",e.Bottom="b",e.Follow="f"}(gf||(gf={})),gf.Top,gf.Left,gf.Right,gf.Bottom,gf.Follow,function(e){e.Default="default",e.Current="current",e.Manual="manual"}(yf||(yf={})),yf.Default,yf.Current,yf.Manual,function(e){e.ChangeScene="scene",e.FollowLink="link"}(bf||(bf={})),bf.ChangeScene,bf.FollowLink,function(e){e.Popover="popover",e.Dialog="dialog"}(_f||(_f={})),_f.Popover,_f.Dialog,function(e){e.Top="t",e.Left="l",e.Right="r",e.Bottom="b"}(wf||(wf={})),wf.Top,wf.Left,wf.Right,wf.Bottom;const xf={type:"SceneCounter",name:"Scene Counter",description:"Shows current scene number out of total",createInitialProperties:()=>({slot:pf.BottomLeft,color:"#fff",background:"#000000bb",radius:4})},Sf=e=>{const{api:t,color:n,background:r,radius:i}=e,[o,a]=f.useState(0),[s,u]=f.useState(0),[c,h]=f.useState("");return f.useLayoutEffect(()=>{const e=t.uiApi.applyStyle(`\n            display: inline-flex;\n            padding: 5px 10px;\n            font-size: 14px;\n            line-height: 22px;\n            white-space: nowrap;\n            user-select: none;\n            color: ${n||"transparent"};\n            background: ${r||"transparent"};\n            border-radius: ${i?i+"px":"0"};\n        `);if(e)return h(e),()=>{t.uiApi.removeStyle(e)}},[t,n,r,i]),f.useEffect(()=>{const e=[],n=t.sceneApi.getActive();if(n){const e=t.sceneApi.getIndex(n.id)??-1;a(e+1)}return u(t.sceneApi.size()),e.push(t.on("scene:add",()=>{u(t.sceneApi.size())})),e.push(t.on("scene:remove",()=>{u(t.sceneApi.size())})),e.push(t.on("scene:show",({sceneId:e})=>{const n=t.sceneApi.getIndex(e)??-1;a(n+1)})),()=>{e.forEach(e=>e())}},[t]),l.jsxs("div",{className:hf("hvr-control",c),children:[o,"/",s]})};function Ef(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Ef(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function kf(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Ef(e))&&(r&&(r+=" "),r+=t);return r}var Tf,Lf,Cf,Mf,Af,Rf,Pf,zf,If,Nf;!function(e){e.TopLeft="tl",e.Top="t",e.TopRight="tr",e.Left="l",e.Right="r",e.BottomLeft="bl",e.Bottom="b",e.BottomRight="br"}(Tf||(Tf={})),Tf.TopLeft,Tf.Top,Tf.TopRight,Tf.Left,Tf.Right,Tf.BottomLeft,Tf.Bottom,Tf.BottomRight,function(e){e.AutoDraft="auto-draft",e.Draft="draft",e.Publish="publish"}(Lf||(Lf={})),function(e){e.Text="text",e.Image="image"}(Cf||(Cf={})),Cf.Text,Cf.Image,function(e){e.Icon="icon",e.Label="label",e.IconLabel="icon-label",e.LabelIcon="label-icon",e.Image="image"}(Mf||(Mf={})),Mf.Icon,Mf.Label,Mf.IconLabel,Mf.LabelIcon,Mf.Image,function(e){e.TopLeft="tl",e.Top="t",e.TopRight="tr",e.Left="l",e.Center="c",e.Right="r",e.BottomLeft="bl",e.Bottom="b",e.BottomRight="br"}(Af||(Af={})),Af.TopLeft,Af.Top,Af.TopRight,Af.Left,Af.Center,Af.Right,Af.BottomLeft,Af.Bottom,Af.BottomRight,function(e){e.Top="t",e.Left="l",e.Right="r",e.Bottom="b",e.Follow="f"}(Rf||(Rf={})),Rf.Top,Rf.Left,Rf.Right,Rf.Bottom,Rf.Follow,function(e){e.Default="default",e.Current="current",e.Manual="manual"}(Pf||(Pf={})),Pf.Default,Pf.Current,Pf.Manual,function(e){e.ChangeScene="scene",e.FollowLink="link"}(zf||(zf={})),zf.ChangeScene,zf.FollowLink,function(e){e.Popover="popover",e.Dialog="dialog"}(If||(If={})),If.Popover,If.Dialog,function(e){e.Top="t",e.Left="l",e.Right="r",e.Bottom="b"}(Nf||(Nf={})),Nf.Top,Nf.Left,Nf.Right,Nf.Bottom;const Df={type:"ZoomControls",name:"Zoom Controls",description:"Provides scene zoom in/out",createInitialProperties:()=>({slot:Tf.BottomRight,color:"#fff",background:"#000000bb",radius:4})},Of=e=>{const{api:t,color:n,background:r,radius:i}=e,[o,a]=f.useState(""),s=f.useRef(null);f.useLayoutEffect(()=>{const e=t.uiApi.applyStyle(`\n            display: inline-flex;\n            flex-direction: row;\n            gap: 5px;\n            \n            & button {\n                all: unset;\n                display: block;\n                padding: 5px;\n                width: 22px;\n                height: 22px;\n                pointer-events: all;\n                cursor: pointer;\n                color: ${n||"transparent"};\n                background: ${r||"transparent"};\n                border-radius: ${i?i+"px":"0"};\n            }\n\n            & svg {\n                display: block;\n                width: 100%;\n                height: 100%;    \n            }\n        `);if(e)return a(e),()=>{t.uiApi.removeStyle(e)}},[t,n,r,i]);const u=e=>{s.current||(s.current=setInterval(()=>{t.viewerApi.zoomBy("in"===e?-.01:.01)},15))},c=()=>{s.current&&(clearInterval(s.current),s.current=null)};return l.jsxs("div",{className:kf("hvr-control",o),children:[l.jsx("button",{type:"button","aria-label":"Zoom out",onPointerDown:()=>u("out"),onPointerUp:c,onPointerLeave:c,onPointerCancel:c,children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:l.jsx("path",{d:"M5 12h14"})})}),l.jsx("button",{type:"button","aria-label":"Zoom in",onPointerDown:()=>u("in"),onPointerUp:c,onPointerLeave:c,onPointerCancel:c,children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[l.jsx("path",{d:"M5 12h14"}),l.jsx("path",{d:"M12 5v14"})]})})]})};function Ff(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Ff(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Bf(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Ff(e))&&(r&&(r+=" "),r+=t);return r}var Hf,Vf,jf,Uf,$f,qf,Wf,Yf,Xf,Gf;!function(e){e.TopLeft="tl",e.Top="t",e.TopRight="tr",e.Left="l",e.Right="r",e.BottomLeft="bl",e.Bottom="b",e.BottomRight="br"}(Hf||(Hf={})),Hf.TopLeft,Hf.Top,Hf.TopRight,Hf.Left,Hf.Right,Hf.BottomLeft,Hf.Bottom,Hf.BottomRight,function(e){e.AutoDraft="auto-draft",e.Draft="draft",e.Publish="publish"}(Vf||(Vf={})),function(e){e.Text="text",e.Image="image"}(jf||(jf={})),jf.Text,jf.Image,function(e){e.Icon="icon",e.Label="label",e.IconLabel="icon-label",e.LabelIcon="label-icon",e.Image="image"}(Uf||(Uf={})),Uf.Icon,Uf.Label,Uf.IconLabel,Uf.LabelIcon,Uf.Image,function(e){e.TopLeft="tl",e.Top="t",e.TopRight="tr",e.Left="l",e.Center="c",e.Right="r",e.BottomLeft="bl",e.Bottom="b",e.BottomRight="br"}($f||($f={})),$f.TopLeft,$f.Top,$f.TopRight,$f.Left,$f.Center,$f.Right,$f.BottomLeft,$f.Bottom,$f.BottomRight,function(e){e.Top="t",e.Left="l",e.Right="r",e.Bottom="b",e.Follow="f"}(qf||(qf={})),qf.Top,qf.Left,qf.Right,qf.Bottom,qf.Follow,function(e){e.Default="default",e.Current="current",e.Manual="manual"}(Wf||(Wf={})),Wf.Default,Wf.Current,Wf.Manual,function(e){e.ChangeScene="scene",e.FollowLink="link"}(Yf||(Yf={})),Yf.ChangeScene,Yf.FollowLink,function(e){e.Popover="popover",e.Dialog="dialog"}(Xf||(Xf={})),Xf.Popover,Xf.Dialog,function(e){e.Top="t",e.Left="l",e.Right="r",e.Bottom="b"}(Gf||(Gf={})),Gf.Top,Gf.Left,Gf.Right,Gf.Bottom;const Qf={type:"FullscreenToggle",name:"Fullscreen Toggle",description:"Toggles fullscreen mode on/off",createInitialProperties:()=>({slot:Hf.BottomRight,color:"#fff",background:"#000000bb",radius:4})},Kf=e=>{const{api:t,color:n,background:r,radius:i}=e,[o,a]=f.useState(""),[s,u]=f.useState(!1);f.useLayoutEffect(()=>{const e=t.uiApi.applyStyle(`\n            display: flex;\n            flex-direction: row;\n            gap: 5px;\n            padding: 5px;\n            font-size: 0;\n            line-height: 1;\n            color: ${n||"transparent"};\n            background: ${r||"transparent"};\n            border-radius: ${i?i+"px":"0"};\n\n            & button {\n                all: unset;\n                display: block;\n                width: 22px;\n                height: 22px;\n                pointer-events: all;\n                cursor: pointer;\n            }\n\n            & svg {\n                display: block;\n                width: 100%;\n                height: 100%;    \n            }\n        `);if(e)return a(e),()=>{t.uiApi.removeStyle(e)}},[t,n,r,i]),f.useEffect(()=>{const e=[];return u(t.viewerApi.isFullscreen()),e.push(t.on("viewer:fullscreen:change",({isEnabled:e})=>{u(e)})),()=>{e.forEach(e=>e())}},[t]);return l.jsx("div",{className:Bf("hvr-control",o),children:l.jsx("button",{type:"button","aria-label":"Toggles fullscreen mode on and off",onClick:()=>{t.viewerApi.toggleFullscreen()},children:s?l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[l.jsx("path",{d:"M8 3v3a2 2 0 0 1-2 2H3"}),l.jsx("path",{d:"M21 8h-3a2 2 0 0 1-2-2V3"}),l.jsx("path",{d:"M3 16h3a2 2 0 0 1 2 2v3"}),l.jsx("path",{d:"M16 21v-3a2 2 0 0 1 2-2h3"})]}):l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[l.jsx("path",{d:"M8 3H5a2 2 0 0 0-2 2v3"}),l.jsx("path",{d:"M21 8V5a2 2 0 0 0-2-2h-3"}),l.jsx("path",{d:"M3 16v3a2 2 0 0 0 2 2h3"}),l.jsx("path",{d:"M16 21h3a2 2 0 0 0 2-2v-3"})]})})})};let Zf=e=>crypto.getRandomValues(new Uint8Array(e)),Jf=(e,t=21)=>((e,t,n)=>{let r=(2<<Math.log2(e.length-1))-1,i=-~(1.6*r*t/e.length);return(o=t)=>{let a="";for(;;){let t=n(i),s=0|i;for(;s--;)if(a+=e[t[s]&r]||"",a.length>=o)return a}}})(e,0|t,Zf);const ed=(e=10)=>Jf("0123456789abcdefghijklmnopqrstuvwxyz",e)(),td=e=>{const{hotspots:t,...n}=e;return{...n}},nd=(e,t)=>{const{...n}=e;return{...n,sceneId:t}},rd=happyvr_global;var id=(e=>(e.TourLogo="TourLogo",e.SceneTitle="SceneTitle",e.SceneNav="SceneNav",e.SceneList="SceneListNav",e.SceneThumbsNav="SceneThumbsNav",e.SceneCounter="SceneCounter",e.ZoomControls="ZoomControls",e.FullscreenToggle="FullscreenToggle",e))(id||{});const YalogicaHappyVRPlayer={async init(){const e={[$c.type]:{control:qc,meta:$c},[ih.type]:{control:oh,meta:ih},[yh.type]:{control:bh,meta:yh},[sp.type]:{control:lp,meta:sp},[sf.type]:{control:uf,meta:sf},[xf.type]:{control:Sf,meta:xf},[Df.type]:{control:Of,meta:Df},[Qf.type]:{control:Kf,meta:Qf}},t=t=>e[t],n=document.querySelectorAll(".happyvr-player");for(const i of n){const e=i.dataset.id;if(e)try{const n=await fetch(`${rd.api.url}/virtualtours/${e}`);if(!n.ok){console.error(`Failed to fetch tour ${e}:`,n.status);continue}const r=(await n.json()).data.item.config;if(!r.scenes){console.warn(`Virtual tour ${e} has no scenes`);continue}const o=ed();i.dataset.playerId=o;const a=t=>{const n=new URL(`tour_${e}/`,rd.data.upload_url).href,r=new URL(rd.data.icons_url).href;switch(t){case"assets":return n;case"icons":return r}},s=Ac.create(o,a);s.uiApi.setViewerContainerStyle(r.viewerStyle);for(const e of r.scenes){const t=td(e);if(s.sceneApi.add(t),e.hotspots)for(const n of e.hotspots){const e=nd(n,t.id);s.hotspotApi.add(e,t.id)}}if(r.controls)for(const e of r.controls){const n=t(e.type);n?s.controlApi.add(e,n.control):console.warn(`Failed to get control "${e.type}"`)}const l=r.firstScene&&s.sceneApi.has(r.firstScene)?r.firstScene:r.scenes[0].id;if(s.sceneApi.setDefault(l),r.autoLoad?.enabled){const e=setTimeout(()=>{s.sceneApi.show(l)},r.autoLoad.delay??0),t=s.on("scene:show",()=>{clearTimeout(e),t()})}r.greeting?.enabled?s.uiApi.setGreeting(r.greeting):i.addEventListener("click",()=>{s.sceneApi.show(l)},{once:!0}),s.viewerApi.setAutoRotate(r.autoRotate),s.attach(i)}catch(r){console.error(`Error loading tour ${e}:`,r)}}}};"undefined"!=typeof window&&(window.Yalogica=window.Yalogica||{},window.Yalogica.HappyVR=window.Yalogica.HappyVR||{},window.Yalogica.HappyVR.Player=YalogicaHappyVRPlayer),"undefined"!=typeof window&&window.addEventListener("load",()=>{YalogicaHappyVRPlayer.init()}),e.ControlType=id,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});
